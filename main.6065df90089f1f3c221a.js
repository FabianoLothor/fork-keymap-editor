/*! For license information please see main.6065df90089f1f3c221a.js.LICENSE.txt */
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{95130:function(e,t,r){const n=r(41536),o=r(1286),i=r(22834),a=r(24234),c=r(61443),l=r(43003),s=r(92914);function u(e,t){const r=Array.isArray(e)?e:Object.values(e);for(const e of r)for(const{match:r,...i}of t)o(e,r)&&n(e,i)}u(a,l),u(c,s);const p=i(s.flatMap((e=>e.includes||[])));for(const e of c){const t=a[e.compatible];n(e,{schema:t})}e.exports={behaviorSchemas:a,behaviorBindings:c,behaviorSchemaOverlays:l,standardBehaviorIncludeFiles:p}},62412:function(e,t,r){const{keyBy:n,times:o}=r(59553),{behaviorSchemas:i,behaviorBindings:a}=r(95130);function c(e){this.message=e,this.name="BehaviorResolutionError"}e.exports={resolveBehaviorParams:function(e){const t=n(a,"code"),r=n(e,"binding");function l(e,n=[]){if("params"in e)return e.params;const a=e.properties?.compatible?.parsed,s=i[a]?.properties?.bindings?.type,u=e.properties?.["#binding-cells"]?.parsed,p=e.properties?.bindings?.parsed||[];if(!u)return[];if("phandle-array"===s)return[];if(!p.length)return o(u,(()=>({type:"string",raw:!0})));const f=p.flatMap((o=>{if(!o.startsWith("&"))return[];if(n.includes(o))throw new c(`Circular reference in bindings: "${e.binding}" -> "${o}".`);if(n.length>3)throw new c("Reference depth limit exceeded.");const i=r[o]||t[o];if(i)try{return i.params=l(i,[...n,o]),i.params}catch(e){throw e instanceof c&&(i.error=e.message,i.params=[]),e}throw new c(`Unrecognized behavior binding "${o}".`)}));return o(u,(e=>f[e]||{type:"placeholder"}))}for(const t of e)if(t.properties.bindings)try{t.params=l(t)}catch(e){if(!(e instanceof c))throw e;console.error("Failed to resolve behavior parameters",e),t.error=e.message,t.params=o(t.bindingCells||0,(()=>({type:"raw"})))}}}},11872:function(e,t,r){"use strict";var n=r(67294),o=r(20745),i=r(93379),a=r.n(i),c=r(7795),l=r.n(c),s=r(90569),u=r.n(s),p=r(3565),f=r.n(p),d=r(19216),y=r.n(d),h=r(44589),m=r.n(h),b=r(51424),v={};v.styleTagTransform=m(),v.setAttributes=f(),v.insert=u().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=y(),a()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals,r(56831);var g=r(24350),j=r.n(g),w=r(39087),x={};x.styleTagTransform=m(),x.setAttributes=f(),x.insert=u().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=y(),a()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var O=(0,n.createContext)({keycodes:[],behaviours:[],behaviors:{},behaviorBinds:[],glyphs:[]}),S=(0,n.createContext)({getSearchTargets:null}),k=(0,n.createContext)({settings:null,openSettingsDialog:null}),E=r(96486);function P(e){return e&&["1","on","yes","true"].includes(e.toString().toLowerCase())}var A="https://zmk-keymap-editor.fly.dev",_=P("true"),T=P("false"),I=P("true");function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function D(){D=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==C(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function R(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,c,"next",e)}function c(e){R(i,n,o,a,c,"throw",e)}a(void 0)}))}}function L(){return M.apply(this,arguments)}function M(){return(M=N(D().mark((function e(){var t,n,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.t.bind(r,95130,23));case 2:return t=e.sent,n=t.behaviorSchemas,o=t.behaviorBindings,e.abrupt("return",{behaviors:n,bindings:o});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=N(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(779).then(r.t.bind(r,52779,23));case 2:return t=e.sent,n=t.keycodes,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=N(D().mark((function e(){var t,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(779).then(r.t.bind(r,52779,23));case 2:return t=e.sent,n=t.keycodeGlyphs,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return q.apply(this,arguments)}function q(){return(q=N(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/v2/local/keyboards"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return K.apply(this,arguments)}function K(){return(K=N(D().mark((function e(t){var r,n,o;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="v2/local/keyboards/".concat(encodeURIComponent(t)),n="".concat(A,"/").concat(r),e.next=4,fetch(n);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return F.apply(this,arguments)}function F(){return(F=N(D().mark((function e(t,r){var n,o,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="v2/local/keyboards/".concat(encodeURIComponent(t),"/keymap"),o="".concat(A,"/").concat(n),e.next=4,fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return i=e.sent,e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=V(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function V(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e){return(t=e,function(e){if(Array.isArray(e))return W(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||V(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){return e.length-t.length}))[0].replace(/^KC_/,"");var t}var J=/^(.+?)\((code)\)$/;function H(e){return e.reduce((function(e,t){var r,n=t.description,o=t.context,i=t.symbol,a=t.faIcon,c=t.names.filter((function(e){return!e.match(J)})),l=Q(c),s=t.names.map((function(e){return e.match(J)})).filter((function(e){return!!e}))[0],u={name:l,aliases:c,description:n,context:o,faIcon:a,symbol:i||l,params:[]},p=Y(c);try{for(p.s();!(r=p.n()).done;){var f=r.value;e.push(Object.assign({},u,{code:f,isModifier:!!s}))}}catch(e){p.e(e)}finally{p.f()}return s&&e.push(Object.assign({},u,{code:s[1],params:s[2].split(",")})),e}),[])}var X=r(45697),$=r.n(X),ee=r(85893);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}var re=["name","className","collection"];function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={brands:"fab",default:"fa",solid:"fas",round:"far"};function ae(e){var t=e.name,r=e.className,n=e.collection,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,re),i=ie[n],a="fa-".concat(t);return(0,ee.jsx)("span",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:[r,i,a].join(" ")},o))}ae.propTypes={name:$().string.isRequired,className:$().string,collection:$().string},ae.defaultProps={collection:"default",className:""};var ce=ae;function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}var se=["collection","icon","text","children","onClick"];function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e){var t=e.collection,r=e.icon,n=e.text,o=e.children,i=e.onClick,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,se);return(0,ee.jsxs)("button",pe(pe({onClick:i},a),{},{children:[(0,ee.jsx)(ce,{collection:t,name:r})," ",n||o]}))}var ye=r(73935);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==he(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===he(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ge={wrapper:{position:"absolute",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(104, 123, 162, 0.39)",zIndex:"50",display:"flex",justifyContent:"center",alignItems:"center"},centerOnly:{background:"transparent",pointerEvents:"none"},content:{display:"block",pointerEvents:"all"}};function je(e){var t=e.onDismiss,r=e.centerOnly,o=void 0!==r&&r,i=e.children,a=(0,n.useRef)(),c=(0,n.useCallback)((function(e){t&&a.current&&e.target.contains(a.current)&&t()}),[a,t]),l=o?be(be({},ge.wrapper),ge.centerOnly):ge.wrapper;return ye.createPortal((0,ee.jsx)("div",{onClick:c,style:l,children:(0,ee.jsx)("div",{ref:a,style:ge.content,children:i})}),document.getElementById("modal-root"))}je.propTypes={onDismiss:$().func};var we=je,xe=r(92127),Oe={};Oe.styleTagTransform=m(),Oe.setAttributes=f(),Oe.insert=u().bind(null,"head"),Oe.domAPI=l(),Oe.insertStyleElement=y(),a()(xe.Z,Oe);var Se=xe.Z&&xe.Z.locals?xe.Z.locals:void 0;function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}var Ee=["children"];function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ee);return(0,ee.jsxs)("div",Ae(Ae({},r),{},{className:Se.spinner,children:[(0,ee.jsx)("i",{className:"".concat(Se.icon," fa fa-spinner")}),t]}))}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Le(e){var t,r,o=e.load,i=e.delay,a=e.children,c=(t=(0,n.useState)({loaded:!1,delayed:!1,timeout:null}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1];return(0,n.useEffect)((function(){if(clearTimeout(l.timeout),o){var e=setTimeout((function(){l.loaded||s(De(De({},l),{},{timeout:null,delayed:!0}))}),i);s({loaded:!1,delayed:!1,timeout:e}),o().then((function(){clearTimeout(e),s(De(De({},l),{},{timeout:null,loaded:!0}))}))}}),[o]),l.loaded?a:l.delayed?(0,ee.jsx)(we,{children:(0,ee.jsx)(Te,{style:{color:"white"},children:(0,ee.jsx)("p",{children:"Waiting for API..."})})}):null}Le.propTypes={load:$().func.isRequired,inline:$().bool,delay:$().number},Le.defaultProps={inline:!1,delay:200};var Me=Le,ze=r(63105),Be=r.n(ze),Ge=r(27361),qe=r.n(Ge),Ue=r(41609),Ke=r.n(Ue),Ze=r(35161),Fe=r.n(Ze),Ye=["children"];function Ve(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qe=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ye).keymap,o=(0,n.useContext)(O),i=o.keycodes,a=o.behaviours,c=o.glyphs,l=(0,n.useContext)(k).settings,s=(0,n.useMemo)((function(){var e=window.navigator.platform.startsWith("Mac"),t=window.navigator.platform.startsWith("Win"),r=e?"mac":t&&"win";return function(e,t){return(0,E.compact)([e.basic,t.unicode&&e.unicode,"mac"===t.platform&&e.platforms.mac,"win"===t.platform&&e.platforms.win]).reduce((function(e,t){var r,n=Y(t);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.names.filter((function(e){return!e.match(J)})),a=Q(i);e[a]||(e[a]={}),e[a].symbol=e[a].symbol||o.symbol,e[a].faIcon=e[a].faIcon||o.faIcon}}catch(e){n.e(e)}finally{n.f()}return e}),{})}(c,{unicode:qe()(l,"unicodeGlyphs",!0),platform:"auto"!==qe()(l,"platformGlyphs","auto")?l.platformGlyphs:r})}),[c,l]),u=(0,n.useMemo)((function(){var e=[].concat(Ve(a),Ve((r.behaviors||[]).map((function(e){return{code:"&".concat(e.labels[0]),bind:"&".concat(e.labels[0]),name:e.name,description:'Custom behavior: "'.concat(e.properties.label.raw||e.name,'"'),params:e.params}}))),Ve(r.macros.map((function(e){return{code:"&".concat(e.identifier),name:e.identifier,description:"Custom macro",params:[]}}))));return e.indexed=j()(e,"code"),e.context={none:e.filter((function(e){return!e.context})),macros:Be()(e,{context:"macros"})},e.byContext={none:j()(e.context.none,"code"),macros:j()(e.context.macros,"code")},e}),[a,r.behaviors,r.macros]),p=(0,n.useMemo)((function(){return Ke()(r)?[]:r.layers.map((function(e,t){return{code:t,description:e.name||"Layer ".concat(t)}}))}),[r]),f=(0,n.useMemo)((function(){return{kc:i.indexed,code:i.indexed,mod:j()(Be()(i,"isModifier"),"code"),behaviours:u.indexed,behavioursByContext:u.byContext,layer:j()(p,"code")}}),[i,u,p]),d=(0,n.useMemo)((function(){return{behaviour:u,layer:p,mod:Be()(i,"isModifier"),code:i}}),[u,i,p]),y=(0,n.useMemo)((function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";return e.enum?e.enum.map((function(e){return{code:e}})):e.raw?[]:"command"===e?qe()(f.behavioursByContext,[r,t,"commands"],[]):(d[e]||console.error("cannot find target for",e),"behaviour"===e?d.behaviour.context[r]:d[e])}}),[d,f]),h=(0,n.useMemo)((function(){return[].concat(Ve(Fe()(i,"code")),Ve(Object.keys(r.defines||{})))}),[i,r.defines]);return(0,ee.jsx)(S.Provider,{value:{getSearchTargets:y,mergedGlyphs:s,sources:f,identifiers:h},children:t})},Je=r(56281),He={};He.styleTagTransform=m(),He.setAttributes=f(),He.insert=u().bind(null,"head"),He.domAPI=l(),He.insertStyleElement=y(),a()(Je.Z,He);var Xe=Je.Z&&Je.Z.locals?Je.Z.locals:void 0;function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}var et=["children","secondary","className"];function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$e(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$e(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){var t=e.children,r=e.secondary,n=e.className,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,et);return(0,ee.jsx)("button",rt(rt({className:[n,Xe.action,r&&Xe.secondary].join(" ")},o),{},{children:t}))}ot.defaultProps={className:""};var it=ot;function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===at(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ut(){var e=JSON.parse(localStorage.getItem("experimental-settings")||"{}");return{definitions:null,source:null,sourceOther:null,keyboard:null,_unmodifiedKeymap:null,saving:null,settingsVisible:null,commitDialogOpen:!1,theme:JSON.parse(localStorage.getItem("theme")),experimentalSettings:{unicodeGlyphs:(0,E.get)(e,"unicodeGlyphs",!0),platformGlyphs:(0,E.get)(e,"platformGlyphs","auto"),enableBehaviorEditing:(0,E.get)(e,"enableBehaviorEditing",!1)},latestBuild:null}}var pt=ut(),ft=r(98913),dt=r.n(ft);function yt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mt=function(e,t){return[].concat(yt(e.slice(0,t)),yt(e.slice(t+1)))},bt=function(e,t,r){return[].concat(yt(e.slice(0,t)),[r],yt(e.slice(t+1)))};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ot="&trans",St=function(){return{value:arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,params:[]}};function kt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.type,o=e.layers;switch(n){case"CREATE_LAYER":return wt(wt({},e),{},{layers:[].concat((t=o,function(e){if(Array.isArray(e))return gt(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{name:"Layer #".concat(o.length),bindings:dt()(r.bindingCount,(function(){return St()}))}])});case"RENAME_LAYER":return wt(wt({},e),{},{layers:bt(o,r.index,wt(wt({},o[r.index]),{},{name:r.name}))});case"DELETE_LAYER":return wt(wt({},e),{},{layers:mt(o,r.index)});case"UPDATE_KEY_BINDING":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:bt(o[r.layerIndex].bindings,r.bindIndex,r.binding)}))});case"UPDATE_SENSOR_BINDINGS":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{sensorBindings:bt(o[r.layerIndex].sensorBindings||[],r.sensorIndex,r.bindings)}))});case"REBIND_TRANSPARENT_TO_KEY_PRESS":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return wt(wt({},e),"&trans"===e.value?{value:"&kp",params:[]}:{})}))}))});case"REBIND_TRANSPARENT_TO_NONE":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return wt(wt({},e),"&trans"===e.value?{value:"&none",params:[]}:{})}))}))});case"REBIND_NONE_TO_KEYPRESS":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return wt(wt({},e),"&none"===e.value?{value:"&kp",params:[]}:{})}))}))});case"REBIND_NONE_TO_TRANSPARENT":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return wt(wt({},e),"&none"===e.value?{value:"&trans",params:[]}:{})}))}))});case"REBIND_EMPTY_KEYPRESS_TO_TRANSPARENT":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){var t;return wt(wt({},e),"&kp"!==e.value||null!==(t=e.params[0])&&void 0!==t&&t.value?{}:{value:"&trans",params:[]})}))}))});case"REBIND_EMPTY_KEYPRESS_TO_NONE":return wt(wt({},e),{},{layers:bt(o,r.layerIndex,wt(wt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){var t;return wt(wt({},e),"&kp"!==e.value||null!==(t=e.params[0])&&void 0!==t&&t.value?{}:{value:"&none",params:[]})}))}))});default:throw new Error("unsupported action",n)}}function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Et(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ct(e,t){var r=t.type;switch(r){case"UPDATE_COMBO_BINDING":return[].concat(Tt(e.slice(0,t.comboIndex)),[At(At({},e[t.comboIndex]),{},{bindings:t.bindings})],Tt(e.slice(t.comboIndex+1)));case"UPDATE_COMBO_KEYPOSITIONS":return[].concat(Tt(e.slice(0,t.comboIndex)),[At(At({},e[t.comboIndex]),{},{keyPositions:t.keyPositions})],Tt(e.slice(t.comboIndex+1)));case"CREATE_COMBO":return[].concat(Tt(e),[{identifier:"new_combo",keyPositions:[],bindings:[{value:"&trans",params:[]}]}]);case"RENAME_COMBO":return[].concat(Tt(e.slice(0,t.index)),[At(At({},e[t.index]),{},{identifier:t.name})],Tt(e.slice(t.index+1)));case"DELETE_COMBO":return[].concat(Tt(e.slice(0,t.index)),Tt(e.slice(t.index+1)));case"CUSTOMIZE_COMBO":return[].concat(Tt(e.slice(0,t.index)),[At(At({},e[t.index]),t.config)],Tt(e.slice(t.index+1)));default:throw new Error("unexpected action ".concat(r))}}function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Dt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bt(e,t){var r,n,o,i=t.type;switch(i){case"ADD_MACRO":return[].concat(Mt(e),[{identifier:"new_macro",label:"new_macro",bindings:[]}]);case"RENAME_MACRO":return bt(e,t.index,Nt(Nt({},e[t.index]),{},{identifier:t.name}));case"DELETE_MACRO":return mt(e,t.index);case"ADD_MACRO_CONTROL_BINDING":return bt(e,t.macroIndex,Nt(Nt({},e[t.macroIndex]),{},{bindings:[].concat(Mt(e[t.macroIndex].bindings),[{value:"&macro_press",params:[]}])}));case"ADD_MACRO_KEY_BINDING":return bt(e,t.macroIndex,Nt(Nt({},e[t.macroIndex]),{},{bindings:[].concat(Mt(e[t.macroIndex].bindings),[t.binding])}));case"UPDATE_MACRO_BINDING":return bt(e,t.macroIndex,Nt(Nt({},e[t.macroIndex]),{},{bindings:bt(e[t.macroIndex].bindings,t.bindIndex,t.binding)}));case"REORDER_MACRO_BINDING":return bt(e,t.macroIndex,Nt(Nt({},e[t.macroIndex]),{},{bindings:(r=e[t.macroIndex].bindings,n=t.bindIndex,o=t.targetIndex,-1===o?[].concat(yt(r.filter((function(e,t){return t!==n}))),[r[n]]):r.reduce((function(e,t,i){return i===o&&e.push(r[n]),i!==n&&e.push(t),e}),[]))}));case"DELETE_MACRO_BINDING":return bt(e,t.macroIndex,Nt(Nt({},e[t.macroIndex]),{},{bindings:mt(e[t.macroIndex].bindings,t.bindIndex)}));case"CUSTOMIZE_MACRO_OPTIONS":return bt(e,t.macroIndex,Nt(Nt({},e[t.macroIndex]),t.options));default:throw new Error('unexpected action "'.concat(i,'"'))}}function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Gt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Gt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yt(e,t){var r=t.type;switch(r){case"ADD_BEHAVIOR":return[].concat(Zt(e),[t.behavior||{name:"new-behavior",labels:["new-behavior"],propertiesRaw:{compatible:'"zmk,behavior-"',label:'"NEW_BEHAVIOR"'}}]);case"UPDATE_BEHAVIOR":return[].concat(Zt(e.slice(0,t.behaviorIndex)),[Ut(Ut({},e[t.behaviorIndex]),t.behavior)],Zt(e.slice(t.behaviorIndex+1)));case"DELETE_BEHAVIOR":return mt(e,t.behaviorIndex);default:throw new Error("unexpected action ".concat(r))}}function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=(0,n.createContext)();function er(e,t){var r=t.type,n=t.payload;switch(r){case"ROOT":return function(e,t){var r=t.type,n=e.keyboard;switch(r){case"INITIALIZE":return ut();case"DEFINITIONS_SET":return lt(lt({},e),{},{definitions:t.definitions});case"SELECT_KEYBOARD":var o=lt(lt({},t.keymap),{},{combos:t.keymap.combos||[],macros:t.keymap.macros||[]});return lt(lt({},e),{},{source:t.source,sourceOther:t.sourceOther,keyboard:lt(lt({},n),{},{layout:t.layout,keymap:o,sensors:t.sensors}),_unmodifiedKeymap:o});case"COMMIT_DIALOG_OPEN":return lt(lt({},e),{},{commitDialogOpen:!0});case"COMMIT_DIALOG_CLOSE":return lt(lt({},e),{},{commitDialogOpen:!1});case"GITHUB_BUILD_UPDATE":return lt(lt({},e),{},{latestBuild:t.build});case"KEYMAP_SAVE_START":return lt(lt({},e),{},{saving:!0});case"KEYMAP_SAVE_SUCCESS":return lt(lt({},e),{},{saving:!1,unsaved:!1,keyboard:lt(lt({},e.keyboard),{},{keymap:t.keymap||e.keyboard.keymap}),_unmodifiedKeymap:t.keymap||e.keyboard.keymap});case"SETTINGS_OPEN":return lt(lt({},e),{},{settingsVisible:!0});case"SETTINGS_CLOSE":return lt(lt({},e),{},{settingsVisible:!1});case"SETTINGS_UPDATE":return localStorage.setItem("experimental-settings",JSON.stringify(t.settings)),lt(lt({},e),{},{experimentalSettings:t.settings});case"CYCLE_THEME":var i=["light","dark","system"],a=i.indexOf(e.theme),c=i.at((a+1)%i.length);return localStorage.setItem("theme",'"'.concat(c,'"')),document.body.dataset.theme=c,lt(lt({},e),{},{theme:c});default:throw new Error("undefined action",r)}}(e,n);case"keyboard.keymap":return Ht(Ht({},e),{},{keyboard:Ht(Ht({},e.keyboard),{},{keymap:kt(e.keyboard.keymap,n)})});case"keyboard.keymap.behaviors":return Ht(Ht({},e),{},{keyboard:Ht(Ht({},e.keyboard),{},{keymap:Ht(Ht({},e.keyboard.keymap),{},{behaviors:Yt(e.keyboard.keymap.behaviors,n)})})});case"keyboard.keymap.combos":return Ht(Ht({},e),{},{keyboard:Ht(Ht({},e.keyboard),{},{keymap:Ht(Ht({},e.keyboard.keymap),{},{combos:Ct(e.keyboard.keymap.combos,n)})})});case"keyboard.keymap.macros":return Ht(Ht({},e),{},{keyboard:Ht(Ht({},e.keyboard),{},{keymap:Ht(Ht({},e.keyboard.keymap),{},{macros:Bt(e.keyboard.keymap.macros,n)})})});default:throw new Error("unexpected action",r)}}function tr(e){var t=e.children,r=Wt((0,n.useReducer)(er,pt),2),o=r[0],i=r[1];return(0,ee.jsx)($t.Provider,{value:[o,i],children:t})}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ROOT",t=Wt((0,n.useContext)($t),2),r=t[0],o=t[1];return["ROOT"===e?r:qe()(r,e),{ROOT:(0,n.useCallback)((function(e){return o({type:"ROOT",payload:e})}),[o]),"keyboard.keymap":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap",payload:e})}),[o]),"keyboard.keymap.behaviors":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap.behaviors",payload:e})}),[o]),"keyboard.keymap.combos":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap.combos",payload:e})}),[o]),"keyboard.keymap.macros":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap.macros",payload:e})}),[o])}[e]]}var nr=r(57557),or=r.n(nr),ir=r(62412),ar=r(49502),cr={};cr.styleTagTransform=m(),cr.setAttributes=f(),cr.insert=u().bind(null,"head"),cr.domAPI=l(),cr.insertStyleElement=y(),a()(ar.Z,cr);var lr=ar.Z&&ar.Z.locals?ar.Z.locals:void 0;function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}var ur=["dismissText","onDismiss","children"];function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==sr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yr(e){var t=e.dismissText,r=void 0===t?"Ok":t,n=e.onDismiss,o=e.children,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ur);return(0,ee.jsxs)("div",fr(fr({className:lr.dialog},i),{},{children:[o,r&&(0,ee.jsx)("button",{className:lr.button,onClick:n,children:r})]}))}var hr=r(34288),mr={};mr.styleTagTransform=m(),mr.setAttributes=f(),mr.insert=u().bind(null,"head"),mr.domAPI=l(),mr.insertStyleElement=y(),a()(hr.Z,mr);var br=hr.Z&&hr.Z.locals?hr.Z.locals:void 0;function vr(e){var t=e.property,r=e.schema;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("span",{className:br.propertyName,title:t,children:t}),r.deprecatedBy&&(0,ee.jsx)("sub",{className:br.propertyDeprecation,children:"(deprecated)"})]})}function gr(e){return function(e){if(Array.isArray(e))return jr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wr=65,xr=5;function Or(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{x:e.x*(wr+xr),y:e.y*(wr+xr),u:t.u*wr+xr*(t.u-1),h:t.h*wr+xr*(t.h-1),rx:(e.x-(r.x||e.x))*-(wr+xr),ry:(e.y-(r.y||e.y))*-(wr+xr),a:r.a||0}}function Sr(e,t,r){var n=Or(e,t,r),o=n.x,i=n.y,a=n.u,c=n.h,l=n.a,s=n.rx,u=n.ry;return[{x:0,y:0},{x:a,y:0},{x:a,y:c},{x:0,y:c}].map((function(e){var t=e.x-s,r=e.y-u,n=Math.PI*l/180;return{x:s+t*Math.cos(n)-r*Math.sin(n),y:u+r*Math.cos(n)+t*Math.sin(n)}})).map((function(e){return{x:e.x+o,y:e.y+i}}))}function kr(e){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.scale,n=void 0===r?1:r,o=t.overrides,i=void 0===o?{}:o,a=e.map((function(e){return function(e,t,r){var n=Sr(e,t,r),o=Fe()(n,"x"),i=Fe()(n,"y");return{min:{x:Math.min.apply(Math,gr(o)),y:Math.min.apply(Math,gr(i))},max:{x:Math.max.apply(Math,gr(o)),y:Math.max.apply(Math,gr(i))}}}({x:e.x,y:e.y},{u:e.u||e.w||1,h:e.h||1},{x:e.rx,y:e.ry,a:e.r})})).reduce((function(e,t){var r=e.x,n=e.y,o=t.max;return{x:Math.max(r,o.x),y:Math.max(n,o.y)}}),{x:0,y:0});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:"".concat(a.x*n,"px"),height:"".concat(a.y*n,"px"),margin:"0 auto",padding:"0 40px 40px"},i)}var _r=r(78718),Tr=r.n(_r),Ir=r(87995),Cr={};Cr.styleTagTransform=m(),Cr.setAttributes=f(),Cr.insert=u().bind(null,"head"),Cr.domAPI=l(),Cr.insertStyleElement=y(),a()(Ir.Z,Cr);var Dr=Ir.Z&&Ir.Z.locals?Ir.Z.locals:void 0;function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){Mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zr={x:$().number.isRequired,y:$().number.isRequired},Br={a:$().number,rx:$().number,ry:$().number},Gr={u:$().number,h:$().number},qr=$().shape(Lr(Lr(Lr({},zr),Br),Gr)),Ur=$().arrayOf(qr);function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}var Zr=["keyLayout","children"];function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){Vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wr=function(e){return Tr()(e,["x","y"])},Qr=function(e){return{x:e.rx,y:e.ry,a:e.r}},Jr=function(e){var t=e.w,r=void 0===t?1:t,n=e.u,o=void 0===n?r:n,i=e.h;return{u:o,h:void 0===i?1:i}};function Hr(e){var t=e.keyLayout,r=e.children,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Zr),o=Wr(t),i=Qr(t),a=Jr(t),c=function(e,t,r){var n=Or(e,t,r),o=n.x,i=n.y,a=n.u,c=n.h,l=n.a,s=n.rx,u=n.ry;return{top:"".concat(i,"px"),left:"".concat(o,"px"),width:"".concat(a,"px"),height:"".concat(c,"px"),transformOrigin:"".concat(s,"px ").concat(u,"px"),transform:"rotate(".concat(l||0,"deg)")}}(o,a,i);return(0,ee.jsx)("div",Yr(Yr({className:Dr.placer,style:c,"data-u":a.u,"data-h":a.h},n),{},{children:r}))}Hr.propTypes={scale:$().number,keyLayout:qr.isRequired},Hr.defaultProps={scale:1};var Xr=Hr;function $r(e){var t=e.layout,r=e.renderKey,n=e.scale;return(0,ee.jsx)("div",{style:{position:"relative",transform:"scale(".concat(n,")"),transformOrigin:0},children:t.map((function(e,t){return(0,ee.jsx)(Xr,{keyLayout:e,children:r({index:t,keyLayout:e})},t)}))})}$r.propTypes={layout:Ur.isRequired,renderKey:$().func.isRequired,scale:$().number},$r.defaultProps={scale:1};var en=$r,tn=r(39693),rn=r.n(tn),nn=r(2),on={};on.styleTagTransform=m(),on.setAttributes=f(),on.insert=u().bind(null,"head"),on.domAPI=l(),on.insertStyleElement=y(),a()(nn.Z,on);var an=nn.Z&&nn.Z.locals?nn.Z.locals:void 0;function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}var ln=["children","selectable","themeClass","className"];function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){pn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fn=function(e){var t=e.children,r=e.selectable,n=void 0===r||r,o=e.themeClass,i=void 0===o?void 0:o,a=e.className,c=void 0===a?"":a,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ln),s=rn()([an.key,n&&an.selectable,null!=i?i:an.keyDefaultTheme,c]).join(" ");return(0,ee.jsx)("div",un(un({className:s},l),{},{children:t}))},dn=r(74691),yn=r.n(dn),hn=r(56520),mn={};mn.styleTagTransform=m(),mn.setAttributes=f(),mn.insert=u().bind(null,"head"),mn.domAPI=l(),mn.insertStyleElement=y(),a()(hn.Z,mn);var bn=hn.Z&&hn.Z.locals?hn.Z.locals:void 0;function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){wn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?On(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sn(e){var t=e.onMouseDown,r=e.selecting,n=e.negate,o=e.rect,i=e.size,a=e.children;return(0,ee.jsxs)("div",{onMouseDown:t,className:rn()([bn.container,r&&bn.selecting]).join(" "),children:[a,r&&(0,ee.jsx)("div",{className:rn()([bn.overlay,n&&bn.negate]).join(" "),style:{position:"absolute",top:o[0][1]+"px",left:o[0][0]+"px",width:i[0]+"px",height:i[1]+"px"}})]})}function kn(e){var t=e.polygons,r=e.onSelect,o=xn((0,n.useState)({}),2),i=o[0],a=o[1],c=(0,n.useCallback)((function(e){var t=function(e){for(;(e=e.parentNode)&&("relative"!==e.style.position||!e.getBoundingClientRect().height););return e}(e.target).getBoundingClientRect(),r=e.clientX,n=e.clientY;e.preventDefault(),a({start:[r,n],intersecting:[],offset:[t.left,t.top],offsetRect:t})}),[a]),l=(0,n.useCallback)((function(e){i.selecting&&!e.repeat&&e.shiftKey&&a((function(e){return jn(jn({},e),{},{negate:!0})}))}),[i.selecting,a]),s=(0,n.useCallback)((function(e){!i.negate||e.repeat||e.shiftKey||a((function(e){return jn(jn({},e),{},{negate:!1})}))}),[i.negate,a]),u=(0,n.useCallback)((function(e){var r=i.start,n=i.offset,o=i.offsetRect;if(r){var c=e.shiftKey,l=e.altKey,s=e.clientX,u=e.clientY,p=xn(r,2),f=p[0],d=p[1],y=yn()(s,o.left,o.right),h=yn()(u,o.top,o.bottom),m=[[Math.min(y,f)-n[0],Math.min(h,d)-n[1]],[Math.max(y,f)-n[0],Math.max(h,d)-n[1]]],b=[Math.abs(y-f),Math.abs(h-d)];a((function(e){return jn(jn({},e),{},{negate:c||l,selecting:b[0]>3||b[1]>3,intersecting:En(m,t),rect:m,size:b})}))}}),[i,t,a]),p=(0,n.useCallback)((function(e){i.start&&(i.selecting&&r({negate:i.negate,intersecting:i.intersecting}),a({start:null,selecting:!1}))}),[r,i,a]);return(0,n.useEffect)((function(){return window.addEventListener("mouseup",p),window.addEventListener("mousemove",u),window.addEventListener("keydown",l),window.addEventListener("keyup",s),function(){window.removeEventListener("mouseup",p),window.removeEventListener("mousemove",u),window.removeEventListener("keydown",l),window.removeEventListener("keyup",s)}}),[p,u,l,s]),[jn(jn({},i),{},{onMouseDown:c,onMouseMove:u}),Sn]}function En(e,t){return t.reduce((function(t,r,n){return r.some((function(t){var r=t.x,n=t.y;return e[0][0]<r&&r<e[1][0]&&e[0][1]<n&&n<e[1][1]}))&&t.push(n),t}),[])}var Pn=r(49040),An={};An.styleTagTransform=m(),An.setAttributes=f(),An.insert=u().bind(null,"head"),An.domAPI=l(),An.insertStyleElement=y(),a()(Pn.Z,An);var _n=Pn.Z&&Pn.Z.locals?Pn.Z.locals:void 0,Tn=r(528),In={};In.styleTagTransform=m(),In.setAttributes=f(),In.insert=u().bind(null,"head"),In.domAPI=l(),In.insertStyleElement=y(),a()(Tn.Z,In);var Cn=Tn.Z&&Tn.Z.locals?Tn.Z.locals:void 0;function Dn(e){var t=e.children,r=e.className,n=void 0===r?"":r,o=[Cn.tip,n].join(" ");return(0,ee.jsxs)("div",{className:o,children:[(0,ee.jsx)(ce,{name:"hand-point-up"})," ",t]})}function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Nn(e){return function(e){if(Array.isArray(e))return Un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){zn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=qn(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function qn(e,t){if(e){if("string"==typeof e)return Un(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Un(e,t):void 0}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kn=.2,Zn=function(e){var t,r=function(e,t){return e.map((function(e){return Sr({x:e.x,y:e.y},{u:e.u||e.w||1,h:e.h||1},{x:e.rx,y:e.ry,a:e.r})}))}(e),n=Gn(r);try{for(n.s();!(t=n.n()).done;){var o,i=Gn(t.value);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.x*=Kn,a.y*=Kn}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return r};function Fn(e){var t,r,o,i,a,c,l,s=e.value,u=e.prompt,p=e.onUpdate,f=Bn(rr(),1)[0].keyboard.layout,d=(0,n.useMemo)((function(){return Zn(f)}),[f]),y=(0,n.useMemo)((function(){return Ar(f,{scale:Kn,overrides:{position:"relative",padding:0,margin:0}})}),[f]),h=(t=Bn((0,n.useReducer)((function(e,t){switch(t){case"INCREMENT_MANUAL_SELECTION":return Mn(Mn({},e),{},{manualSelectionCount:e.manualSelectionCount+1});case"INCREMENT_MANUAL_DESELECTION":return Mn(Mn({},e),{},{manualDeSelectionCount:e.manualDeSelectionCount+1});case"TRACK_DRAG_SELECTION":return Mn(Mn({},e),{},{usedDragSelection:!0});case"TRACK_DRAG_DESELECTION":return Mn(Mn({},e),{},{usedDragDeSelection:!0});default:throw new Error("Unrecognized action type in ".concat(t))}}),{manualSelectionCount:0,manualDeSelectionCount:0,usedDragSelection:!1,usedDragDeSelection:!1}),2),r=t[0],o=t[1],i=(0,n.useCallback)((function(){return o("INCREMENT_MANUAL_SELECTION")}),[o]),a=(0,n.useCallback)((function(){return o("INCREMENT_MANUAL_DESELECTION")}),[o]),c=(0,n.useCallback)((function(){return o("TRACK_DRAG_SELECTION")}),[o]),l=(0,n.useCallback)((function(){return o("TRACK_DRAG_DESELECTION")}),[o]),{showSelectTip:!r.usedDragSelection&&r.manualSelectionCount>3,showDeSelectTip:!r.usedDragDeSelection&&r.manualDeSelectionCount>3,actions:{manualSelection:i,manualDeSelection:a,dragSelection:c,dragDeSelection:l}}),m=h.showSelectTip,b=h.showDeSelectTip,v=h.actions,g=(0,n.useCallback)((function(e){var t=e.negate,r=e.intersecting;t?v.dragDeSelection():v.dragSelection(),p(t?s.filter((function(e){return!r.includes(e)})):[].concat(Nn(s),Nn(r)))}),[s,p,v]),j=(0,n.useCallback)((function(e){var t=s.includes(e);t?v.manualDeSelection():v.manualSelection(),p(t?s.filter((function(t){return t!==e})):[].concat(Nn(s),[e]))}),[s,p,v]),w=Bn(kn({onSelect:g,polygons:d}),2),x=w[0],O=w[1],S=x.selecting?x.intersecting:[],k=s,P=x.negate?[]:S.filter((function(e){return!k.includes(e)})),A=x.negate?S.filter((function(e){return k.includes(e)})):[];return(0,ee.jsx)("div",{style:y,children:(0,ee.jsxs)(O,Mn(Mn({},x),{},{children:[(0,ee.jsx)(en,{layout:f,bindings:[],scale:Kn,renderKey:function(e){var t=e.index;return(0,ee.jsx)(fn,{onClick:function(){return j(t)},themeClass:(0,E.compact)([_n.key,k.includes(t)&&_n.highlight,P.includes(t)&&_n.previewAdd,A.includes(t)&&_n.previewRemove]).join(" ")})}}),u&&(0,ee.jsx)("prompt",{}),m&&(0,ee.jsx)(Dn,{className:_n.tip,children:"Drag to select a region"}),b&&(0,ee.jsx)(Dn,{className:_n.tip,children:"Shift+Drag to de-select a region"})]}))})}Fn.propTypes={onUpdate:$().func.isRequired,value:$().arrayOf($().number).isRequired,prompt:$().node};var Yn=Fn,Vn=r(27470),Wn={};Wn.styleTagTransform=m(),Wn.setAttributes=f(),Wn.insert=u().bind(null,"head"),Wn.domAPI=l(),Wn.insertStyleElement=y(),a()(Vn.Z,Wn);var Qn=Vn.Z&&Vn.Z.locals?Vn.Z.locals:void 0;function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){$n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eo(e){var t=e.prop,r=e.schema,n=e.onUpdate;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(ce,{name:"code",title:"Raw property value"})," ",(0,ee.jsx)("input",{required:null==r?void 0:r.required,value:null==t?void 0:t.raw,onChange:function(e){return n(Xn(Xn({},t),{},{raw:e.target.value,useRaw:!0}))}})]})}function to(e){var t=e.schema;return(0,ee.jsx)("span",{className:[Qn.propertyValue,Qn.readonly].join(" "),children:t.const})}function ro(e){var t,r=e.prop,n=e.schema,o=e.onUpdate;return(0,ee.jsx)("input",{type:"text",className:Qn.propertyValue,value:null!==(t=null==r?void 0:r.parsed)&&void 0!==t?t:"",placeholder:n.default&&"Default: ".concat(n.default),onChange:function(e){o(Xn(Xn({},r),{},{parsed:e.target.value,useRaw:!1}))}})}function no(e){var t,r=e.prop,n=e.schema,o=e.onUpdate;return(0,ee.jsx)("input",{type:"number",className:Qn.propertyValue,value:null!==(t=null==r?void 0:r.parsed)&&void 0!==t?t:"",placeholder:n.default&&"Default: ".concat(n.default),onChange:function(e){o(Xn(Xn({},r),{},{parsed:Number(e.target.value),useRaw:!1}))}})}function oo(e){var t=e.prop,r=e.onUpdate;return(0,ee.jsx)("input",{type:"checkbox",className:Qn.propertyValue,checked:(null==t?void 0:t.parsed)||!1,onChange:function(e){r({parsed:!!e.target.checked,useRaw:!1})}})}var io=r(87360),ao=r.n(io),co=function(e,t){var r=(t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1))%e.length;return r<0?e.length+r:r},lo=r(47881),so={};so.styleTagTransform=m(),so.setAttributes=f(),so.insert=u().bind(null,"head"),so.domAPI=l(),so.insertStyleElement=y(),a()(lo.Z,so);var uo=lo.Z&&lo.Z.locals?lo.Z.locals:void 0;function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fo(e){var t,r,o=e.results,i=e.onSelect,a=e.renderResult,c=(t=(0,n.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return po(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?po(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1],u=(0,n.useRef)(null),p=(0,n.useCallback)((function(e,t){var r,n,i,a,c,p;if(0!==o.length)if(void 0!==t){var f=null!==l?co(o,l,t):e,d='li[data-result-index="'.concat(f,'"]');n=null===(r=u.current)||void 0===r?void 0:r.querySelector(d),i=n.offsetParent.scrollTop,a=n.offsetParent.offsetHeight,c=n.offsetTop,p=c+n.scrollHeight,(c<i||p>i+a)&&n.scrollIntoView(!1),s(f)}else s(e);else s(null)}),[o,l,s]),f=(0,n.useCallback)((function(){p(0,1)}),[p]),d=(0,n.useCallback)((function(){p(o.length-1,-1)}),[p,o]),y=(0,n.useCallback)((function(){i(o[l])}),[o,l,i]),h=(0,n.useCallback)((function(e){var t={ArrowDown:f,ArrowUp:d,Enter:y}[e.key];t&&(e.preventDefault(),e.stopPropagation(),t())}),[f,d,y]);return(0,n.useEffect)((function(){return document.body.addEventListener("keydown",h,!0),function(){return document.body.removeEventListener("keydown",h,!0)}}),[h]),(0,ee.jsx)("ul",{className:uo.results,ref:u,children:o.map((function(e,t){return(0,ee.jsx)("li",{className:l===t?uo.highlighted:"",title:e.description,"data-result-index":t,onClick:function(){return i(e)},onMouseOver:function(){return p(t)},children:a(e,t)},t)}))})}fo.propTypes={results:$().array.isRequired,onSelect:$().func.isRequired,renderResult:$().func.isRequired};var yo=fo;function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(r),!0).forEach((function(t){vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ho(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ho(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jo(e){e&&(e.focus(),e.select())}var wo=function(e){var t,r,o=e.choices,i=e.searchKey,a=e.renderResults,c=e.initialQuery,l=!o.length||o.length>10,s=(t=(0,n.useState)(c),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?go(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],p=s[1],f=(0,n.useMemo)((function(){if(!u||!l)return o;var e={key:i,limit:30};return ao().go(u,o,e).map((function(e){return bo(bo({},e.obj),{},{search:e})}))}),[l,u,o,i]),d=(0,n.useCallback)((function(e){p(e.target.value)}),[p]);return(0,ee.jsxs)(ee.Fragment,{children:[l&&(0,ee.jsxs)("div",{className:uo.searchWrapper,children:[(0,ee.jsx)("input",{ref:jo,type:"text",value:u,onChange:d}),(0,ee.jsx)(ce,{className:uo.searchIcon,name:"search"}),(0,ee.jsx)(ce,{className:uo.clearSearchIcon,name:"times",onClick:function(){return p("")}})]}),a(f)]})};wo.propTypes={choices:$().array.isRequired,searchKey:$().string.isRequired,initialQuery:$().string.isRequired,renderResults:$().func.isRequired},wo.defaultProps={initialQuery:""};var xo=wo;function Oo(e){var t=e.choices,r=e.prompt,o=e.onSelect,i=(0,n.useMemo)((function(){return t.map((function(e){return{value:e}}))}),[t]),a=(0,n.useCallback)((function(e){var t=e.search?(0,ee.jsx)("span",{dangerouslySetInnerHTML:{__html:ao().highlight(e.search)}}):(0,ee.jsx)("span",{children:e.value});return(0,ee.jsxs)(ee.Fragment,{children:[t,e.description&&(0,ee.jsx)("p",{className:uo.description,children:e.description})]})}),[]);return(0,ee.jsxs)("div",{className:uo.dialog,children:[(0,ee.jsx)("p",{children:r||"Select"}),(0,ee.jsx)(xo,{choices:i,initialQuery:"",searchKey:"value",renderResults:function(e){return e&&(0,ee.jsx)(yo,{results:e,onSelect:function(e){return o(e.value)},renderResult:a})}})]})}Oo.propTypes={choices:$().arrayOf($().stirng).isRequired,prompt:$().string,onSelect:$().func.isRequired};var So=Oo;function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Eo(e){return function(e){if(Array.isArray(e))return Ao(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Po(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){if(e){if("string"==typeof e)return Ao(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ao(e,t):void 0}}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(r),!0).forEach((function(t){Io(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Io(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ko(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ko(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Co(e){var t=e.prop,r=void 0===t?{}:t,o=e.schema,i=e.onUpdate,a=o.enum,c=r.parsed,l=(0,n.useCallback)((function(e){i(To(To({},r),{},{parsed:a[e.target.value],useRaw:!1}))}),[r,a,i]);return(0,ee.jsx)("select",{className:Qn.propertyValue,onChange:l,value:a.indexOf(c),children:a.map((function(e,t){return(0,ee.jsx)("option",{value:t,children:e},t)}))})}function Do(e){var t=e.prop,r=void 0===t?{}:t,o=e.schema,i=e.onUpdate,a=function(e){var t=(0,n.useContext)(O);return(0,n.useMemo)((function(){if(!e.choices)return[];if(Array.isArray(e.choices))return e.choices;if(!e.choices.$source)throw new Error("Expected schema.choices.$source");var r=t[e.choices.$source];return e.choices.$key?Fe()(r,e.choices.$key):r}),[t,e.choices])}(o),c=r.parsed,l=void 0===c?[]:c,s=(0,n.useCallback)((function(e){i(To(To({},r),{},{useRaw:!1,parsed:e}))}),[r,i]),u=a.length>20?No:Ro;return(0,ee.jsx)(u,{selected:l,choices:a,onUpdate:s})}function Ro(e){var t=e.selected,r=e.choices,o=e.onUpdate,i=(0,n.useCallback)((function(e){o(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Eo(t),[e]))}),[t,o]);return(0,ee.jsx)("ol",{className:Qn.propertyMultiSelect,children:r.map((function(e,r){return(0,ee.jsx)("li",{children:(0,ee.jsxs)("label",{children:[(0,ee.jsx)("input",{type:"checkbox",checked:t.includes(e),onChange:function(t){return i(e)}}),e]})},r)}))})}function No(e){var t,r,o=e.selected,i=e.choices,a=e.onUpdate,c=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||Po(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1],u=(0,n.useCallback)((function(e){a([].concat(Eo(o),[e])),s(!1)}),[s,o,a]),p=(0,n.useCallback)((function(e){a(o.filter((function(t){return t!==e})))}),[o,a]);return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("ul",{className:Qn.propertyMultiSelectChips,children:o.map((function(e,t){return(0,ee.jsx)("li",{children:(0,ee.jsxs)("span",{className:Qn.behaviorBind,children:[e," ",(0,ee.jsx)(ce,{name:"times",className:Qn.phandleRemove,onClick:function(){return p(e)}})]})},t)}))}),(0,ee.jsxs)(it,{secondary:!0,onClick:function(){return s(!0)},children:[(0,ee.jsx)(ce,{name:"plus"})," Add"]}),l&&(0,ee.jsx)(we,{onDismiss:function(){return s(!1)},children:(0,ee.jsx)(So,{choices:i,onSelect:u})})]})}function Lo(e){var t=(0,n.useContext)(S).getSearchTargets,r=e.param,o=e.prompt,i=e.onSelect,a=(0,n.useMemo)((function(){return t(r)}),[t,r]);return(0,ee.jsxs)("div",{className:uo.dialog,children:[(0,ee.jsx)("p",{children:o}),(0,ee.jsx)(yo,{results:a,onSelect:i,renderResult:function(e){return e.code}})]})}Lo.propTypes={value:$().any.isRequired,param:$().object.isRequired,prompt:$().string.isRequired,onSelect:$().func.isRequired},Lo.defaultProps={value:""};var Mo=Lo,zo=$().oneOfType([$().oneOf(["code","layer","mod","command"]),$().shape({enum:$().array,raw:$().bool,name:$().string.isRequired,type:$().string.isRequired})]),Bo=$().arrayOf(zo),Go=$().oneOfType([$().string,$().number]),qo=$().shape({params:Bo,code:Go.isRequired,description:$().string,symbol:$().string,faIcon:$().string}),Uo=$().shape({value:Go,source:qo,params:$().arrayOf($().shape({value:Go,source:qo,params:$().arrayOf($().object)}))}),Ko=Uo;function Zo(e){var t=e.prompt,r=e.searchKey,o=e.node,i=e.param,a=e.behaviour,c=e.context,l=e.onSelect,s=(0,n.useContext)(S).getSearchTargets,u=(0,n.useCallback)((function(e){var t=e.search?(0,ee.jsx)("span",{dangerouslySetInnerHTML:{__html:ao().highlight(e.search)}}):(0,ee.jsx)("span",{children:e.code});return(0,ee.jsxs)(ee.Fragment,{children:[t,e.description&&(0,ee.jsx)("p",{className:uo.description,children:e.description})]})}),[]),p=(0,n.useMemo)((function(){return s(i,a.code,c)}),[s,i,a,c]);return(0,ee.jsxs)("div",{className:uo.dialog,children:[(0,ee.jsx)("p",{children:t}),(0,ee.jsx)(xo,{choices:p,initialQuery:o.value||"",searchKey:r,renderResults:function(e){return e&&(0,ee.jsx)(yo,{results:e,onSelect:l,renderResult:u})}})]})}$().arrayOf(Uo),Zo.propTypes={node:Ko.isRequired,param:$().oneOfType([$().string,$().shape({enum:$().array,raw:$().bool,type:$().string})]).isRequired,prompt:$().string.isRequired,searchKey:$().string.isRequired,behaviour:$().object.isRequired,context:$().string.isRequired,onSelect:$().func.isRequired};var Fo=Zo,Yo=r(93565);function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wo(e){var t,r,o=e.node,i=e.onSelect,a=(t=(0,n.useState)({h:Number(o.params[0].value),s:Number(o.params[1].value)/100,l:Number(o.params[2].value)/100}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vo(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1],s=(0,n.useCallback)((function(e){var t=e.hsl;l(t)}),[l]),u=(0,n.useCallback)((function(){i([{value:Math.round(c.h)},{value:Math.round(100*c.s)},{value:Math.round(100*c.l)}])}),[c,i]);return(0,ee.jsxs)("div",{children:[(0,ee.jsx)("p",{children:"Select colour"}),(0,ee.jsx)(Yo.AI,{color:c,disableAlpha:!0,onChangeComplete:s}),(0,ee.jsx)("p",{style:{textAlign:"center"},children:(0,ee.jsx)(it,{onClick:u,children:"Confirm"})})]})}Wo.propTypes={value:$().any.isRequired,prompt:$().string.isRequired,param:$().oneOfType([$().shape({enum:$().array,raw:$().bool,type:$().string})]).isRequired,onSelect:$().func.isRequired},Wo.defaultProps={value:""};var Qo=Wo;function Jo(e,t){if(e){if("string"==typeof e)return Xo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xo(e,t):void 0}}function Ho(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $o(e){return e.params.length>0?[e].concat(function(e){if(Array.isArray(e))return Xo(e)}(t=$o(e.params[0]))||Ho(t)||Jo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):[e];var t}function ei(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e)||Ho(t)||Jo(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r.slice(1);return{value:n,params:0===o.length?[]:[ei(o)]}}var ti=r(14409),ri={};ri.styleTagTransform=m(),ri.setAttributes=f(),ri.insert=u().bind(null,"head"),ri.domAPI=l(),ri.insertStyleElement=y(),a()(ti.Z,ri);var ni=ti.Z&&ti.Z.locals?ti.Z.locals:void 0;function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ii=["LSHFT","LALT","LCTRL","LGUI"],ai=["RSHFT","RALT","RCTRL","RGUI"];function ci(e){var t=e.selected,r=e.row,n=e.onSelect;return(0,ee.jsx)("ul",{className:ni.modifiers,children:r.map((function(e,r){return(0,ee.jsx)("li",{className:t.includes(e)?ni.selected:"",onClick:function(){return n(e)},children:e},r)}))})}function li(e){var t=e.selected,r=e.onChange;function n(e){var n;r(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(function(e){if(Array.isArray(e))return oi(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oi(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))}return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(ci,{row:ii,selected:t,onSelect:n}),(0,ee.jsx)(ci,{row:ai,selected:t,onSelect:n})]})}li.propTypes={selected:$().arrayOf($().string)};var si=li;function ui(){return(0,ee.jsx)("span",{children:"⦸"})}function pi(e){return e&&"(".concat(e.code,") ").concat(e.description)}function fi(e){var t,r=e&&((null==e?void 0:e.symbol)||(null==e||null===(t=e.code)||void 0===t?void 0:t.toString()));return(null==e?void 0:e.faIcon)&&(0,ee.jsx)(ce,{name:e.faIcon})||r||(0,ee.jsx)(ui,{})}function di(e){var t=e.node,r=e.onSelect,o=t.value,i=t.source,a=pi(i),c=(0,n.useCallback)((function(e){e.stopPropagation(),r({node:t})}),[t,r]);return(0,ee.jsx)("span",{className:rn()([an.code,void 0===o&&an.missingValue]).join(" "),title:a,onClick:c,children:fi(i)})}di.propTypes={node:Ko.isRequired,onSelect:$().func.isRequired};var yi=di;function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mi=function(e){var t=e.node,r=e.onSelect,o=(0,n.useCallback)((function(e){e.stopPropagation(),r({node:t,type:"tree"})}),[t,r]),i=(0,n.useMemo)((function(){return Fe()($o(t),"source")}),[t]),a=(0,n.useMemo)((function(){return i.map(fi).map((function(e,t){return(0,ee.jsx)(n.Fragment,{children:e},t)})).reduce((function(e,t){return 0===e.length?[t]:[].concat(function(e){if(Array.isArray(e))return hi(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return hi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hi(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[" ",t]);var r}),[])}),[i]),c=(0,n.useMemo)((function(){return i.map(pi).join(" + ")}),[i]);return(0,ee.jsx)("span",{className:rn()([an.code,void 0===t.value&&an.missingValue]).join(" "),title:c,onClick:o,children:a})};function bi(e,t){var r=qe()(e,"[0]",{}),n=j()(t.commands,"code");return[].concat(t.params||[],"command"===qe()(t,"params[0]")?qe()(n[r.value],"additionalParams",[]):[])}function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){wi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Si(e){var t=[];return function e(r){var n=r.params||[];t.push(r),n.forEach(e)}(e),t}function ki(e,t){var r=xi(e.params,1)[0],n=qe()(r,"source.symbol",qe()(r,"value","")),o=!qe()(r,"source.faIcon")&&n.length>4,i=t.length>1,a=qe()(r,"params",[]).length>0;return o||i||a}function Ei(e){var t={layer:"Select layer",mod:"Select modifier",behaviour:"Select behaviour",command:"Select command",keycode:"Select key code"};return e.name?"Select ".concat(e.name):t[e]||t.keycode}function Pi(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=arguments.length>4?arguments[4]:void 0,i=e,a=qe()(r.behavioursByContext[n],i,{}),c=bi(t,a),l=j()(a.commands,"code");function s(e,t){if(!e)return{value:void 0,slot:t,params:[]};var n=e.value,i=e.params,a=function(e,t){var n;return"command"===t?l[e]:t.raw||t.enum||"placeholder"===t.type?{code:e}:null==r||null===(n=r[t])||void 0===n?void 0:n[e]}(n,t);return{value:n,slot:t,source:ji(ji({},a),{},{symbol:qe()(o,[null==a?void 0:a.name,"symbol"],null==a?void 0:a.symbol),faIcon:qe()(o,[null==a?void 0:a.name,"faIcon"],null==a?void 0:a.faIcon)}),params:qe()(a,"params",[]).map((function(e,t){return s(i[t],e)}))}}return{value:e,slot:"behaviour",source:a,params:c.map((function(e,r){return s(t[r],e)}))}}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||_i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){if(e){if("string"==typeof e)return Ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ti(e,t):void 0}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ii(e){var t=e.search?(0,ee.jsx)("span",{dangerouslySetInnerHTML:{__html:ao().highlight(e.search)}}):(0,ee.jsx)("span",{children:e.code});return(0,ee.jsxs)(ee.Fragment,{children:[t,(0,ee.jsx)("p",{className:uo.description,children:e.description})]})}function Ci(e){var t=e.node,r=e.onSelect,o=e.behaviour,i=(0,n.useContext)(S),a=i.getSearchTargets,c=i.sources,l=i.mergedGlyphs,s=(0,n.useMemo)((function(){return Fe()($o(t),"source")}),[t]),u=1===s.length?[]:s.slice(0,-1),p=Ai((0,n.useState)(Fe()(u,"name")),2),f=p[0],d=p[1],y=Ai((0,n.useState)(s.at(-1)),2),h=y[0],m=y[1],b=(0,n.useMemo)((function(){return a("code",o.code).filter((function(e){return 0===e.params.length}))}),[a,o]),v=Pi("&kp",[{value:null==h?void 0:h.code,params:null==h?void 0:h.params}],c,void 0,l);return(0,ee.jsxs)("div",{className:uo.dialog,children:[(0,ee.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,ee.jsxs)("div",{children:[(0,ee.jsx)("p",{children:"Keycode"}),(0,ee.jsx)(fn,{className:ni.previewKeycode,selectable:!1,children:(0,ee.jsx)(mi,{node:v.params[0],onSelect:function(){}})})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("p",{children:"Modifiers"}),(0,ee.jsx)(si,{selected:f,onChange:d})]})]}),(0,ee.jsx)("p",{children:"Available Keycodes"}),(0,ee.jsx)(xo,{choices:b,initialQuery:null==h?void 0:h.code,searchKey:"code",renderResults:function(e){return e&&(0,ee.jsx)(yo,{results:e,onSelect:m,renderResult:Ii})}}),(0,ee.jsxs)("p",{style:{textAlign:"center"},children:[(0,ee.jsx)(it,{onClick:function(){var e,t={LSHFT:"LS",LCTRL:"LC",LALT:"LA",LGUI:"LG",RSHFT:"RS",RCTRL:"RC",RALT:"RA",RGUI:"RG"},n=f.map((function(e){return t[e]})),o=ei(rn()([].concat(function(e){if(Array.isArray(e))return Ti(e)}(e=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[null==h?void 0:h.code])));r(o)},children:"Confirm"}),(0,ee.jsx)(it,{onClick:function(){r(t)},secondary:!0,children:"Cancel"})]})]})}Ci.propTypes={node:Ko.isRequired,param:$().oneOfType([$().string,$().shape({enum:$().array,raw:$().bool,type:$().string})]).isRequired,prompt:$().string.isRequired,searchKey:$().string.isRequired,behaviour:$().object.isRequired,context:$().string.isRequired,onSelect:$().func.isRequired};var Di=Ci;function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ni(e){e&&(e.focus(),e.select())}function Li(e){var t,r,o=e.value,i=e.prompt,a=e.param,c=e.onSelect,l=(t=(0,n.useState)(o),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ri(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=l[1],p=(0,n.useCallback)((function(e){"Enter"===e.key&&c({code:s})}),[s,c]),f=(0,n.useCallback)((function(e){var t=e.target.value;"number"===a.type&&(t=Number(t),Number.isNaN(t))||u(t)}),[a,u]);return(0,ee.jsxs)("div",{className:uo.dialog,children:[(0,ee.jsx)("p",{children:i}),(0,ee.jsx)("input",{ref:Ni,type:"text",value:s,onChange:f,onKeyDown:p})]})}Li.propTypes={value:$().any.isRequired,prompt:$().string.isRequired,param:$().oneOfType([$().shape({enum:$().array,raw:$().bool,type:$().string})]).isRequired,onSelect:$().func.isRequired},Li.defaultProps={value:""};var Mi=Li;function zi(e){var t=(0,n.useContext)(S).getSearchTargets,r=e.onSelect,o=(0,n.useMemo)((function(){return t("layer")}),[t]);return(0,ee.jsxs)("div",{className:uo.dialog,children:[(0,ee.jsx)("p",{children:"Select layer"}),(0,ee.jsx)(yo,{results:o,onSelect:r,renderResult:function(e){return(0,ee.jsxs)(ee.Fragment,{children:[e.code,e.description&&(0,ee.jsx)("p",{className:uo.description,children:e.description})]})}})]})}zi.propTypes={value:$().string.isRequired,behaviour:$().object.isRequired,onSelect:$().func.isRequired},zi.defaultProps={value:""};var Bi=zi;function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(r),!0).forEach((function(t){Ki(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ki(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Gi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Gi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zi(e){var t=e.node,r=e.type,o=e.onCancel,i=e.onSelect,a=(0,E.pick)(e,["node","value","prompt","param","node","behaviour","context","searchKey"]),c=(0,n.useMemo)((function(){var e;return"params"===r&&"hsb-color-picker"===(null===(e=t.source)||void 0===e?void 0:e.helper)?Qo:t.slot.raw||"placeholder"===t.slot.type?Mi:t.slot.enum?Mo:"code"===t.slot?Di:"layer"===t.slot?Bi:Fo}),[t,r]);return(0,ee.jsx)(we,{onDismiss:o,children:(0,ee.jsx)(c,Ui(Ui({},a),{},{param:t.slot,onSelect:i}))})}Zi.propTypes={type:$().string.isRequired,node:Ko.isRequired,behaviour:$().object.isRequired,prompt:$().string.isRequired,searchKey:$().string.isRequired,searchThreshold:$().number,onCancel:$().func.isRequired,onSelect:$().func.isRequired},Zi.defaultProps={type:"value",value:"",freeForm:!1,searchThreshold:10};var Fi=Zi;function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Vi(e){return function(e){if(Array.isArray(e))return Xi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(r),!0).forEach((function(t){Ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ji(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Yi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hi(e,t){if(e){if("string"==typeof e)return Xi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xi(e,t):void 0}}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $i(e){var t,r,o=e.prop,i=void 0===o?{}:o,a=e.schema,c=void 0===a?{}:a,l=e.onUpdate,s=i.parsed,u=void 0===s?[]:s,p=c.length,f=(t=(0,n.useState)(null),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||Hi(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],y=f[1],h=(0,n.useCallback)((function(){l(Qi(Qi({},i),{},{useRaw:!1,parsed:[].concat(Vi(u),[""])})),y(u.length)}),[i,u,l,y]),m=(0,n.useCallback)((function(e){l(Qi(Qi({},i),{},{useRaw:!1,parsed:bt(u,d,e.code)})),y(null)}),[i,u,d,l]),b=(0,n.useCallback)((function(e){l(Qi(Qi({},i),{},{useRaw:!1,parsed:mt(u,e)}))}),[i,u,l]);return(0,ee.jsxs)("div",{children:[(0,ee.jsx)("ol",{className:(0,E.compact)([Qn.propertyPhandleSelect,1===p&&Qn.propertyPhandleSingleton]).join(" "),children:u.map((function(e,t){return(0,ee.jsx)("li",{children:(0,ee.jsxs)("span",{className:Qn.behaviorBind,onClick:function(){return y(t)},children:[e,1!==p&&(0,ee.jsx)(ce,{name:"times",className:Qn.phandleRemove,onClick:function(e){e.stopPropagation(),b(t)}})]})},t)}))}),null!==d&&(0,ee.jsx)(Fi,{node:{value:u[d],params:[],slot:"behaviour"},type:"value",context:"none",behaviour:{code:u[d]},prompt:"Select Behavior",searchKey:"code",onSelect:m,onCancel:function(){return y(null)}}),p&&u.length<p&&(0,ee.jsxs)(it,{secondary:!0,onClick:h,children:[(0,ee.jsx)(ce,{name:"plus"})," Add Behavior"]})]})}var ea=r(50361),ta=r.n(ea);function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach((function(t){ia(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ia(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ra(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ca={display:"inline-block",cursor:"pointer",verticalAlign:"text-top",border:"0.75px solid var(--key-color-base)",borderRadius:"3px"},la={display:"flex",justifyContent:"center",alignItems:"center",width:"10px",height:"10px",margin:"1px",borderRadius:"2px"},sa=function(e){var t,r,o=e.node,i=e.onSelect,a=(t=o.params,r=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aa(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1],s=a[2],u=(0,n.useCallback)((function(){i({node:o,type:"params"})}),[o,i]),p=(0,n.useMemo)((function(){return[c,l,s].some((function(e){return void 0===e.value}))}),[c,l,s]),f="hsl(".concat(c.value,", ").concat(l.value,"%, ").concat(s.value,"%)");return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(yi,{node:o,onSelect:i}),p?(0,ee.jsx)(yi,{node:{},onSelect:u}):(0,ee.jsx)("div",{onClick:u,style:ca,children:(0,ee.jsx)("div",{className:p?an.missingValue:null,style:oa(oa({},la),{},{backgroundColor:f})})})]})};function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(r),!0).forEach((function(t){da(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function da(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ua(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ua(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ya(e){var t=e.node,r=e.onSelect;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(yi,{node:t,onSelect:r}),qe()(t,"source.params.length")>0?(0,ee.jsx)(ma,{slots:t.source.params,params:t.params,onSelect:r}):null]})}function ha(e){var t=e.node,r=e.onSelect,o=e.slot,i=(0,n.useMemo)((function(){var e;return"hsb-color-picker"===(null===(e=t.source)||void 0===e?void 0:e.helper)?sa:"code"===o?mi:ya}),[t,o]);return(0,ee.jsx)("span",{className:an.param,children:(0,ee.jsx)(i,{node:t,onSelect:r})})}function ma(e){var t=e.slots,r=e.params,n=e.onSelect,o=e.root,i=e.wrapperProps;return(0,ee.jsx)("span",fa(fa({className:an.params,"data-is-root":!!o,"data-param-count":r.length},i),{},{children:t.map((function(e,t){return(0,ee.jsx)(ha,{slot:e,node:r[t],onSelect:n},t)}))}))}ma.propTypes={slots:$().arrayOf(zo).isRequired,params:$().arrayOf(Ko).isRequired,source:qo,onSelect:$().func.isRequired};var ba=ma;function va(e,t){if(e){if("string"==typeof e)return ga(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ga(e,t):void 0}}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ja(e){var t,r,o,i,a,c,l=(0,n.useContext)(S),s=l.sources,u=l.mergedGlyphs,p=e.context,f=void 0===p?"none":p,d=e.hideBehaviour,y=e.value,h=e.params,m=e.onUpdate,b=(a=(0,n.useState)(null),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(a,c)||va(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=b[0],g=b[1],j=y,w=qe()(s.behavioursByContext[f],j,{}),x=bi(h,w),O=Pi(y,h,s,f,u),k=Si(O),P=function(e){if(!e[0].source.code)return!0;var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=va(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var n,o=t.value;if(((null===(n=o.source)||void 0===n?void 0:n.params)||[]).length>o.params.length)return!0;if(o.params.some((function(e){return void 0===e.value||""===e.value||void 0===e.source})))return!0}}catch(e){r.e(e)}finally{r.f()}}(k);function A(e){var t=e.node,r=e.type;g({node:t,type:void 0===r?"value":r,nodeIndex:k.indexOf(t)})}return(0,ee.jsxs)(ee.Fragment,{children:[w&&!d?(0,ee.jsx)("span",{className:(0,E.compact)([an["behaviour-binding"],!w.code&&an.missingValue]).join(" "),onClick:function(){return A({node:O})},children:w.code||"⦸"}):null,P&&(0,ee.jsx)(ce,{name:"warning",className:an.missing,title:"Binding has missing value(s)"}),(0,ee.jsx)(ba,{root:!0,slots:x,params:O.params,onSelect:A,wrapperProps:{"data-simple":(t=O,r=xi(t.params,1)[0],o=qe()(r,"source.symbol",qe()(r,"source.code","")),i=!!qe()(r,"source.faIcon")||1===o.length,1===t.params.length&&i),"data-long":ki(O,x)}}),v&&(0,ee.jsx)(Fi,{node:v.node,type:v.type,behaviour:w,context:f,prompt:Ei(v.node.slot),searchKey:"code",onSelect:function(e){if("tree"===v.type)return function(e){var t=e.value,r=e.params,n=v.nodeIndex,o=ta()(O),i=Si(o),a=i[n];a.value=t,a.params=r,i.forEach((function(e){delete e.source})),g(null),m(Tr()(o,["value","params"]))}(e);if("params"===v.type)return function(e){var t=v.nodeIndex,r=ta()(O),n=Si(r);n[t].params=e,n.forEach((function(e){delete e.source})),g(null),m(Tr()(r,["value","params"]))}(e);var t=v.node,r=v.nodeIndex,n=ta()(O),o=Si(n),i=o[r];if(t.slot.raw)"number"===t.slot.type&&(e.code=Number(e.code));else if("command"===t.slot){var a,c,l,s=(null===(a=i.source)||void 0===a||null===(c=a.additionalParams)||void 0===c?void 0:c.length)||0;if(((null===(l=e.additionalParams)||void 0===l?void 0:l.length)||0)<s){var u=o[0];u.params.splice(1,u.params.length-1),o.splice(2,o.length-1)}}i.value=e.code,i.params=i.params.reduce((function(t,r,n){var o;return t.length===n&&i.source.params[n]===(null==e||null===(o=e.params)||void 0===o?void 0:o[n])&&t.push(r),t}),[]),o.forEach((function(e){delete e.source})),g(null),m(Tr()(n,["value","params"]))},onCancel:function(){return g(null)}})]})}ja.propTypes={context:$().string,hideBehaviour:$().bool.isRequired,value:Go.isRequired,params:$().arrayOf(Uo),onUpdate:$().func.isRequired},ja.defaultProps={hideBehaviour:!1};var wa=ja;function xa(e){var t=e.context,r=e.value,n=e.params,o=e.onUpdate;return(0,ee.jsx)(fn,{children:(0,ee.jsx)(wa,{context:t,value:r,params:n,onUpdate:o})})}xa.propTypes={label:$().string,value:Go.isRequired,params:$().arrayOf(Uo),onUpdate:$().func.isRequired};var Oa=xa;function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Sa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _a(e){var t=e.prop,r=void 0===t?{}:t,o=e.onUpdate,i=r.parsed,a=void 0===i?[]:i,c=(0,n.useCallback)((function(){var e;o(Pa(Pa({},r),{},{useRaw:!1,parsed:[].concat((e=a,function(e){if(Array.isArray(e))return ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ka(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ka(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{value:"",params:[]}])}))}),[r,a,o]),l=(0,n.useCallback)((function(e,t){o(Pa(Pa({},r),{},{useRaw:!1,parsed:bt(a,t,e)}))}),[r,a,o]),s=(0,n.useCallback)((function(e){o(Pa(Pa({},r),{},{useRaw:!1,parsed:mt(a,e)}))}),[r,a,o]);return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("ol",{className:Qn.propertyBindingsValue,children:a.map((function(e,t){return(0,ee.jsx)("li",{children:(0,ee.jsxs)(fn,{children:[(0,ee.jsx)(Oa,{context:"none",value:e.value,params:e.params,onUpdate:function(e){return l(e,t)}}),(0,ee.jsx)("div",{className:Qn.actions,children:(0,ee.jsx)(ce,{name:"trash",className:Qn.deleteBind,onClick:function(e){e.stopPropagation(),s(t)}})})]})},t)}))}),(0,ee.jsxs)(it,{secondary:!0,onClick:c,children:[(0,ee.jsx)(ce,{name:"plus"})," Add binding"]})]})}function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(r),!0).forEach((function(t){Da(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ia(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Da(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ta(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ta(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ra(e){var t=e.schema,r=void 0===t?{}:t,n=r.type;if("const"in r)return(0,ee.jsx)(to,Ca({},e));if("enum"in r)return(0,ee.jsx)(Co,Ca({},e));if("key-position-picker"===r.helper){var o=e.prop,i=void 0===o?{}:o,a=e.onUpdate;return(0,ee.jsx)(Yn,{value:i.parsed||[],onUpdate:function(e){a(Ca(Ca({},i),{},{useRaw:!1,parsed:e}))}})}if(r.choices)return(0,ee.jsx)(Do,Ca({},e));switch(n){case"string":return(0,ee.jsx)(ro,Ca({},e));case"int":return(0,ee.jsx)(no,Ca({},e));case"boolean":return(0,ee.jsx)(oo,Ca({},e));case"phandle":case"phandles":return(0,ee.jsx)($i,Ca({},e));case"phandle-array":return(0,ee.jsx)(_a,Ca({},e));default:return(0,ee.jsx)(eo,Ca({},e))}}Ra.propTypes={schema:$().shape({type:$().oneOf(["string","boolean","int","array","phandle","phandles","phandle-array","integer-union"]),required:$().bool,description:$().string,default:$().any,const:$().any,helper:$().any}),prop:$().shape({parsed:$().any,raw:$().string}),onUpdate:$().func.isRequired};var Na=Ra;function La(e){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(e)}function Ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(r),!0).forEach((function(t){Ba(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ba(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==La(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==La(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===La(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qa=function(e){var t,r,o,i=e.node,a=e.onUpdate,c=e.onCancel,l=(0,n.useContext)(O).behaviors,s=(r=(0,n.useState)(i),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Ga(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ga(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],p=s[1],f=l[null===(t=i.properties.compatible)||void 0===t?void 0:t.parsed],d=function(e){return function(t){p(za(za({},u),{},{properties:za(za({},u.properties),{},Ba({},e,t))}))}},y=(0,n.useCallback)((function(){(0,ir.resolveBehaviorParams)([u]),a(u)}),[u,a]),h=(null==f?void 0:f.properties)||{},m=(f?Object.keys(h):Object.keys(u.properties)).filter((function(e){var t;return!(null!==(t=h[e])&&void 0!==t&&t.deprecatedBy&&!u.properties[e])}));return(0,ee.jsx)(we,{onDismiss:c,children:(0,ee.jsx)(yr,{dismissText:!1,children:(0,ee.jsxs)("div",{style:{maxHeight:"80vh",overflow:"auto"},children:[(0,ee.jsxs)("h2",{children:["Edit Behavior: ",i.name," ",(0,ee.jsxs)("code",{children:["(&",i.labels[0],")"]})]}),(0,ee.jsx)("table",{className:br.editorForm,children:(0,ee.jsxs)("tbody",{children:[(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{children:"Node name"}),(0,ee.jsx)("td",{children:(0,ee.jsx)("input",{value:u.name,onChange:function(e){return p(za(za({},u),{},{name:e.target.value}))}})})]}),(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{children:"Labels"}),(0,ee.jsx)("td",{children:(0,ee.jsx)("input",{type:"text",value:u.labels.join(", "),onChange:function(e){return p(za(za({},u),{},{labels:e.target.value.split(",").map((function(e){return e.trim()}))}))}})})]})]})}),(0,ee.jsx)("h3",{children:"Configuration"}),(0,ee.jsxs)("table",{className:br.editorForm,children:[(0,ee.jsx)("thead",{children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{children:"Property"}),(0,ee.jsx)("th",{children:"Value"}),(0,ee.jsx)("th",{})]})}),(0,ee.jsx)("tbody",{children:m.map((function(e,t){var r,n;return(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("td",{className:br.propertyName,children:e in h?(0,ee.jsx)(vr,{property:e,schema:h[e]}):(0,ee.jsx)("input",{value:e,onChange:(n=e,function(e){p(za(za({},u),{},{properties:Object.keys(u.properties).reduce((function(t,r){var o=u.properties[r];return r===n&&(r=e.target.value),t[r]=o,t}),{})}))})})}),(0,ee.jsx)("td",{className:br.propertyValue,children:(0,ee.jsx)(Na,{name:e,prop:u.properties[e],schema:h[e],onUpdate:d(e)})}),(0,ee.jsx)("td",{children:u.properties[e]&&!(null!==(r=h[e])&&void 0!==r&&r.required)&&(0,ee.jsx)(ce,{name:"trash-can",className:br.action,onClick:function(){return function(e){p(za(za({},u),{},{properties:or()(u.properties,e)}))}(e)}})})]},t)}))})]}),(0,ee.jsxs)("div",{style:{textAlign:"center"},children:[(0,ee.jsx)(it,{onClick:y,children:"Ok"}),(0,ee.jsx)(it,{onClick:c,secondary:!0,children:"Cancel"})]})]})})})};function Ua(e){var t=e.onDismiss;return(0,ee.jsx)(we,{onDismiss:t,children:(0,ee.jsxs)(yr,{onDismiss:t,style:{maxHeight:"80vh",overflow:"scroll"},children:[(0,ee.jsx)("h2",{children:"Behavior Editing Beta Test"}),(0,ee.jsx)("p",{children:"Welcome to the behavior editing beta!"}),(0,ee.jsx)("p",{children:"This feature has been a long time coming, and while it should enable a lot of advanced ZMK features through the app it is still a work in progress. Some features are still missing so the use experience is a little rough, and there may be errors as well."}),(0,ee.jsx)("p",{children:"Please note that there are a number of known limitations as well:"}),(0,ee.jsxs)("ul",{children:[(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"Dynamic parsing:"})," currently the backend will parse behaviors from your ",(0,ee.jsx)("code",{children:".keymap"})," file and attempt to resolve parameters to the correct type. Changes to a behaviors bindings (for example, changing a hold-tap from ",(0,ee.jsx)("code",{children:"&kp"})," to ",(0,ee.jsx)("code",{children:"&mo"}),") will not currently update it. For now you can work around this by commiting changes first."]}),(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"Raw editing:"})," for behavior properties that can't be mapped to suitable input components, or mapped components that are not functioning correctly, the goal is to allow a user to fall back to editing raw devicetree values. This isn't in place yet."]}),(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"Optional properties:"})," behavior schemas specify which properties are required, and when there is a default value that will be used in the absence of a custom one, but currently it is not possible to delete a property that's no longer needed, or to use the",(0,ee.jsx)("code",{children:"/delete-property/"})," syntax to override a boolean property set in the default implementation."]}),(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"Behavior re-configuration:"})," so far the editor only allows for custom defined behaviors with their own bind labels (like a custom hold tap implementation) and not configuration of existing behaviors (like changing featurs of ",(0,ee.jsx)("code",{children:"&mt"}),")."]})]})]})})}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Za=["zmk,behavior-hold-tap","zmk,behavior-mod-morph","zmk,behavior-tap-dance","zmk,behavior-sticky-key","zmk,behavior-caps-word"];function Fa(e){var t,r,o=e.onUpdate,i=e.onCancel,a=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ka(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ka(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{dismissText:null,children:[(0,ee.jsx)("h3",{children:"Add new behavior"}),(0,ee.jsxs)("label",{children:["Type ",(0,ee.jsxs)("select",{required:!0,value:c,onChange:function(e){return l(e.target.value)},children:[(0,ee.jsx)("option",{value:"",disabled:!0,children:"Select a behavior type"}),Za.map((function(e,t){return(0,ee.jsx)("option",{value:e,children:e},t)}))]})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)(it,{disabled:!c,onClick:function(){return o(c)},children:"Create"}),(0,ee.jsx)(it,{onClick:i,secondary:!0,children:"Cancel"})]})]})})}Fa.propTypes={onUpdate:$().func.isRequired,onCancel:$().func.isRequired};var Ya=Fa,Va=r(95130);function Wa(e){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(e)}function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){Ha(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ha(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Wa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xa(e,t){var r=t.name,n=t.labels,o=t.label,i=Va.behaviorSchemas[e];return{name:r,labels:n,properties:Ja({compatible:{raw:'"'.concat(e,'"'),parsed:e},label:{raw:'"'.concat(o,'"'),parsed:o}},Object.keys(i.properties).reduce((function(e,t){var r=i.properties[t];return"const"in r&&(e[t]={parsed:r.const,raw:r.const.toString()}),e}),{}))}}function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach((function(t){rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ic=function(){var e=nc(rr(),2),t=e[0].experimentalSettings,r=e[1],o=nc((0,n.useState)(null),2),i=o[0],a=o[1],c=nc((0,n.useState)(!1),2),l=c[0],s=c[1],u=nc((0,n.useState)(!1),2),p=u[0],f=u[1],d=nc(rr("keyboard.keymap.behaviors"),2),y=d[0],h=d[1],m=(0,n.useCallback)((function(){s(!0)}),[s]),b=(0,n.useCallback)((function(e){s(!1),h({type:"ADD_BEHAVIOR",behavior:Xa(e,{name:"new-behavior",labels:["new_behavior"],label:"NEW_BEHAVIOR"})}),setTimeout((function(){return a(y.length)}))}),[y,h,s,a]),v=(0,n.useCallback)((function(e){a(e)}),[a]),g=(0,n.useCallback)((function(e){h({type:"DELETE_BEHAVIOR",behaviorIndex:e})}),[h]),j=(0,n.useCallback)((function(e){e.stopPropagation(),f(!0)}),[f]),w=(0,n.useCallback)((function(){f(!1)}),[f]),x=(0,n.useCallback)((function(e){r({type:"SETTINGS_UPDATE",settings:tc(tc({},t),{},{enableBehaviorEditing:e})})}),[t,r]);return(0,ee.jsxs)("div",{className:br.main,children:[l&&(0,ee.jsx)(Ya,{onUpdate:b,onCancel:function(){return s(!1)}}),null!==i&&(0,ee.jsx)(qa,{node:y[i],onCancel:function(){return a(null)},onUpdate:function(e){a(null),h({type:"UPDATE_BEHAVIOR",behaviorIndex:i,behavior:e})}}),p&&(0,ee.jsx)(Ua,{onDismiss:w}),(0,ee.jsxs)("div",{className:br.panel,children:[(0,ee.jsxs)("label",{children:["Enable Beta",(0,ee.jsx)("input",{type:"checkbox",checked:t.enableBehaviorEditing,onChange:function(e){return x(e.target.checked)}})]}),(0,ee.jsxs)(it,{onClick:j,style:{backgroundColor:"orange"},children:[(0,ee.jsx)(ce,{name:"warning"})," Details"]}),(0,ee.jsx)("h3",{children:"Custom Behaviors"}),(0,ee.jsxs)("table",{style:{width:"100%"},children:[(0,ee.jsx)("thead",{children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{children:"Binding"}),(0,ee.jsx)("th",{children:"Compatible"}),(0,ee.jsx)("th",{children:"Actions"})]})}),(0,ee.jsx)("tbody",{children:y.map((function(e,r){return(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("td",{children:(0,ee.jsxs)("code",{children:["&",e.labels[0]]})}),(0,ee.jsx)("td",{children:e.properties.compatible.raw}),(0,ee.jsx)("td",{children:t.enableBehaviorEditing&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(ce,{className:br.action,onClick:function(){return v(r)},name:"wrench"}),(0,ee.jsx)(ce,{className:br.action,onClick:function(){return g(r)},name:"trash-can"})]})})]},r)}))})]}),(0,ee.jsx)(it,{onClick:m,children:"Add New Behavior"})]})]})},ac=r(78207),cc={};cc.styleTagTransform=m(),cc.setAttributes=f(),cc.insert=u().bind(null,"head"),cc.domAPI=l(),cc.insertStyleElement=y(),a()(ac.Z,cc);var lc=ac.Z&&ac.Z.locals?ac.Z.locals:void 0;function sc(){return(0,ee.jsx)("p",{className:lc.floatingMessage,children:"Click on a key to add it to the combo"})}function uc(e){var t=e.keyPositions,r=e.onUpdate;return(0,ee.jsxs)("div",{className:lc.comboInputMap,children:[(0,ee.jsx)(Yn,{value:t,onUpdate:r}),t.length<2&&(0,ee.jsx)(sc,{})]})}uc.propTypes={layout:Ur.isRequired,onUpdate:$().func.isRequired,keyPositions:$().arrayOf($().number).isRequired};var pc=uc,fc=r(87617),dc={};dc.styleTagTransform=m(),dc.setAttributes=f(),dc.insert=u().bind(null,"head"),dc.domAPI=l(),dc.insertStyleElement=y(),a()(fc.Z,dc);var yc=fc.Z&&fc.Z.locals?fc.Z.locals:void 0;function hc(e){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(e)}var mc=["href","children","external","showExternal"];function bc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==hc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jc(e){var t=e.href,r=e.children,n=e.external,o=e.showExternal,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,mc),a=Object.assign({href:t},i,n&&{rel:"noreferrer",target:"_blank"});return(0,ee.jsxs)("a",vc(vc({},a),{},{children:[r,n&&o&&(0,ee.jsx)(ce,{className:yc.icon,name:"arrow-up-right-from-square"})]}))}jc.propTypes={href:$().string.isRequired,children:$().oneOfType([$().arrayOf($().node),$().node]).isRequired,external:$().bool.isRequired,showExternal:$().bool},jc.defaultProps={external:!1,showExternal:!0};var wc=jc,xc=r(86015),Oc={};Oc.styleTagTransform=m(),Oc.setAttributes=f(),Oc.insert=u().bind(null,"head"),Oc.domAPI=l(),Oc.insertStyleElement=y(),a()(xc.Z,Oc);var Sc=xc.Z&&xc.Z.locals?xc.Z.locals:void 0;function kc(e){return function(t){t.stopPropagation(),e()}}function Ec(e){return function(t){e[t.key]&&e[t.key]()}}function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(r),!0).forEach((function(t){Tc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Pc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Pc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cc(e){var t,r,o=e.value,i=e.validate,a=e.required,c=e.render,l=e.onUpdate,s=(0,n.useRef)(),u=(t=(0,n.useState)({value:o,editing:!1,attemptedEmpty:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],f=u[1],d=p.attemptedEmpty?"cannot be empty":i&&i(p.value),y=(0,n.useCallback)((function(e){e&&(e.focus(),e.select())}),[]),h=(0,n.useCallback)((function(){f((function(e){return _c(_c({},e),{},{editing:!1})}))}),[f]),m=(0,n.useCallback)((function(e){s.current&&!s.current.contains(e.target)&&h()}),[s,h]);return(0,n.useEffect)((function(){return document.addEventListener("click",m),function(){return document.removeEventListener("click",m)}}),[m]),p.editing?(0,ee.jsxs)("span",{className:Sc.container,ref:s,children:[(0,ee.jsx)("input",{ref:y,value:p.value,onChange:function(e){return f(_c(_c({},p),{},{attemptedEmpty:!1,value:e.target.value}))},onKeyDown:Ec({Enter:function(){p.editing&&(""===p.value&&a?f(_c(_c({},p),{},{attemptedEmpty:!0})):(l(p.value),f(_c(_c({},p),{},{value:p.value,editing:!1}))))},Escape:h})}),d&&(0,ee.jsx)("span",{className:Sc.error,children:d})]}):c((0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("span",{children:o}),(0,ee.jsx)(ce,{name:"pencil",className:Sc.edit,onClick:kc((function(){return f(_c(_c({},p),{},{editing:!0}))}))})]}))}Cc.propTypes={value:$().string.isRequired,validate:$().func,required:$().bool.isRequired,render:$().func.isRequired,onUpdate:$().func.isRequired},Cc.defaultProps={required:!0};var Dc=Cc;function Rc(e){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(e)}function Nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(r),!0).forEach((function(t){Mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||Bc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(e,t){if(e){if("string"==typeof e)return Gc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gc(e,t):void 0}}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qc(e){var t=e.selected,r=e.options,n=e.onUpdate;return(0,ee.jsx)("ul",{className:lc.layerList,children:r.map((function(e,r){return(0,ee.jsx)("li",{"data-selected":t.includes(r),onClick:function(){return e=r,void n(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(function(e){if(Array.isArray(e))return Gc(e)}(o=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||Bc(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]));var e,o},children:e})}))})}var Uc=function(e){var t=e.combo,r=e.onUpdate,o=zc(rr(),1)[0].keyboard.keymap,i=zc((0,n.useState)(Tr()(t,["timeoutMs","slowRelease","layers"])),2),a=i[0],c=i[1],l=o.layers.map((function(e){return e.name}));return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:function(){r(a)},children:[(0,ee.jsxs)("h2",{children:["Customize [",(0,ee.jsx)("code",{children:t.identifier}),"]"]}),(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:lc.field,children:[(0,ee.jsx)("label",{htmlFor:"customize-combo-timeout",children:"Timeout (ms)"}),(0,ee.jsx)("input",{id:"customize-combo-timeout",type:"number",placeholder:"Default",value:a.timeoutMs,onChange:function(e){return c((function(t){return Lc(Lc({},t),{},{timeoutMs:""===e.target.value?void 0:Number(e.target.value)})}))}})]}),(0,ee.jsxs)("div",{className:lc.field,children:[(0,ee.jsx)("label",{htmlFor:"customize-combo-slow-release",children:"Slow Release"}),(0,ee.jsx)("input",{id:"customize-combo-slow-release",type:"checkbox",checked:a.slowRelease,onChange:function(e){return c((function(t){return Lc(Lc({},t),{},{slowRelease:e.target.checked})}))}})]}),(0,ee.jsxs)("div",{className:lc.field,children:[(0,ee.jsx)("label",{children:"Layers"}),(0,ee.jsx)(qc,{selected:a.layers||[],options:l,onUpdate:function(e){return c((function(t){return Lc(Lc({},t),{},{layers:e})}))}})]})]})]})})};function Kc(e){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(e)}function Zc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(r),!0).forEach((function(t){Yc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qc(e){var t=(0,n.useContext)(S).identifiers,r=Vc(rr("keyboard.keymap.combos"),2),o=r[0],i=r[1],a=Vc((0,n.useState)(null),2),c=a[0],l=a[1],s=e.layout;function u(e){return function(e){return e.length>31?"maximum length: 31":e.match(/^[^a-zA-Z]/)?"first character must be a letter":e.match(/[^a-zA-Z0-9,._+-]/)?"valid characters: a-zA-Z0-9,._+-":void 0}(e)||(t.includes(e)?'Cannot use existing identifier "'.concat(e,'"'):null)}return(0,ee.jsxs)("div",{className:lc.main,children:[null!==c&&(0,ee.jsx)(Uc,{combo:o[c],onUpdate:function(e){return function(e,t){l(null),i({type:"CUSTOMIZE_COMBO",index:e,config:t})}(c,e)}}),(0,ee.jsxs)("div",{className:lc.sidebar,children:[(0,ee.jsxs)(wc,{external:!0,href:"https://zmk.dev/docs/features/combos",children:[(0,ee.jsx)(ce,{name:"book"})," ZMK Docs: Combos"]}),(0,ee.jsx)(it,{onClick:function(){i({type:"CREATE_COMBO"})},children:"Add New Combo"})]}),(0,ee.jsx)("div",{className:lc.comboPanel,children:o.map((function(e,t){return(0,ee.jsxs)("div",{className:lc.combo,children:[(0,ee.jsxs)("div",{className:lc.heading,children:[(0,ee.jsx)(Dc,{value:e.identifier,validate:u,render:function(e){return(0,ee.jsx)("h5",{children:(0,ee.jsx)("code",{children:e})})},onUpdate:function(e){return function(e,t){i({type:"RENAME_COMBO",index:e,name:t})}(t,e)}}),(0,ee.jsxs)("div",{className:lc.actions,children:[(0,ee.jsx)(ce,{name:"wrench",className:"".concat(lc.action),onClick:function(){return l(t)}}),(0,ee.jsx)(ce,{name:"trash-can",className:"".concat(lc.action," ").concat(lc.remove),onClick:function(){i({type:"DELETE_COMBO",index:t})}})]})]}),(0,ee.jsxs)("div",{className:lc.detail,children:[(0,ee.jsx)("div",{className:lc.comboOutput,children:(0,ee.jsx)(Oa,Fc(Fc({},e.bindings[0]),{},{onUpdate:function(e){!function(e,t){i({type:"UPDATE_COMBO_BINDING",comboIndex:e,bindings:[t]})}(t,e)}}))}),(0,ee.jsx)(pc,{layout:s,keyPositions:e.keyPositions,onUpdate:function(e){return function(e,t){i({type:"UPDATE_COMBO_KEYPOSITIONS",comboIndex:e,keyPositions:t})}(t,e)}})]})]},t)}))})]})}Qc.propTypes={layout:Ur.isRequired};var Jc=Qc;function Hc(e){return["&macro_tap","&macro_press","&macro_release","&macro_tap_time","&macro_wait_time","&macro_pause_for_release"].includes(e.value)}var Xc=r(96201),$c={};$c.styleTagTransform=m(),$c.setAttributes=f(),$c.insert=u().bind(null,"head"),$c.domAPI=l(),$c.insertStyleElement=y(),a()(Xc.Z,$c);var el=Xc.Z&&Xc.Z.locals?Xc.Z.locals:void 0,tl=r(18446),rl=r.n(tl),nl=r(35839),ol={};ol.styleTagTransform=m(),ol.setAttributes=f(),ol.insert=u().bind(null,"head"),ol.domAPI=l(),ol.insertStyleElement=y(),a()(nl.Z,ol);var il=nl.Z&&nl.Z.locals?nl.Z.locals:void 0,al=["bindings","children","dragging","dragMode"],cl=["isDropping","control","classes"],ll=["bind"],sl=["bind"],ul=["row","isDropping"];function pl(e){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}function fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return yl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yl(e,t):void 0}}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hl(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(r),!0).forEach((function(t){vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ml(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gl(e){var t=e.bindings,r=(e.children,e.dragging),o=e.dragMode,i=hl(e,al),a=fl((0,n.useState)([null,null]),2),c=a[0],l=a[1],s=(0,n.useMemo)((function(){return function(e){return e.reduce((function(e,t,r){var n=function(){return 0===e.at(-1).length};return(Hc(t)&&!n()||!n()&&Hc(e.at(-1)[0])||6===e.at(-1).length)&&e.push([]),e.at(-1).push(bl(bl({},t),{},{index:r})),e}),[[]])}(t)}),[t]);function u(e){console.log("enter",e),l((function(){return e}))}function p(e){return rl()(c,e)}function f(e){l((function(t){return console.log("leaving",e,"currently in",t),rl()(t,e)?[null,null]:t}))}function d(){console.log("handleDrop",c);var e=fl(c,3),r=e[0],n=e[1],o=e[2],a=s[r][n].index,l=a<t.length-1?a+1:-1;i.onDrop(1===o?l:a)}return r&&(0,ee.jsxs)("div",{className:[il.dropTargets,r?il.dragging:"","row"===o?il.dropRowOnly:""].join(" "),children:[s.map((function(e,t){return(0,ee.jsxs)(n.Fragment,{children:[(0,ee.jsx)(Ol,{row:e,isDropping:p([t,0,-1]),onDragEnter:function(){return u([t,0,-1])},onDragLeave:function(){return f([t,0,-1])},onDrop:d}),e.map((function(r,o){return(0,ee.jsxs)(n.Fragment,{children:[(0,ee.jsx)(wl,{bind:r,isDropping:p([t,o,0]),onDragEnter:function(){return u([t,o,0])},onDragLeave:function(){return f([t,o,0])},onDrop:d}),(0,ee.jsx)(xl,{bind:r,isDropping:p([t,o,1]),onDragEnter:function(){return u([t,o,1])},onDragLeave:function(){return f([t,o,1])},onDrop:d,"data-extend":Hc(r)||o!==e.length-1?0:Math.max(0,5-o)})]},o)}))]},t)})),(0,ee.jsx)(Ol,{row:s.length-1,isDropping:p([s.length-1,s.at(-1).length-1,1]),onDragEnter:function(){return u([s.length-1,s.at(-1).length-1,1])},onDragLeave:function(){return f([s.length-1,s.at(-1).length-1,1])},onDrop:d})]})}function jl(e){var t,r=e.isDropping,n=e.control,o=void 0!==n&&n,i=e.classes,a=void 0===i?[]:i,c=hl(e,cl);return(0,ee.jsx)("div",bl({"data-is-control":o,className:[il.dropTargetHalf,r?il.droppable:""].concat((t=a,function(e){if(Array.isArray(e))return yl(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||dl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).join(" ")},c))}function wl(e){var t=e.bind,r=hl(e,ll);return(0,ee.jsx)(jl,bl({control:Hc(t)},r))}function xl(e){var t=e.bind,r=hl(e,sl);return(0,ee.jsx)(jl,bl({control:Hc(t),classes:[il.secondHalf]},r))}function Ol(e){e.row;var t=e.isDropping,r=hl(e,ul);return(0,ee.jsx)("div",bl({"data-drop-mode":"row",className:[il.dropTargetRow,t?il.droppable:""].join(" ")},r))}function Sl(e,t){if(e){if("string"==typeof e)return kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kl(e,t):void 0}}function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var El=function(e){return{value:"&kp",params:[{value:e,params:[]}]}},Pl=[{pattern:/[0-9]/,convert:function(e){return El("N".concat(e))}},{pattern:/[a-z]/,convert:function(e){return El(e.toUpperCase())}},{pattern:/[A-Z]/,convert:function(e){return{value:"&kp",params:[{value:"LS",params:[{value:e.toUpperCase(),params:[]}]}]}}}],Al={"!":El("EXCL"),"@":El("AT"),"#":El("POUND"),$:El("DLLR"),"%":El("PRCNT"),"^":El("CARET"),"&":El("AMPS"),"*":El("STAR"),"(":El("LPAR"),")":El("RPAR"),"\n":El("RET")," ":El("SPACE"),"-":El("MINUS"),_:El("UNDER"),"=":El("EQUAL"),"+":El("PLUS"),"[":El("LBKT"),"]":El("LBRC"),"{":El("RBKT"),"}":El("RBRC"),"\\":El("BSLH"),"|":El("PIPE"),"":El("TILDE2"),";":El("SEMI"),":":El("COLON"),"'":El("SQT"),'"':El("DQT"),"`":El("GRAVE"),"~":El("TILDE"),",":El("COMMA"),"<":El("LT"),".":El("DOT"),">":El("GT"),"/":El("FSLH"),"?":El("QMARK")};var _l=function(e){var t,r,o=e.onClose,i=(0,n.useContext)(S),a=i.sources,c=i.mergedGlyphs,l=(t=(0,n.useState)("Type something..."),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||Sl(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],u=l[1],p=(0,n.useMemo)((function(){return s.split("").reduce((function(e,t){var r=function(e){if(Al[e])return Al[e];var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Sl(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(Pl);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.pattern,i=n.convert;if(e.match(o))return i(e)}}catch(e){r.e(e)}finally{r.f()}}(t);return r&&e.push(r),e}),[])}),[s]).map((function(e){return Pi(e.value,e.params,a,void 0,c)})),f=(0,n.useCallback)((function(e){e&&(e.focus(),e.select())}),[]);return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{dismissText:!1,children:[(0,ee.jsx)("h2",{children:"Create Typing Sequence"}),(0,ee.jsx)("p",{children:"Type a message to generate a sequence of bindings in the macro."}),(0,ee.jsx)("textarea",{value:s,ref:f,style:{width:"100%",height:"6rem"},onChange:function(e){return u(e.target.value)}}),(0,ee.jsx)("div",{className:el.macroBindings,children:p.map((function(e,t){return(0,ee.jsx)(n.Fragment,{children:(0,ee.jsx)(fn,{selectable:!1,children:(0,ee.jsx)(mi,{node:e.params[0],onSelect:function(){}})})},t)}))}),(0,ee.jsxs)("div",{className:el.macroActions,children:[(0,ee.jsx)(it,{onClick:function(){return o(p)},children:"Add to macro"}),(0,ee.jsx)(it,{onClick:function(){return o([])},secondary:!0,children:"Cancel"})]})]})})};function Tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||Il(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){if(e){if("string"==typeof e)return Cl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cl(e,t):void 0}}function Cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dl(e){var t=e.macroIndex,r=e.bindings,o=e.dispatch,i=Tl((0,n.useState)(null),2),a=i[0],c=i[1],l=Tl((0,n.useState)(!1),2),s=l[0],u=l[1];return(0,n.useEffect)((function(){function e(){c(null)}function t(e){e.stopPropagation(),e.preventDefault()}return document.body.addEventListener("drop",e),document.body.addEventListener("dragover",t),function(){document.body.removeEventListener("drop",e),document.body.removeEventListener("dragover",t)}}),[c]),(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{className:el.macroBindings,children:[r.map((function(e,i){return(0,ee.jsx)(n.Fragment,{children:(0,ee.jsxs)(fn,{"data-index":i,themeClass:Hc(e)?el.controlBinding:"",draggable:!0,onDragStart:function(e){return function(e,t){if(e.dataTransfer.items.length)e.dataTransfer.clearData();else{var n=r[t];c({index:t,mode:Hc(n)?"row":"col",isControlBinding:Hc(n)})}}(e,i)},children:[(0,ee.jsx)(Oa,{context:Hc(e)?"macros":void 0,value:e.value,params:e.params,onUpdate:function(e){o({type:"UPDATE_MACRO_BINDING",macroIndex:t,bindIndex:i,binding:e})}}),(0,ee.jsx)("div",{className:el.actions,children:(0,ee.jsx)(ce,{name:"trash",className:el.deleteBind,onClick:kc((function(){return o({type:"DELETE_MACRO_BINDING",macroIndex:t,bindIndex:i})}))})})]},i)},i)})),(0,ee.jsx)(gl,{dragging:a,bindings:r,onDrop:function(e){o({type:"REORDER_MACRO_BINDING",macroIndex:t,bindIndex:a.index,targetIndex:e}),c(null)}})]}),s&&(0,ee.jsx)(_l,{onClose:function(e){u(!1);var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Il(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;o({type:"ADD_MACRO_KEY_BINDING",macroIndex:t,binding:i})}}catch(e){n.e(e)}finally{n.f()}}}),(0,ee.jsxs)("div",{className:el.macroActions,children:[(0,ee.jsx)(it,{onClick:function(){return o({type:"ADD_MACRO_CONTROL_BINDING",macroIndex:t})},children:"Add Control Binding"}),(0,ee.jsx)(it,{onClick:function(){return o({type:"ADD_MACRO_KEY_BINDING",binding:{value:"&kp",params:[]},macroIndex:t})},children:"Add Key Binding"}),(0,ee.jsx)(it,{onClick:function(){return u(!0)},children:"Add String Sequence"})]})]})}Dl.propTypes={bindings:$().array.isRequired,macroIndex:$().number.isRequired,dispatch:$().func.isRequired};var Rl=Dl;function Nl(e){return Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(e)}function Ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(r),!0).forEach((function(t){zl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Nl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Nl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gl=function(e){var t,r,o=e.macro,i=e.onUpdate,a=(t=(0,n.useState)(Tr()(o,["label","waitMs","tapMs"])),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Bl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bl(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:function(){i(c)},children:[(0,ee.jsxs)("h2",{children:["Customize [",(0,ee.jsx)("code",{children:o.identifier}),"]"]}),(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:el.field,children:[(0,ee.jsx)("label",{htmlFor:"customize-macro-label",children:"Label"}),(0,ee.jsx)("input",{id:"customize-macro-label",value:c.label,onChange:function(e){return l((function(t){return Ml(Ml({},t),{},{label:e.target.value})}))}})]}),(0,ee.jsxs)("div",{className:el.field,children:[(0,ee.jsx)("label",{htmlFor:"customize-macro-wait",children:"Wait (ms)"}),(0,ee.jsx)("input",{id:"customize-macro-wait",type:"number",placeholder:"Default",value:c.waitMs,onChange:function(e){return l((function(t){return Ml(Ml({},t),{},{waitMs:""===e.target.value?void 0:Number(e.target.value)})}))}})]}),(0,ee.jsxs)("div",{className:el.field,children:[(0,ee.jsx)("label",{htmlFor:"customize-macro-tap",children:"Tap (ms)"}),(0,ee.jsx)("input",{id:"customize-macro-tap",type:"number",placeholder:"Default",value:c.tapMs,onChange:function(e){return l((function(t){return Ml(Ml({},t),{},{tapMs:""===e.target.value?void 0:Number(e.target.value)})}))}})]})]})]})})};function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ul(e){var t,r,o=e.index,i=e.macro,a=e.dispatch,c=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ql(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1],u=(0,n.useContext)(S).identifiers;return(0,ee.jsxs)("div",{className:el.macro,children:[l&&(0,ee.jsx)(Gl,{macro:i,onUpdate:function(e){s(!1),a({type:"CUSTOMIZE_MACRO_OPTIONS",macroIndex:o,options:e})}}),(0,ee.jsxs)("div",{className:el.heading,children:[(0,ee.jsx)(Dc,{value:i.identifier,validate:function(e){return function(e){return e.length>31?"maximum length: 31":e.match(/^[^a-zA-Z]/)?"first character must be a letter":e.match(/[^a-zA-Z0-9_]/)?"valid characters: a-zA-Z0-9_":void 0}(e)||(u.includes(e)?'Cannot use existing identifier "'.concat(e,'"'):null)},render:function(e){return(0,ee.jsx)("h5",{children:(0,ee.jsx)("code",{children:e})})},onUpdate:function(e){return a({type:"RENAME_MACRO",index:o,name:e})}}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)(ce,{name:"wrench",className:"".concat(el.action),onClick:function(){return s(!0)}}),(0,ee.jsx)(ce,{name:"trash-can",className:"".concat(el.action," ").concat(el.remove),onClick:function(){return a({type:"DELETE_MACRO",index:o})}})]})]}),(0,ee.jsx)(Rl,{macroIndex:o,bindings:i.bindings,dispatch:a})]})}Ul.propTypes={index:$().number.isRequired,macro:$().shape({identifier:$().string,bindings:$().array.isRequired}).isRequired,dispatch:$().func.isRequired};var Kl=Ul;function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fl=function(){var e,t,r=(e=rr("keyboard.keymap.macros"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1];return(0,ee.jsxs)("div",{className:el.main,children:[(0,ee.jsxs)("div",{className:el.sidebar,children:[(0,ee.jsxs)(wc,{external:!0,href:"https://zmk.dev/docs/behaviors/macros",children:[(0,ee.jsx)(ce,{name:"book"})," ZMK Docs: Macros"]}),(0,ee.jsx)(it,{onClick:function(){return o({type:"ADD_MACRO"})},children:"Add New Macro"}),(0,ee.jsxs)("div",{className:el.betaDisclaimer,children:[(0,ee.jsx)("h3",{children:"Beta Notes"}),(0,ee.jsx)("p",{children:"Macro editing is still in beta. Please report any issues to the project on GitHub."}),(0,ee.jsxs)("p",{children:["Note that the editor will only look at macros defined in your",(0,ee.jsx)("code",{children:".keymap"})," file at this time, and will not import included files like ",(0,ee.jsx)("code",{children:"macros.dtsi"}),"."]})]})]}),n.map((function(e,t){return(0,ee.jsx)(Kl,{macro:e,index:t,dispatch:o},t)}))]})};function Yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wl(e){var t=(0,n.useRef)(null),r=e.activeLayer,o=e.layers,i=e.onSelect,a=e.onNewLayer,c=e.onRenameLayer,l=e.onDeleteLayer,s=Yl((0,n.useState)(!1),2),u=s[0],p=s[1],f=Yl((0,n.useState)(""),2),d=f[0],y=f[1],h=(0,n.useMemo)((function(){return function(e){if(e===r)return y(o[r].name),void p(!0);p(!1),i(e)}}),[o,r,y,p,i]),m=(0,n.useMemo)((function(){return function(){a()}}),[a]),b=(0,n.useMemo)((function(){return function(e,t){var r="Really delete layer: ".concat(t,"?");window.confirm(r)&&l(e)}}),[l]),v=(0,n.useCallback)((function(){u&&(y(""),p(!1),c(d))}),[d,u,y,p,c]),g=(0,n.useCallback)((function(){u&&(y(""),p(!1))}),[u,y,p]),j=(0,n.useMemo)((function(){return function(e){t.current&&!t.current.contains(e.target)&&g()}}),[t,g]);(0,n.useEffect)((function(){return document.addEventListener("click",j),function(){return document.removeEventListener("click",j)}}),[j]);var w=(0,n.useCallback)((function(e){e&&(e.focus(),e.select())}),[]);return(0,ee.jsxs)("div",{className:Dr["layer-selector"],"data-renaming":u,ref:t,children:[(0,ee.jsx)("h3",{children:"Layers"}),(0,ee.jsxs)("ul",{children:[o.map((function(e,t){var n=e.name;return(0,ee.jsxs)("li",{className:r===t?Dr.active:"","data-layer":t,onClick:kc((function(){return h(t)})),children:[(0,ee.jsx)("span",{className:Dr.index,children:t}),r===t&&u?(0,ee.jsx)("input",{ref:w,className:Dr.name,onChange:function(e){return y(e.target.value)},onKeyDown:Ec({Enter:v,Escape:g}),value:r===t&&u?d:n}):(0,ee.jsxs)("span",{className:Dr.name,children:[n,(0,ee.jsx)(ce,{name:"times-circle",className:Dr.delete,onClick:kc((function(){return b(t,n)}))})]})]},"layer-".concat(t))})),(0,ee.jsxs)("li",{onClick:m,children:[(0,ee.jsx)(ce,{className:Dr.index,name:"plus"}),(0,ee.jsx)("span",{className:Dr.name,children:"Add Layer"})]})]})]})}Wl.propTypes={activeLayer:$().number.isRequired,onSelect:$().func.isRequired,onNewLayer:$().func.isRequired,onRenameLayer:$().func.isRequired,onDeleteLayer:$().func.isRequired};var Ql=Wl;function Jl(e){var t=e.direction;return(0,ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"65px",height:"65px",viewBox:"0 0 65 65",style:{position:"absolute",top:"-10px",stroke:"var(--key-color-base)",strokeWidth:2,fill:"none",display:"block",width:"65px",height:"65px",pointerEvents:"none"},children:(0,ee.jsx)("path",{style:{transform:"scaleX(".concat("cw"===t?-1:1,") rotate(-45deg)"),transformOrigin:"center center"},d:"M 63 31 A 30 30 45 0 0 32.5 2 M 37 -2 L 32.5 2 L 37 6"})})}function Hl(e){var t=e.context,r=e.direction,n=e.params,o=e.onUpdate;return(0,ee.jsxs)(fn,{themeClass:an.encoder,children:[(0,ee.jsx)(Jl,{direction:r}),(0,ee.jsx)(wa,{hideBehaviour:!0,context:t,value:"&kp",params:n,onUpdate:o})]})}Hl.propTypes={label:$().string,value:Go.isRequired,params:$().arrayOf(Uo),onUpdate:$().func.isRequired};var Xl=Hl;function $l(e){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(e)}function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return os(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var is=function(e){var t=e.layer,r=e.sensors,n=e.onUpdate,o=ns(rr("keyboard.keymap"),1)[0].layers[t].sensorBindings,i=void 0===o?[]:o;function a(e,t,r){var o=r.params[0],a=i[e]||{value:"&inc_dec_kp",params:[{value:"",params:[]},{value:"",params:[]}]};n(e,ts(ts({},a),{},{params:bt(a.params,t,o)}))}return(0,ee.jsxs)("div",{style:{margin:"0 0 30px"},children:[(0,ee.jsx)("h3",{children:"Sensor bindings"}),(0,ee.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:"25px"},children:r.map((function(e,t){var r,n=e.label||e.identifier,o=ns((null===(r=i[t])||void 0===r?void 0:r.params)||[],2),c=o[0],l=o[1];return(0,ee.jsxs)("div",{style:{display:"block"},children:[(0,ee.jsx)("label",{style:{fontVariant:"small-caps",fontSize:"90%"},children:(0,ee.jsx)("code",{children:n})}),(0,ee.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5px",marginTop:"20px"},children:[(0,ee.jsx)(Xl,{direction:"ccw",params:[l],onUpdate:function(e){return a(t,1,e)}}),(0,ee.jsx)(Xl,{direction:"cw",params:[c],onUpdate:function(e){return a(t,0,e)}})]})]},t)}))})]})},as=r(52487),cs={};cs.styleTagTransform=m(),cs.setAttributes=f(),cs.insert=u().bind(null,"head"),cs.domAPI=l(),cs.insertStyleElement=y(),a()(as.Z,cs);var ls=as.Z&&as.Z.locals?as.Z.locals:void 0;function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function us(e){var t,r,o=e.actions,i=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ss(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ss(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];function l(e){c(!1),e()}return(0,ee.jsxs)("div",{className:[ls.quickChangeMenu,a&&ls.open].join(" "),children:[(0,ee.jsxs)("p",{onClick:function(){return c(!a)},children:["Quick Change ",(0,ee.jsx)(ce,{name:a?"caret-up":"caret-down"})]}),(0,ee.jsxs)("ul",{children:[(0,ee.jsxs)("li",{onClick:function(){return l(o.transparentToKeypress)},children:["Convert ",(0,ee.jsx)("code",{children:"&trans"})," to ",(0,ee.jsx)("code",{children:"&kp"})]}),(0,ee.jsxs)("li",{onClick:function(){return l(o.transparentToNone)},children:["Convert ",(0,ee.jsx)("code",{children:"&trans"})," to ",(0,ee.jsx)("code",{children:"&none"})]}),(0,ee.jsxs)("li",{onClick:function(){return l(o.noneToKeypress)},children:["Convert ",(0,ee.jsx)("code",{children:"&none"})," to ",(0,ee.jsx)("code",{children:"&kp"})]}),(0,ee.jsxs)("li",{onClick:function(){return l(o.noneToTransparent)},children:["Convert ",(0,ee.jsx)("code",{children:"&none"})," to ",(0,ee.jsx)("code",{children:"&trans"})]}),(0,ee.jsxs)("li",{onClick:function(){return l(o.emptyKeypressToTransparent)},children:["Convert ",(0,ee.jsx)("code",{children:"&kp ⦸"})," to ",(0,ee.jsx)("code",{children:"&trans"})]}),(0,ee.jsxs)("li",{onClick:function(){return l(o.emptyKeypressToNone)},children:["Convert ",(0,ee.jsx)("code",{children:"&kp ⦸"})," to ",(0,ee.jsx)("code",{children:"&none"})]})]})]})}function ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ds=function(e){var t=e.layout,r=e.sensors,o=ps(rr("keyboard.keymap"),2),i=o[0],a=o[1],c=ps((0,n.useState)(0),2),l=c[0],s=c[1],u=Math.max(0,Math.min(l,i.layers.length-1)),p=(0,n.useMemo)((function(){return Ar(t,{overrides:{minWidth:"400px"}})}),[t]),f=(0,n.useCallback)((function(){a({type:"CREATE_LAYER",bindingCount:t.length})}),[t,a]),d=(0,n.useCallback)((function(e,t){a({type:"RENAME_LAYER",index:e,name:t})}),[a]),y=(0,n.useCallback)((function(e){a({type:"DELETE_LAYER",index:e})}),[a]),h=(0,n.useCallback)((function(e,t){a({type:"UPDATE_KEY_BINDING",layerIndex:l,bindIndex:e,binding:t})}),[a,l]),m=(0,n.useCallback)((function(e,t){a({type:"UPDATE_SENSOR_BINDINGS",layerIndex:u,sensorIndex:e,bindings:t})}),[a,u]),b=(0,n.useMemo)((function(){return{transparentToKeypress:function(){return a({type:"REBIND_TRANSPARENT_TO_KEY_PRESS",layerIndex:l})},transparentToNone:function(){return a({type:"REBIND_TRANSPARENT_TO_NONE",layerIndex:l})},noneToKeypress:function(){return a({type:"REBIND_NONE_TO_KEYPRESS",layerIndex:l})},noneToTransparent:function(){return a({type:"REBIND_NONE_TO_TRANSPARENT",layerIndex:l})},emptyKeypressToTransparent:function(){return a({type:"REBIND_EMPTY_KEYPRESS_TO_TRANSPARENT",layerIndex:l})},emptyKeypressToNone:function(){return a({type:"REBIND_EMPTY_KEYPRESS_TO_NONE",layerIndex:l})}}}),[a,l]);return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Ql,{layers:i.layers,activeLayer:u,onSelect:s,onNewLayer:f,onRenameLayer:function(e){return d(l,e)},onDeleteLayer:y}),i.layers.length>0?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{style:p,children:[(0,ee.jsxs)("h3",{style:{position:"relative"},children:["Key Bindings ",(0,ee.jsx)(us,{actions:b})]}),(0,ee.jsx)(en,{layout:t,bindings:i.layers[u].bindings,renderKey:function(e){var t,r,n=e.index,o=e.keyLayout;return i.layers[u].bindings[n]&&(0,ee.jsx)(Oa,{label:o.label,highlight:!1,value:null===(t=i.layers[u].bindings[n])||void 0===t?void 0:t.value,params:null===(r=i.layers[u].bindings[n])||void 0===r?void 0:r.params,onUpdate:function(e){return h(n,e)}})}})]}),r.length>0&&(0,ee.jsx)("div",{style:{width:p.width,minWidth:"400px",margin:p.margin,padding:p.padding},children:(0,ee.jsx)(is,{sensors:r,layer:u,onUpdate:m})})]}):(0,ee.jsx)(we,{centerOnly:!0,children:(0,ee.jsxs)("div",{style:{textAlign:"center"},children:[(0,ee.jsx)("h3",{children:"No keymap layers defined"}),(0,ee.jsx)(it,{onClick:f,children:"Add layer"})]})})]})},ys=r(9669),hs=r.n(ys),ms=r(26729),bs=r.n(ms);function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function gs(){gs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==vs(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function js(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ws(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){js(i,n,o,a,c,"next",e)}function c(e){js(i,n,o,a,c,"throw",e)}a(void 0)}))}}function xs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ps(n.key),n)}}function Os(e,t){return Os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Os(e,t)}function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ks(e){return ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ks(e)}function Es(e,t,r){return(t=Ps(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ps(e){var t=function(e,t){if("object"!==vs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vs(t)?t:String(t)}var As="".concat(A.replace("http","ws"),"/github/events"),_s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Os(e,t)}(p,e);var t,r,n,o,i,a,c,l,s,u=(l=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ks(l);if(s){var r=ks(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ss(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Es(Ss(e=u.call.apply(u,[this].concat(r))),"token",null),Es(Ss(e),"initializing",!1),Es(Ss(e),"installations",null),Es(Ss(e),"repositories",null),Es(Ss(e),"repoInstallationMap",null),Es(Ss(e),"features",null),Es(Ss(e),"socket",null),e}return t=p,r=[{key:"_request",value:(c=ws(gs().mark((function e(t){var r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t={url:t}),t.url.startsWith("/")&&(t.url="".concat(A).concat(t.url)),t.headers=Object.assign({},t.headers),this.token&&!t.headers.Authorization&&(t.headers.Authorization="Bearer ".concat(this.token)),e.prev=4,e.next=7,hs()(t);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),401===(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(console.error("Authentication failed."),this.emit("authentication-failed",e.t0.response)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return c.apply(this,arguments)})},{key:"init",value:function(){var e=this;return this.initializing||(this.initializing=ws(gs().mark((function t(){var r,n,o,i,a,c;return gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.initEvents(),r="".concat(A,"/github/installation"),(n=new URLSearchParams(window.location.search)).get("setup_action")&&n.get("installation_id")&&e.beginLoginFlow(),!n.get("blocked")){t.next=7;break}return setTimeout((function(){return e.emit("blocked")})),t.abrupt("return");case 7:if(o=n.get("token"),!window.localStorage.auth_token&&o&&(window.history.replaceState({},null,window.location.pathname),window.localStorage.auth_token=o),!window.localStorage.auth_token){t.next=22;break}return e.token=window.localStorage.auth_token,t.next=13,e._request(r);case 13:i=t.sent,a=i.data,c=a.installations.filter((function(e){return e.suspended_at})),a.installations.length===c.length&&(console.warn("No GitHub app installation found for authenticated user."),e.emit("app-not-installed")),e.username=a.username,e.installations=a.installations,e.repositories=a.repositories,e.repoInstallationMap=a.repoInstallationMap,e.emit("authenticated");case 22:case"end":return t.stop()}}),t)})))()),this.initializing}},{key:"initEvents",value:function(){var e=this,t=[],r=function(r){e.socket.readyState!==window.WebSocket.OPEN?(t.push(r),console.log("buffering websocket message",{readyState:e.socket.readyState},r)):e.socket.send(r)};this.socket=new window.WebSocket(As),this.socket.onopen=function(){console.log(new Date,"connected to console"),function(){for(var r;r=t.shift();)console.log("sending buffered websocket message",r),e.socket.send(r)}(),setInterval((function(){r(JSON.stringify({message:"ping"}))}),2e4)},this.socket.onclose=function(){return console.log(new Date,"disconnected from server")},this.socket.onerror=function(e){return console.error(new Date,e)},this.socket.onmessage=function(t){var r=JSON.parse(t.data);"workflow_run"===r.event&&e.emit("build-update",r.workflow_run)},this.on("authenticated",(function(){var t;null!==(t=e.installations)&&void 0!==t&&t.length&&(e.fetchAvailableFeatures(),r(JSON.stringify({message:"authorize",data:e.token})))}))}},{key:"beginLoginFlow",value:function(){window.localStorage.removeItem("auth_token"),window.location.href="".concat(A,"/github/authorize")}},{key:"beginInstallAppFlow",value:function(){window.location.href="https://github.com/apps/".concat("zmk-keymap-editor","/installations/new")}},{key:"manageInstallationRepos",value:function(e){var t=this.installations.find((function(t){return t.id===e}));window.location.href=t.html_url}},{key:"isGitHubAuthorized",value:function(){return!!this.token}},{key:"isAppSuspendedForRepoSelection",value:function(){var e,t,r;return(null===(e=this.installations)||void 0===e?void 0:e.length)>0&&(null===(t=this.installations)||void 0===t?void 0:t.every((function(e){return e.suspended_at})))&&(null===(r=this.installations)||void 0===r?void 0:r.some((function(e){return"all"===e.repository_selection})))}},{key:"isAppInstalled",value:function(){var e,t;return(null===(e=this.installations)||void 0===e?void 0:e.length)&&(null===(t=this.repositories)||void 0===t?void 0:t.length)}},{key:"fetchRepoBranches",value:(a=ws(gs().mark((function e(t){var r,n,o,i;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=encodeURIComponent(this.repoInstallationMap[t.full_name]),n=encodeURIComponent(t.full_name),e.next=4,this._request("/github/installation/".concat(r,"/").concat(n,"/branches"));case 4:return o=e.sent,i=o.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchLayoutAndKeymap",value:(i=ws(gs().mark((function e(t,r){var n,o,i,a,c,l,s,u,p,f,d,y,h,m,b=arguments;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(b.length>2&&void 0!==b[2]?b[2]:{}).keyboard,o=encodeURIComponent(this.repoInstallationMap[t]),i=encodeURIComponent(t),a=new URL("".concat(A,"/github/keyboard-files/").concat(o,"/").concat(i)),c=new URLSearchParams,r&&c.set("branch",r),n&&c.set("keyboard",n),a.search=c.toString(),e.prev=8,e.next=11,this._request(a.toString());case 11:return s=e.sent,u=s.data,p=u.info.layouts,f=u.keymap,d=Object.keys(u.info.layouts)[0],y=f.chosen["zmk,matrix_transform"]?f.chosen["zmk,matrix_transform"].replace(/^&/,""):null,e.abrupt("return",{layoutIsAutoGenerated:!!d.autoGenerated||!!d.autoGenerated_unsaved,layoutIsAutoGenerated_unsaved:!!d.autoGenerated_unsaved,layout:(null===(l=p[y])||void 0===l?void 0:l.layout)||p[d].layout,keymap:f,keyboards:u.keyboards,default:u.defaultKeymap,sensors:u.sensors});case 19:throw e.prev=19,e.t0=e.catch(8),400===(null===(h=e.t0.response)||void 0===h?void 0:h.status)?(console.error("Failed to load keymap and layout from github",e.t0.response.data),this.emit("repo-validation-error",e.t0.response.data)):500===(null===(m=e.t0.response)||void 0===m?void 0:m.status)&&"LayoutGenerationError"===e.t0.response.data.name&&this.emit("layout-generation-failed",e.t0.response.data),e.t0;case 23:case"end":return e.stop()}}),e,this,[[8,19]])}))),function(e,t){return i.apply(this,arguments)})},{key:"fetchAvailableFeatures",value:(o=ws(gs().mark((function e(){var t,r;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isGitHubAuthorized()){e.next=2;break}return e.abrupt("return",{betaFeatures:[]});case 2:return this.features||(this.features=this._request("".concat(A,"/github/features"))),e.next=5,this.features;case 5:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"fetchBuildStatus",value:(n=ws(gs().mark((function e(t,r){var n,o,i,a,c;return gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(this.repoInstallationMap[t]),o=encodeURIComponent(t),i=new URL("".concat(A,"/github/latest-run/").concat(n,"/").concat(o,"/").concat(r)),e.next=5,this._request(i.toString());case 5:return a=e.sent,c=a.data,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"commitChanges",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.message,a=void 0===i?null:i,c=o.experimentalSettings,l=void 0===c?{}:c,s=o.keyboard,u=encodeURIComponent(this.repoInstallationMap[e]),p=encodeURIComponent(e),f=new URL("".concat(A,"/github/keyboard-files/").concat(u,"/").concat(p,"/").concat(encodeURIComponent(t))),d=l.enableBehaviorEditing,y=void 0!==d&&d,h=new URLSearchParams({enableBehaviorEditing:y});return s&&h.set("keyboard",s),f.search=h.toString(),this._request({url:f.toString(),method:"POST",headers:{"Content-Type":"application/json"},data:{keyboard:s,layout:r,keymap:n,message:a,enableBehaviorEditing:y}})}}],r&&xs(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(bs()),Ts=new _s;function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Cs(){Cs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==Is(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function Ds(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Rs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ns(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ls(e){var t=e.text,r=e.tabs,o=e.defaultTab,i=e.children,a=Rs((0,n.useState)(o),2),c=a[0],l=a[1];return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("h3",{style:{display:"inline"},children:t}),(0,ee.jsx)("ul",{className:Dr.editorModeTabs,children:r.map((function(e,t){return(0,ee.jsx)("li",{onClick:function(){return l(t)},className:c===t?Dr.activeEditTab:"",children:e},t)}))}),i[c]]})}function Ms(e){var t,r,o,i=Rs(rr(),1)[0].source,a=Rs(rr("keyboard.keymap"),1)[0],c=e.layout,l=e.sensors,s=(t=Rs((0,n.useState)({betaFeatures:[]}),2),r=t[0],o=t[1],(0,n.useEffect)((function(){var e;(e=Cs().mark((function e(){return Cs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,Ts.fetchAvailableFeatures();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ds(i,n,o,a,c,"next",e)}function c(e){Ds(i,n,o,a,c,"throw",e)}a(void 0)}))})()}),[o]),r).betaFeatures,u=(0,E.compact)([{name:"keymap",component:(0,ee.jsx)(ds,{layout:c,sensors:l})},{name:"combos",component:(0,ee.jsx)(Jc,{layout:c})},{name:"macros",component:(0,ee.jsx)(Fl,{})},("local"===i||s.includes("behaviorEditing"))&&{name:"behaviors",component:(0,ee.jsx)(ic,{})}]),p=(0,E.map)(u,"name");return(0,ee.jsx)(Qe,{keymap:a,children:(0,ee.jsx)(Ls,{text:"Editor mode:",tabs:p,defaultTab:0,children:u.map((function(e){return(0,ee.jsx)(n.Fragment,{children:e.component},e.name)}))})})}Ms.propTypes={layout:Ur.isRequired};var zs=Ms,Bs=r(2746),Gs={};Gs.styleTagTransform=m(),Gs.setAttributes=f(),Gs.insert=u().bind(null,"head"),Gs.domAPI=l(),Gs.insertStyleElement=y(),a()(Bs.Z,Gs);var qs=Bs.Z&&Bs.Z.locals?Bs.Z.locals:void 0,Us="https://github.com/nickcoutsos/keymap-editor";function Ks(){return(0,ee.jsxs)("div",{className:qs.wrapper,children:[(0,ee.jsx)("label",{children:"Need help? Open an issue:"}),(0,ee.jsxs)("a",{className:qs.githubLink,target:"_blank",rel:"noreferrer",href:Us,children:[(0,ee.jsx)(ce,{collection:"brands",name:"github"}),"/nickcoutsos/keymap-editor"]})]})}function Zs(e){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(e)}function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(r),!0).forEach((function(t){Vs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ws={description:{fontStyle:"italic",fontSize:"90%"}};function Qs(e){var t=e.settings,r=e.onUpdate,n=e.onClose;function o(e,n){r(Ys(Ys({},t),{},Vs({},e,n)))}return(0,ee.jsx)(we,{onDismiss:n,children:(0,ee.jsxs)(yr,{onDismiss:n,children:[(0,ee.jsx)("h1",{children:"Settings"}),(0,ee.jsx)("h2",{children:"Keycode glyphs"}),(0,ee.jsx)("h3",{children:(0,ee.jsxs)("label",{htmlFor:"enable-unicode-glyphs",children:[(0,ee.jsx)("input",{id:"enable-unicode-glyphs",type:"checkbox",checked:t.unicodeGlyphs,onChange:function(e){return o("unicodeGlyphs",e.target.checked)}}),"Use Unicode Glyphs"]})}),(0,ee.jsxs)("p",{style:Ws.description,children:["Use unicode glyphs for visual representations of keycodes like ",(0,ee.jsx)("code",{children:"Enter"})," (⮐), ",(0,ee.jsx)("code",{children:"Right Arrow"})," (⏵), etc. You can disable this if the symbols don't render correctly."]}),(0,ee.jsx)("h3",{children:(0,ee.jsxs)("label",{htmlFor:"platform-specific-glyphs",children:["Platform specific glyphs",(0,ee.jsxs)("select",{id:"platform-specific-glyphs",value:t.platformGlyphs||"auto",onChange:function(e){return o("platformGlyphs",e.target.value)},children:[(0,ee.jsx)("option",{value:"auto",children:"Automatic"}),(0,ee.jsx)("option",{value:"win",children:"Windows"}),(0,ee.jsx)("option",{value:"mac",children:"macOS"})]})]})}),(0,ee.jsxs)("p",{style:Ws.description,children:["Render symbols specific to your platform. E.g., render left/right meta key as ",(0,ee.jsx)(ce,{name:"windows fa-brands"})," for Windows, or ⌘ for macOS."]})]})})}Qs.propTypes={settings:$().object.isRequired,onUpdate:$().func.isRequired,onClose:$().func.isRequired},Qs.defaultProps={settings:{}};var Js=Qs,Hs={selector:{display:"inline-block",width:"auto",margin:"5px"},label:{display:"block",width:"100%",fontSize:"120%",color:"var(--fg)"}};function Xs(e){var t=e.id,r=e.label,n=e.value,o=e.choices,i=e.onUpdate;return(0,ee.jsxs)("div",{style:Hs.selector,children:[(0,ee.jsx)("label",{htmlFor:t,style:Hs.label,children:r}),(0,ee.jsx)("select",{id:t,onChange:function(e){var t=e.target.value,r=o[t];i(r.id,r)},value:function(e){var t=o.findIndex((function(t){return t.id===e}));return-1===t?"":t}(n),children:o.map((function(e,t){var r=e.name;return(0,ee.jsx)("option",{value:t,children:r},t)}))})]})}function $s(e){var t=e.onDismiss,r=(0,ee.jsx)(wc,{external:!0,href:"https://discord.com/users/115507966555193345",children:"Discord"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:"Could not parse keymap"}),(0,ee.jsx)("p",{children:"It looks like some bindings in your keymap are using custom pre-processor macros which isn't supported by the Keymap Editor. These macros make it difficult both to resolve bindings to behaviors and parameters, as well as to generate modified keymap code that is consistent with your original intentions."}),(0,ee.jsx)("p",{children:"Please either continue editing your keymap by hand with these helpers or if you would like to use this editor, rewrite the keymap to use ZMK's syntax directly."}),(0,ee.jsxs)("p",{children:["If you feel this is incorrect or wish to discuss the issue please feel free to reach out via the Keymap Editor's GitHub repository or find me on ",r,"."]})]})})}$s.propTypes={onDismiss:$().func.isRequired};var eu=$s;function tu(e){var t=e.onDismiss;return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:"Could not parse Miryoku keymap"}),(0,ee.jsx)("p",{children:"It looks like your keyboard is built using Miryoku to manage the configuration and keymap. Parsing and editing keymaps that use this syntax is unsupported by the Keymap Editor."}),(0,ee.jsx)("p",{children:"Please either continue editing your keymap by hand with these helpers or if you would like to use this editor, rewrite the keymap to use ZMK's syntax directly."})]})})}tu.propTypes={onDismiss:$().func.isRequired};var ru=tu;function nu(e){var t=e.onDismiss;return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:"Could not parse keymap"}),(0,ee.jsxs)("p",{children:["Detected use of ",(0,ee.jsx)("code",{children:"zmk-nodefree-config"})]}),(0,ee.jsx)("p",{children:"It looks like your keymap is built using helper functions from the zmk-nodefree-config library to replace devicetree syntax. Parsing and editing keymaps that use this syntax is unsupported by the Keymap Editor."}),(0,ee.jsx)("p",{children:"Please either continue editing your keymap by hand with these helpers or if you would like to use this editor, rewrite the keymap to use ZMK's syntax directly."})]})})}nu.propTypes={onDismiss:$().func.isRequired};var ou=nu;function iu(e){return iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(e)}function au(){au=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==iu(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function cu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function lu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cu(i,n,o,a,c,"next",e)}function c(e){cu(i,n,o,a,c,"throw",e)}a(void 0)}))}}function su(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return uu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pu=function(e){var t=e.onSelect,r=su((0,n.useState)([]),2),o=r[0],i=r[1],a=su((0,n.useState)(null),2),c=a[0],l=a[1],s=su((0,n.useState)([]),2),u=s[0],p=s[1],f=(0,n.useMemo)((function(){return o.map((function(e){return{id:e,name:e}}))}),[o]);(0,n.useEffect)((function(){lu(au().mark((function e(){var t,r,n;return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,r=JSON.parse(localStorage.getItem("localSourceSelectedKeyboard")||"null"),n=t.includes(r)?r:t[0],i(t),l(n);case 7:case"end":return e.stop()}}),e)})))()}),[i,l]),(0,n.useEffect)((function(){lu(au().mark((function e(){var r,n,o,i,a;return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=11;break}return e.next=3,U(c);case 3:if(n=e.sent,o=n.layout,i=n.keymap,a=n.sensors,null===(r=i.warningFlags)||void 0===r||!r.length){e.next=10;break}return p(i.warningFlags),e.abrupt("return");case 10:t({source:"local",keyboard:c,layout:o,keymap:i,sensors:a});case 11:case"end":return e.stop()}}),e)})))()}),[t,p,c]);var d=(0,n.useCallback)((function(e){localStorage.setItem("localSourceSelectedKeyboard",JSON.stringify(e)),l(e)}),[l]),y=u.includes("USING_ZMK_NODEFREE_MACROS"),h=u.includes("USING_MIRYOKU_DTSI"),m=u.includes("USING_NON_ZMK_MACRO"),b=(0,n.useCallback)((function(){l(null),p([])}),[l,p]);return o.length<2?null:y?(0,ee.jsx)(ou,{onDismiss:b}):h?(0,ee.jsx)(ru,{onDismiss:b}):m?(0,ee.jsx)(eu,{onDismiss:b}):(0,ee.jsx)(Xs,{id:"keyboard",label:"Keyboard",value:c,choices:f,onUpdate:d})};function fu(e){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(e)}function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?du(Object(r),!0).forEach((function(t){hu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mu(e){var t=(0,ee.jsx)(wc,{href:"https://github.com/nickcoutsos/zmk-config-corne-demo",external:!0,children:"GitHub Repo"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,yu(yu({},e),{},{children:[(0,ee.jsx)("h2",{children:"Keymap Editor Demo"}),(0,ee.jsx)("p",{children:"Welcome! This demo keyboard is provided to let you experiment with the keymap editor before setting up your own repository."}),(0,ee.jsx)("h3",{children:"Features"}),(0,ee.jsxs)("ul",{children:[(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"WYSIWYG Editing"}),". Just click on key and behaviour bindings to make changes, add or remove layers in the sidebar."]}),(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"Keymap generation"}),". The editor can export keymap to ZMK's syntax (when running locally or integrated with GitHub), and will even attempt to format the ",(0,ee.jsx)("code",{children:".keymap"})," file for better readability."]}),(0,ee.jsxs)("li",{children:[(0,ee.jsx)("strong",{children:"Devicetree parsing"}),". ",(0,ee.jsx)("em",{children:"(Experimental!)"})," Read and write to your existing ZMK ",(0,ee.jsx)("code",{children:".keymap"})," file so that you can still use ZMK features that the app doesn't support yet."]})]}),(0,ee.jsx)("h3",{children:"What's next?"}),(0,ee.jsxs)("p",{children:["If you like the editor, try integrating with your own GitHub hosted keyboard config. ",(0,ee.jsx)(wc,{href:"https://github.com/nickcoutsos/zmk-config-corne-demo/generate",external:!0,children:"Use it as a template"})," for your own, or just read through the ",t," for this keyboard to learn what to apply to your existing keyboard."]})]}))})}var bu=r(33971),vu={};vu.styleTagTransform=m(),vu.setAttributes=f(),vu.insert=u().bind(null,"head"),vu.domAPI=l(),vu.insertStyleElement=y(),a()(bu.Z,vu);var gu=bu.Z&&bu.Z.locals?bu.Z.locals:void 0;function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function wu(){wu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==ju(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function xu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Su=function(e){var t,o,i=e.onSelect,a=(t=(0,n.useState)(!1),o=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,o)||function(e,t){if(e){if("string"==typeof e)return Ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ou(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,n.useEffect)((function(){var e;(e=wu().mark((function e(){var t,n,o;return wu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(873).then(r.t.bind(r,18873,19));case 2:t=e.sent,n=t.layout,o=t.keymap,i({source:"demo",layout:n,keymap:o});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xu(i,n,o,a,c,"next",e)}function c(e){xu(i,n,o,a,c,"throw",e)}a(void 0)}))})()}),[]),(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(de,{icon:"info",className:gu.help,onClick:function(){return l(!0)}}),c&&(0,ee.jsx)(mu,{onDismiss:function(){return l(!1)}})]})},ku=r(13311),Eu=r.n(ku),Pu="selectedGithubRepository",Au="selectedGithubBranch";function _u(e){try{return JSON.parse(localStorage.getItem("".concat(Au,":").concat(e)))}catch(e){return null}}var Tu={maxHeight:"300px",overflow:"auto",padding:"10px",fontFamily:"monospace",fontSize:"80%",backgroundColor:"rgb(239, 239, 239, 0.5)"},Iu={margin:"10px"};function Cu(e){var t=e.onDismiss,r=e.title,n=e.errors,o=e.otherRepoOrBranchAvailable,i=void 0!==o&&o,a=function(e){return"InfoValidationError"===e?"config/info.json":"KeymapValidationError"===e?"config/keymap.json":void 0}(r);return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:r}),a&&(0,ee.jsxs)("p",{children:["Errors in the file ",(0,ee.jsx)("code",{children:a}),"."]}),(0,ee.jsx)("ul",{style:Tu,children:n.map((function(e,t){return(0,ee.jsx)("li",{style:Iu,children:e},t)}))}),i&&(0,ee.jsx)("p",{children:"If you have another branch or repository with the required metadata files you may switch to them instead."})]})})}function Du(e){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(e)}function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){Lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Du(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Du(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Du(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mu={color:"royalblue",textDecoration:"underline",cursor:"pointer"};function zu(e){var t=(0,n.useContext)(k).openSettingsDialog,r=(0,ee.jsx)("span",{onClick:t,style:Mu,children:"Settings"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,Nu(Nu({},e),{},{children:[(0,ee.jsx)("h2",{children:"Missing Layout"}),(0,ee.jsxs)("p",{children:["Hi there! The repository you're trying to load from doesn't have a defined ",(0,ee.jsx)("code",{children:"config/info.json"})," file which provides the layout metadata needed to render keymaps."]}),(0,ee.jsx)("p",{children:"If you don't want to make your own layout right away you can let Keymap Editor attempt to generate one automatically based the matrix transform in your zmk-config's devicetree code."}),(0,ee.jsxs)("p",{children:["See the ",r," dialog for more details."]})]}))})}zu.propTypes={};var Bu=zu;function Gu(e){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(e)}function qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(r),!0).forEach((function(t){Ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ku(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Gu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Gu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Gu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zu="https://github.com/nickcoutsos/keymap-editor/wiki/Defining-keyboard-layouts";function Fu(e){var t=(0,ee.jsx)(wc,{href:Zu,external:!0,children:"Keymap Editor Wiki: Defining keyboard layouts"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,Uu(Uu({},e),{},{children:[(0,ee.jsx)("h2",{children:"This layout was Auto-Generated"}),(0,ee.jsxs)("p",{children:["Hi there! Your repository didn't include a layout definition in the ",(0,ee.jsx)("code",{children:"info.json"})," file, so the keymap editor tried to generate one automatically in a last-ditch effort to help you get into the app."]}),(0,ee.jsx)("p",{children:"Are there any glaring issues with what you're seeing? The layout is based on the matrix transform defined in the keyboard's devicetree source, which wasn't intended for visual representation so usually this results in boards appearing to have an ortholinear layout and keys will often appear mis-aligned for a variety of reasons."}),(0,ee.jsxs)("p",{children:['If you feel this is "good enough" to get going, feel free to start making edits to the keymap and when you save your changes this layout will be saved alongside in a file named  ',(0,ee.jsx)("code",{children:"info.json"}),". You can make some manual edits to that file if you need to tweak some of the individual key positions, sizes, and even rotation."]}),(0,ee.jsxs)("p",{children:["Sometimes the auto layout just isn't enough. If that's the case you may need to create your own layout. See ",t," for instructions on how to get started. If you run into any trouble, reach out by making an issue on the project repo and I'd be happy to discuss."]})]}))})}Fu.propTypes={};var Yu=Fu;function Vu(e){return Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(e)}function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(r),!0).forEach((function(t){Ju(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ju(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Vu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hu="https://github.com/nickcoutsos/keymap-editor/wiki/Defining-keyboard-layouts";function Xu(e){var t=(0,ee.jsx)(wc,{href:Hu,external:!0,children:"Keymap Editor Wiki: Defining keyboard layouts"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,Qu(Qu({},e),{},{children:[(0,ee.jsx)("h2",{children:"This layout was Auto-Generated"}),(0,ee.jsxs)("p",{children:["Hi there! Your repository didn't include a layout definition in the ",(0,ee.jsx)("code",{children:"info.json"})," file, so the keymap editor tried to generate one automatically in a last-ditch effort to help you get into the app."]}),(0,ee.jsxs)("p",{children:["This layout definition was saved to your repository when you first used it with the keymap editor, so remember that if there are any tweaks you'd like to make to improve it you can do so by editing the ",(0,ee.jsx)("code",{children:"info.json"})," file."]}),(0,ee.jsxs)("p",{children:["For more information on how to do that see ",t,". If you run into any trouble, reach out by making an issue on the project repo and I'd be happy to discuss."]})]}))})}Xu.propTypes={};var $u=Xu;function ep(e){var t=e.onDismiss,r=e.missingPath,n=e.otherRepoOrBranchAvailable;return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:"Missing keyboard definition?"}),(0,ee.jsxs)("p",{children:["Hi there! The repository you're trying to load from doesn't have a defined ",(0,ee.jsx)("code",{children:r}),". Right now this application is expecting to look at that directory to discover keyboard definitions for experimental features like automatic layout generation."]}),(0,ee.jsx)("p",{children:"Is it possible that the keyboard you're trying to edit relies on data from the ZMK or other repositories? Fetching from other repositories is not currently supported."}),(0,ee.jsx)("p",{children:"I'm a humble developer and have only worked with configurations for my own handwired builds, so if you feel you're receiving this message in error then please consider opening an issue on this project's GitHub repository to let me know what I can do differently."}),n&&(0,ee.jsx)("p",{children:"If you have another branch or repository set up as your zmk-config repo you may switch to that instead."})]})})}ep.propTypes={onDismiss:$().func.isRequired,missingPath:$().string.isRequired,otherRepoOrBranchAvailable:$().bool};var tp=ep;function rp(e){var t=e.installation,r="https://github.com/settings/installations/".concat(t.id);return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{dismissText:null,children:[(0,ee.jsx)("h2",{children:"App Disabled"}),(0,ee.jsxs)("p",{children:["Hello there, your installation of the keymap editor's GitHub app is currently disabled. ",(0,ee.jsx)("em",{children:"This is not a ban!"})]}),(0,ee.jsxs)("p",{children:["When you installed this app for your GitHub account you installed it for ",(0,ee.jsx)("em",{children:"all"})," of your repositories, and we need to do a little cleanup as we roll out some new features as it's very likely you will have other repositories unrelated to ZMK keyboard configurations."]}),(0,ee.jsx)("h3",{children:"How to fix this"}),(0,ee.jsxs)("p",{children:["If you're still interested in using the keymap editor (and I'd love for you to be able to) please go to your ",(0,ee.jsx)(wc,{href:r,children:"installation settings"})," on GitHub and select only the repositories you want to use with this tool. As soon as that's done you'll be sent back here and ready to go."]}),(0,ee.jsx)("p",{children:"As always, if you're looking for clarification or further assistance please visit our GitHub repo and open an issue or start a discussion."})]})})}rp.propTypes={installation:$().shape({id:$().number.isRequired}).isRequired};var np=rp;function op(e){var t=e.onDismiss,r=e.otherRepoOrBranchAvailable,n=(0,ee.jsx)(wc,{external:!0,href:"https://github.com/nickcoutsos/keymap-editor/issues",children:"issue"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:"Is this a zmk-config repo?"}),(0,ee.jsxs)("p",{children:["Hi there! The repository you're trying to load from doesn't have a defined ",(0,ee.jsx)("code",{children:"config"})," directory. Right now this application is expecting to look at that directory to discover keymaps and other metadata."]}),r&&(0,ee.jsx)("p",{children:"If you have another branch or repository set up as your zmk-config repo you may switch to that instead."}),(0,ee.jsxs)("p",{children:["This is a solo project and I have only worked with a few kinds of zmk config repos, so if this is a valid repo for zmk-powered keyboard firmware then please consider opening an ",n," to let me know what I can do differently."]})]})})}op.propTypes={onDismiss:$().func.isRequired,otherRepoOrBranchAvailable:$().bool};var ip=op;function ap(e){var t=e.onDismiss,r=(0,ee.jsx)(wc,{external:!0,href:"https://github.com/nickcoutsos/keymap-editor/issues",children:"Keymap Editor Issues"});return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{onDismiss:t,children:[(0,ee.jsx)("h2",{children:"Automatic Layout Generation Failed"}),(0,ee.jsx)("p",{children:"This does happen sometimes. I'm really very sorry."}),(0,ee.jsx)("p",{children:"Something went wrong with the attempted automatic layout generation for your keyboard and there's no automatic way to recover, but if you want to reach out for assistance maybe we can work together to resolve any technical issues or else craft a manual layout for your keyboard."}),(0,ee.jsxs)("p",{children:["Share your experience at ",r,"."]})]})})}ap.propTypes={onDismiss:$().func.isRequired};var cp=ap,lp=function(){return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{dismissText:null,children:[(0,ee.jsx)("h2",{children:"GitHub Account Blocked"}),(0,ee.jsx)("p",{children:"Hi, your access to this application has been disabled."}),(0,ee.jsxs)("p",{children:["This could be an innocent mistake. Possibly you've misunderstood the intended purpose of this app, possibly I got carried away with some housekeeping. If you want more information or feel this was done in error, please reach out to ",(0,ee.jsx)("em",{children:"nickcoutsos"})," on GitHub or Discord (you can find me on the ZMK server)."]})]})})};function sp(){return(0,ee.jsx)(we,{centerOnly:!0,children:(0,ee.jsxs)(yr,{dismissText:null,style:{width:"400px"},children:[(0,ee.jsx)("h2",{children:"Authenticate with GitHub"}),(0,ee.jsx)("p",{children:"Please log-in to GitHub to continue."}),(0,ee.jsx)(de,{collection:"brands",icon:"github",text:"Login with GitHub",style:{display:"block",margin:"0 auto"},onClick:function(){return Ts.beginLoginFlow()}})]})})}sp.propTypes={};var up=sp;function pp(){var e=Ts.username?"Welcome, ".concat(Ts.username,"!"):"Welcome!";return(0,ee.jsx)(we,{centerOnly:!0,children:(0,ee.jsxs)(yr,{dismissText:null,children:[(0,ee.jsx)("h2",{children:e}),(0,ee.jsx)("p",{children:"To begin import your own keymaps, you'll need to grant the Keymap Editor app access to the relevant GitHub repositories. Please make sure to only select repositories that are set up for ZMK keyboard configurations."}),(0,ee.jsxs)("p",{children:["This app requires read and write access to the repositories you select in order to write to arbitrary ",(0,ee.jsx)("code",{children:".keymap"})," files. It also receives all build action events for the repository, which generates quite a bit of traffic. Selecting ",(0,ee.jsx)("code",{children:"All repositories"})," for the app installation will lead to a suspension."]}),(0,ee.jsx)(de,{collection:"brands",icon:"github",text:"Add Repository",style:{display:"block",margin:"0 auto"},onClick:function(){return Ts.beginInstallAppFlow()}})]})})}pp.propTypes={};var fp=pp;function dp(e){return dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(e)}function yp(e){return function(e){if(Array.isArray(e))return xp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(){hp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==dp(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function mp(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function bp(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){mp(i,n,o,a,c,"next",e)}function c(e){mp(i,n,o,a,c,"throw",e)}a(void 0)}))}}function vp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vp(Object(r),!0).forEach((function(t){jp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==dp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==dp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===dp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wp(e,t){if(e){if("string"==typeof e)return xp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xp(e,t):void 0}}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Op(e){var t,r,o=(t=(0,n.useState)({blocked:!1,initialized:!1,selectedRepoId:null,selectedBranchName:null,selectedKeyboard:null,branches:[],keyboards:[],loadingBranches:!1,loadingKeyboard:!1,loadError:null,loadWarnings:null,autoGenerated_unsaved:!1,autoGenerated:!1,showLayoutHelp:!1,warningFlags:[]}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||wp(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1],c=i.initialized,l=i.branches,s=i.selectedRepoId,u=i.selectedBranchName,p=i.keyboards,f=i.selectedKeyboard,d=i.loadingBranches,y=i.loadingKeyboard,h=i.loadError,m=i.loadWarnings,b=i.autoGenerated,v=i.autoGenerated_unsaved,g=i.showLayoutHelp,j=i.warningFlags,w=e.onSelect,x="MissingRepoFile"===(null==h?void 0:h.name)&&"config"===(null==h?void 0:h.path),O="MissingRepoFile"===(null==h?void 0:h.name)&&(null==h?void 0:h.path.match(/config\/boards\/[^/]+\/[^/]+\/[^/]+?\..*$/)),S="MissingRepoFile"===(null==h?void 0:h.name)&&"config/info.json"===(null==h?void 0:h.path),k="LayoutGenerationError"===(null==h?void 0:h.name),E=j.includes("USING_ZMK_NODEFREE_MACROS"),P=j.includes("USING_MIRYOKU_DTSI"),A=j.includes("USING_NON_ZMK_MACRO"),_=(0,n.useMemo)((function(){return function(){a((function(e){return gp(gp({},e),{},{selectedBranchName:null,loadError:null,loadWarnings:null,warningFlags:[]})}))}}),[a]),T=(0,n.useMemo)((function(){return function(e){e.layout.every((function(e){return void 0===e.row&&void 0===e.col}))&&a((function(e){return gp(gp({},e),{},{loadWarnings:["Layout in info.json has no row/col definitions. Generated keymap files will not be nicely formatted."]})}))}}),[a]),I=(0,n.useMemo)((function(){return bp(hp().mark((function e(){var t,r,n,o,i,c;return hp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ts.repositories,n=null===(t=Eu()(r,{id:s}))||void 0===t?void 0:t.full_name,o=u,i=f,a((function(e){return gp(gp({},e),{},{loadingKeyboard:!0,loadError:null})})),e.next=7,Ts.fetchLayoutAndKeymap(n,o,{keyboard:i});case 7:c=e.sent,a((function(e){return gp(gp({},e),{},{keyboards:c.keyboards||[],loadingKeyboard:!1,autoGenerated_unsaved:c.layoutIsAutoGenerated_unsaved,autoGenerated:c.layoutIsAutoGenerated,warningFlags:c.keymap.warningFlags||[]})})),T(c),w(gp({github:{repository:n,branch:o,keyboard:i}},c));case 11:case"end":return e.stop()}}),e)})))}),[s,u,f,a,T,w]);if((0,n.useEffect)((function(){Ts.init().then((function(){var e,t=function(){try{return JSON.parse(localStorage.getItem(Pu))}catch(e){return null}}(),r=Ts.repositories||[];Eu()(r,{id:t})?e=t:r.length>0&&(e=r[0].id),a((function(t){return gp(gp({},t),{},{initialized:!0,selectedRepoId:e})}))}))}),[]),(0,n.useEffect)((function(){Ts.on("authentication-failed",(function(){Ts.beginLoginFlow()})),Ts.on("blocked",(function(){a((function(e){return gp(gp({},e),{},{blocked:!0})}))})),Ts.on("repo-validation-error",(function(e){a((function(t){return gp(gp({},t),{},{loadError:e,loadingKeyboard:!1})}))})),Ts.on("layout-generation-failed",(function(e){a((function(t){return gp(gp({},t),{},{loadError:e,loadingKeyboard:!1})}))}))}),[]),(0,n.useEffect)((function(){var e;s&&(e=s,localStorage.setItem(Pu,JSON.stringify(e)),bp(hp().mark((function e(){var t,r,n,o,i,c,l,u,p;return hp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a((function(e){return gp(gp({},e),{},{loadingBranches:!0})})),t=Eu()(Ts.repositories,{id:s}),e.next=4,Ts.fetchRepoBranches(t);case 4:r=e.sent,a((function(e){return gp(gp({},e),{},{branches:r,keyboard:null,keyboards:[],loadingBranches:!1})})),n=Fe()(r,"name"),o=t.default_branch,i=_u(s),c=1===r.length?r[0].name:null,l=hp().mark((function e(){var t;return hp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p[u],!n.includes(t)){e.next=4;break}return a((function(e){return gp(gp({},e),{},{selectedBranchName:t})})),e.abrupt("return","break");case 4:case"end":return e.stop()}}),e)})),u=0,p=[c,i,o];case 12:if(!(u<p.length)){e.next=20;break}return e.delegateYield(l(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",20);case 17:u++,e.next=12;break;case 20:case"end":return e.stop()}}),e)})))())}),[s]),(0,n.useEffect)((function(){var e,t;s&&u&&(e=s,t=u,localStorage.setItem("".concat(Au,":").concat(e),JSON.stringify(t)),I())}),[s,u,I]),!c)return null;if(i.blocked)return(0,ee.jsx)(lp,{});if(!Ts.isGitHubAuthorized())return(0,ee.jsx)(up,{});if(Ts.isAppSuspendedForRepoSelection())return(0,ee.jsx)(np,{installation:Ts.installations[0]});if(!Ts.isAppInstalled())return(0,ee.jsx)(fp,{});var C=Ts.repositories.map((function(e){return{id:e.id,name:e.full_name}})),D=Ts.installations.map((function(e){return{id:e.id,type:"installation",name:"[Manage available repos for ".concat(e.account.login,"...]")}})),R=[].concat(yp(C),yp(D)),N=l.map((function(e){return{id:e.name,name:e.name}})),L=p.map((function(e){return{id:e,name:e}}));return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Xs,{id:"repo",label:"Repository",value:s,choices:R,onUpdate:function(e,t){"installation"!==t.type?a((function(t){return gp(gp({},t),{},{selectedRepoId:e,selectedBranchName:null})})):Ts.manageInstallationRepos(e)}}),d?(0,ee.jsx)(Te,{}):l.length>1&&(0,ee.jsx)(Xs,{id:"branch",label:"Branch",value:u,choices:N,onUpdate:function(e){return a((function(t){return gp(gp({},t),{},{selectedBranchName:e,selectedKeyboard:null})}))}}),p.length>1&&(0,ee.jsx)(Xs,{id:"keyboard",label:"Keyboard",value:f,choices:L,onUpdate:function(e){return a((function(t){return gp(gp({},t),{},{selectedKeyboard:e})}))}}),y&&(0,ee.jsx)(Te,{}),S&&(0,ee.jsx)(Bu,{onDismiss:_}),O&&(0,ee.jsx)(tp,{onDismiss:_}),x&&(0,ee.jsx)(ip,{onDismiss:_,otherRepoOrBranchAvailable:R.length>1||N.length>0}),E&&(0,ee.jsx)(ou,{onDismiss:_}),P&&(0,ee.jsx)(ru,{onDismiss:_}),k&&(0,ee.jsx)(cp,{onDismiss:_}),A&&(0,ee.jsx)(eu,{onDismiss:_}),b&&g&&(v?(0,ee.jsx)(Yu,{onDismiss:function(){return a((function(e){return gp(gp({},e),{},{showLayoutHelp:!1})}))}}):(0,ee.jsx)($u,{onDismiss:function(){return a((function(e){return gp(gp({},e),{},{showLayoutHelp:!1})}))}})),h&&!k&&!O&&!S&&!x&&(0,ee.jsx)(Cu,{title:h.name,errors:h.errors,otherRepoOrBranchAvailable:R.length>1||N.length>0,onDismiss:_}),m&&(0,ee.jsx)(Cu,{title:"Warning",errors:m,onDismiss:function(){return a((function(e){return gp(gp({},e),{},{loadWarnings:null})}))}}),u&&!y&&(0,ee.jsx)(de,{icon:"sync",onClick:I}),b&&(0,ee.jsx)(de,{icon:"warning",onClick:function(e){e.stopPropagation(),a((function(e){return gp(gp({},e),{},{showLayoutHelp:!0})}))},children:"Layout wrong?"})]})}Op.propTypes={onSelect:$().func.isRequired};var Sp=Op,kp=rn()([I&&{id:"demo",name:"Demo Keyboard"},T&&{id:"local",name:"Local"},_&&{id:"github",name:"GitHub"}]),Ep=localStorage.getItem("selectedSource"),Pp=(1===kp.length?kp[0].id:null)||(kp.find((function(e){return e.id===Ep}))?Ep:kp[0].id);function Ap(e){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(e)}var _p=["layout","keymap","sensors"];function Tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ip(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ap(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ap(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ap(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dp(e){var t,r,o=e.onSelect,i=(t=(0,n.useState)(Pp),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Cp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cp(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],l=(0,n.useMemo)((function(){return function(e){var t=e.layout,r=e.keymap,n=e.sensors,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,_p);Object.assign(r,{behaviors:r.behaviors||[],layer_names:[]}),o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(r),!0).forEach((function(t){Ip(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({source:a,layout:t,keymap:r,sensors:n},i))}}),[o,a]);return(0,n.useEffect)((function(){localStorage.setItem("selectedSource",a)}),[a]),(0,ee.jsxs)("div",{children:[(0,ee.jsx)(Xs,{id:"source",label:"Source",value:a,choices:kp,onUpdate:c}),"local"===a&&(0,ee.jsx)(pu,{onSelect:l}),"demo"===a&&(0,ee.jsx)(Su,{onSelect:l}),"github"===a&&(0,ee.jsx)(Sp,{onSelect:l})]})}Dp.propTypes={onSelect:$().func.isRequired};var Rp=Dp,Np=r(30381),Lp=r.n(Np),Mp=r(80047),zp={};zp.styleTagTransform=m(),zp.setAttributes=f(),zp.insert=u().bind(null,"head"),zp.domAPI=l(),zp.insertStyleElement=y(),a()(Mp.Z,zp);var Bp=Mp.Z&&Mp.Z.locals?Mp.Z.locals:void 0;function Gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qp=["success"],Up=["action_required","cancelled","failure","skipped","stale","timed_out"];function Kp(e){var t,r,o=e.timestamp,i=(t=(0,n.useState)(Lp()(o).fromNow()),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Gp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gp(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return(0,n.useEffect)((function(){c(Lp()(o).fromNow());var e=setInterval((function(){c(Lp()(o).fromNow())}),6e4);return function(){return clearInterval(e)}}),[o,c]),(0,ee.jsx)("span",{title:o.toISOString(),children:a})}function Zp(e){var t=e.latestRun,r=qp.includes(t.conclusion)?(0,ee.jsx)(ce,{name:"check"}):Up.includes(t.conclusion)?(0,ee.jsx)(ce,{name:"xmark"}):(0,ee.jsx)(Te,{});return(0,ee.jsxs)(wc,{href:t.html_url,className:Bp.buildDetails,external:!0,showExternal:!1,children:[(0,ee.jsxs)("span",{className:Bp.buildSummary,children:["Firmware build (",(0,ee.jsx)("code",{children:t.head_sha.slice(0,5)}),") ",r,(0,ee.jsx)("br",{}),(0,ee.jsx)(Kp,{timestamp:new Date(t.updated_at)})]}),(0,ee.jsx)(ce,{name:"file-arrow-down",className:[Bp.buildStatus,Bp.buildSuccess].join(" ")})]})}Zp.propTypes={latestRun:$().shape({id:$().number.isRequired,name:$().string.isRequired,head_sha:$().string.isRequired,status:$().oneOf(["completed","action_required","cancelled","failure","neutral","skipped","stale","success","timed_out","in_progress","queued","requested","waiting"]).isRequired,conclusion:$().oneOf([null,"action_required","cancelled","failure","neutral","success","skipped","stale","timed_out"]),created_at:$().string.isRequired,updated_at:$().string.isRequired})};var Fp=Zp;function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vp(e){var t,r,o=e.onConfirm,i=e.onCancel,a=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yp(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{dismissText:null,children:[(0,ee.jsx)("h2",{children:"Commit keymap changes"}),(0,ee.jsx)("textarea",{style:{width:"100%"},placeholder:"Message (optional)",value:c,onChange:function(e){l(e.target.value)}}),(0,ee.jsxs)("p",{style:{textAlign:"center",gap:"10px"},children:[(0,ee.jsx)(it,{onClick:function(){return o(c)},children:"Commit"}),(0,ee.jsx)(it,{onClick:i,secondary:!0,children:"Cancel"})]})]})})}Vp.propTypes={onConfirm:$().func.isRequired,onCancel:$().func.isRequired};var Wp=Vp,Qp=r(70401),Jp=r.n(Qp),Hp=r(14084),Xp={};Xp.styleTagTransform=m(),Xp.setAttributes=f(),Xp.insert=u().bind(null,"head"),Xp.domAPI=l(),Xp.insertStyleElement=y(),a()(Hp.Z,Xp);var $p=Hp.Z&&Hp.Z.locals?Hp.Z.locals:void 0;function ef(e){return ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(e)}function tf(){tf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==ef(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function rf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return of(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?of(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function af(e){return"  ".concat(e.fileName,":").concat(e.lineNumber,":").concat(e.columnNumber)}var cf=(0,ee.jsx)(wc,{external:!0,href:"https://github.com/nickcoutsos/keymap-editor/issues/new",children:"new issue"});function lf(e){var t=e.error,r=nf((0,n.useState)([]),2),o=r[0],i=r[1],a=nf((0,n.useState)(""),2),c=a[0],l=a[1],s=nf((0,n.useState)(!1),2),u=s[0],p=s[1];return(0,n.useEffect)((function(){function e(){var r;return r=tf().mark((function e(){return tf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,Jp().fromError(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})),e=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){rf(i,n,o,a,c,"next",e)}function c(e){rf(i,n,o,a,c,"throw",e)}a(void 0)}))},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t]),(0,n.useEffect)((function(){l(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"\n".concat(e.name,"\n\n").concat(e.message,"\n\n").concat(t.map(af).join("\n"),"\n").trim()}(t,o))}),[t,o]),(0,n.useEffect)((function(){u&&setTimeout((function(){p(!1)}),3e3)}),[u,p]),(0,ee.jsx)(we,{children:(0,ee.jsxs)(yr,{dismissText:!1,style:{maxWidth:"700px"},children:[(0,ee.jsx)("h2",{children:"Unexpected error"}),(0,ee.jsxs)("p",{children:["Something unexpected happened and the keymap editor app cannot recover. Please consider taking a moment to open a ",cf,"with the details below to help me investigate and improve the app."]}),(0,ee.jsxs)("div",{className:$p.stackTrace,children:[(0,ee.jsx)("pre",{children:c}),(0,ee.jsx)(de,{icon:"copy",title:"Copy error text",className:$p.button,onClick:function(){var e="".concat("```","\n").concat(c,"\n").concat("```");navigator.clipboard.writeText(e).then((function(){return p(!0)}))}}),u&&(0,ee.jsx)("div",{className:$p.copyMessage,children:"Copied!"})]})]})})}lf.propTypes={error:$().instanceOf(Error).isRequired};var sf=lf;function uf(e){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(e)}function pf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==uf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===uf(o)?o:String(o)),n)}var o}function ff(e,t){return ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ff(e,t)}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},df(e)}var yf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ff(e,t)}(c,e);var t,r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=df(o);if(i){var r=df(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===uf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={error:null},t}return t=c,n=[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}],(r=[{key:"render",value:function(){var e=this.props.children,t=this.state.error;return t?(0,ee.jsx)(sf,{error:t}):e}}])&&pf(t.prototype,r),n&&pf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);function hf(e){return hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(e)}var mf=["source","layout","keymap","sensors"];function bf(){bf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function f(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&r.call(b,i)&&(h=b);var v=y.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=u(e[n],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==hf(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function vf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function gf(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vf(i,n,o,a,c,"next",e)}function c(e){vf(i,n,o,a,c,"throw",e)}a(void 0)}))}}function jf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xf=function(){var e=jf(rr(),2),t=e[0],r=e[1],o=t.definitions,i=t.source,a=t.sourceOther,c=t.keyboard,l=t._unmodifiedKeymap,s=t.saving,u=t.theme,p=t.settingsVisible,f=t.experimentalSettings,d=t.latestBuild;function y(){return y=gf(bf().mark((function e(){var n,o,i;return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.keyboard,o=t.keyboard.keymap,e.next=4,Z(n,o);case 4:i=e.sent,r({type:"KEYMAP_SAVE_SUCCESS",keymap:i});case 6:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}(0,n.useEffect)((function(){if(null!=a&&a.github)return gf(bf().mark((function t(){var r,n,o;return bf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.github,n=r.repository,o=r.branch,t.t0=e,t.next=4,Ts.fetchBuildStatus(n,o);case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})))(),Ts.on("build-update",e),function(){return Ts.off("build-update",e)};function e(e){e.head_branch===a.github.branch&&r({type:"GITHUB_BUILD_UPDATE",build:e})}r({type:"GITHUB_BUILD_UPDATE",build:null})}),[a,r]);var h=(0,n.useCallback)((function(e){var t=a.github,n=t.repository,o=t.branch;gf(bf().mark((function t(){var i,l,s,u;return bf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"COMMIT_DIALOG_CLOSE"}),r({type:"KEYMAP_SAVE_START"}),i=c.layout,l=c.keymap,t.next=5,Ts.commitChanges(n,o,i,l,{message:e,experimentalSettings:f,keyboard:a.github.keyboard});case 5:s=t.sent,u=s.data,r({type:"KEYMAP_SAVE_SUCCESS",keymap:u});case 8:case"end":return t.stop()}}),t)})))()}),[a,c,r,f]),m=(0,n.useCallback)((function(e){var t=e.source,n=e.layout,o=e.keymap,i=e.sensors,a=void 0===i?[]:i,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,mf);r({type:"SELECT_KEYBOARD",source:t,sourceOther:c,layout:n,keymap:o,sensors:a})}),[r]),b=(0,n.useMemo)((function(){return gf(bf().mark((function e(){var t,n,o,i,a,c,l;return bf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([function(){return z.apply(this,arguments)}().then(H),L(),function(){return B.apply(this,arguments)}()]);case 2:t=e.sent,n=jf(t,3),o=n[0],i=n[1],a=n[2],c=i.behaviors,l=i.bindings,o.indexed=j()(o,"code"),l.indexed=j()(l,"code"),l.context={none:l.filter((function(e){return!e.context})),macros:(0,E.filter)(l,{context:"macros"})},l.byContext={none:j()(l.context.none,"code"),macros:j()(l.context.macros,"code")},r({type:"DEFINITIONS_SET",definitions:{keycodes:o,behaviours:l,behaviors:c,behaviorBinds:l,glyphs:a}});case 14:case"end":return e.stop()}}),e)})))}),[r]),v=(0,n.useCallback)((function(e){r({type:"SETTINGS_UPDATE",settings:e})}),[r]),g=(0,n.useCallback)((function(){return r({type:"SETTINGS_OPEN"})}),[r]),w=c&&!Object.is(c.keymap,l);return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(yf,{children:(0,ee.jsx)(Me,{load:b,children:(0,ee.jsxs)(k.Provider,{value:{settings:f,openSettingsDialog:g},children:[(0,ee.jsx)(Rp,{onSelect:m}),(0,ee.jsxs)("div",{id:"settings-bar",children:[(0,ee.jsx)(de,{id:"light-mode",title:"Toggle theme",icon:{light:"sun",dark:"moon",system:"circle-half-stroke"}[u]||"circle-half-stroke",onClick:function(){return r({type:"CYCLE_THEME"})}}),(0,ee.jsx)(de,{id:"settings-button",icon:"cog",onClick:g}),p&&(0,ee.jsx)(Js,{settings:f,onUpdate:v,onClose:function(){return r({type:"SETTINGS_CLOSE"})}})]}),(0,ee.jsxs)("div",{id:"actions",children:["local"===i&&(0,ee.jsx)("button",{disabled:!w,onClick:function(){return y.apply(this,arguments)},children:"Save Local"}),"github"===i&&(0,ee.jsxs)("button",{title:"Commit keymap changes to GitHub repository",disabled:!w,onClick:function(){r({type:"COMMIT_DIALOG_OPEN"})},children:[s?"Saving":"Commit Changes",s&&(0,ee.jsx)(Te,{})]}),t.commitDialogOpen&&(0,ee.jsx)(Wp,{onConfirm:h,onCancel:function(){return r({type:"COMMIT_DIALOG_CLOSE"})}}),d&&(0,ee.jsx)(Fp,{latestRun:d})]}),(0,ee.jsx)(O.Provider,{value:o,children:c&&(0,ee.jsx)(zs,{layout:c.layout,keymap:c.keymap,sensors:c.sensors})})]})})}),(0,ee.jsx)(Ks,{})]})};document.body.dataset.theme=pt.theme,o.createRoot(document.getElementById("app-root")).render((0,ee.jsx)(n.StrictMode,{children:(0,ee.jsx)(tr,{children:(0,ee.jsx)(xf,{})})}))},39087:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,':root {\n  --bg: white;\n  --bg-rgb: 255,255,255;\n  --fg: black;\n\t--dark-red: #910e0e;\n\t--dark-blue: #6d99c6;\n  --error-highlight: rgb(179, 60, 60);\n  --selection: rgb(60, 179, 113);\n  --hover-selection: rgba(60, 179, 113, 0.85);\n  --delete: rgb(179, 60, 72);\n  --delete-faint: rgba(179, 60, 72, 0.6);\n  --link: royalblue;\n  --link-hover: #6d99c6;\n  --key-bg-base: #f2f2f2;\n  --key-bg-hover: white;\n  --key-bg-highlight: sandybrown;\n  --key-color-base: #6f6f6f;\n  --key-color-extreme: #313131;\n  --key-color-hover: white;\n  --code-bg: rgba(0, 0, 0, 0.15);\n}\nhtml {\n  font-family: Quicksand, avenir, sans-serif;\n}\nhtml, body {\n\twidth: 100vw;\n\theight: 100vh;\n\toverflow: auto;\n\tpadding: 0;\n\tmargin: 0;\n  background-color: var(--bg);\n  color: var(--fg);\n\n  transition: 300ms ease-in-out;\n  transition-property: color, background-color, border-color;\n}\n\nbody[data-theme="dark"] {\n  color-scheme: dark;\n  --bg: #123;\n  --bg-rgb: 17,34,51;\n  --fg: white;\n  --key-bg-base: #1c2c3b;\n  --key-color-base: #b7b7b7;\n  --key-color-extreme: #e7e7e7;\n}\n@media (prefers-color-scheme: dark) {\n  body[data-theme="system"] {\n    color-scheme: dark;\n    --bg: #123;\n    --bg-rgb: 17,34,51;\n    --fg: white;\n    --key-bg-base: #1c2c3b;\n    --key-color-base: #b7b7b7;\n    --key-color-extreme: #e7e7e7;\n  }\n}\n\nh3 {\n  margin-bottom: 10px;\n}\n\na { color: var(--link) }\na:hover { color: var(--link-hover) }\n\ncode {\n  background-color: var(--code-bg);\n  border-radius: 2px;\n  padding: .15em .3em .05em;\n}\n\n#actions {\n\tposition: absolute;\n  display: flex;\n\tbottom: 5px;\n\tright: 5px;\n  gap: 4px;\n}\n\n#actions button {\n  display: inline-block;\n  cursor: pointer;\n  background-color: var(--hover-selection);\n  color: white;\n\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  padding: 0 5px;\n\n  height: 30px;\n  line-height: 30px;\n  vertical-align: middle;\n}\n\n#actions button[disabled] {\n  filter: saturate(20%);\n  opacity: .5;\n  cursor: not-allowed;\n}\n\n#settings-bar {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n\n#settings-bar button {\n  background: none;\n  color: var(--fg);\n  border: none;\n}\n#settings-bar button:hover {\n  cursor: pointer;\n  color: royalblue;\n}\n\n.fa-delete-right::before {\n  content: \'\\f55a\';\n  transform-origin: center;\n  transform: rotateZ(180deg);\n  display: inline-block;\n}\n',""]),t.Z=a},51424:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"body {\n  margin: 0;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n",""]),t.Z=a},56281:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"button.pi2Ig8c3Fdh4H2Jpxdo7 {\n  display: inline-block;\n  cursor: pointer;\n  background-color: var(--hover-selection);\n  color: white;\n\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  padding: 0 5px;\n\n  height: 30px;\n  line-height: 30px;\n  vertical-align: middle;\n}\n\nbutton.Ctpu4E2dZYJ6g8CUGFOF {\n  color: var(--fg);\n  background-color: transparent;\n}\n\nbutton.pi2Ig8c3Fdh4H2Jpxdo7[disabled] {\n  filter: saturate(20%);\n  opacity: .5;\n  cursor: not-allowed;\n}\n",""]),a.locals={action:"pi2Ig8c3Fdh4H2Jpxdo7",secondary:"Ctpu4E2dZYJ6g8CUGFOF"},t.Z=a},49502:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".ZpdcqlK42OntJos3eGw0 {\n  background-color: var(--bg);\n  padding: 20px 40px;\n  margin: 40px;\n  max-width: 500px;\n  box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.4);\n}\n\n.ZpdcqlK42OntJos3eGw0 p, .ZpdcqlK42OntJos3eGw0 ul {\n  font-family: sans-serif;\n  line-height: 1.3rem;\n}\n\n.Mywg1Gw3bKMc9Kd9qcEO {\n  display: block;\n  margin: 0 auto;\n}\n",""]),a.locals={dialog:"ZpdcqlK42OntJos3eGw0",button:"Mywg1Gw3bKMc9Kd9qcEO"},t.Z=a},86015:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".ho3CuFFjX1VFNZJiAyVs {\n  position: relative;\n}\n\n.u9J3v5ZrIbuVICzNBkRw {\n  padding: 5px;\n  cursor: pointer;\n  opacity: 0.5;\n  color: var(--key-color-base);\n}\n.u9J3v5ZrIbuVICzNBkRw:hover {\n  opacity: 1;\n}\n\n.wmqWaOx7XyKADh7Kv4RZ {\n  position: absolute;\n  z-index: 10;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 100%);\n  max-width: 250px;\n  width: 100%;\n\n  border-radius: 4px;\n  padding: 3px 5px;\n\n  color: white;\n  background-color: var(--error-highlight);\n  font-size: 85%;\n  font-family: sans-serif;\n\n  opacity: 0.9;\n}\n.wmqWaOx7XyKADh7Kv4RZ::before {\n  position: absolute;\n  display: block;\n  content: ' ';\n  z-index: -1;\n\n  left: 50%;\n  width: 10px;\n  height: 10px;\n\n  background-color: var(--error-highlight);\n  transform: translate(-50%, -7px) rotate(45deg);\n}\n",""]),a.locals={container:"ho3CuFFjX1VFNZJiAyVs",edit:"u9J3v5ZrIbuVICzNBkRw",error:"wmqWaOx7XyKADh7Kv4RZ"},t.Z=a},87617:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".J2R67AQeCK_aC1DKFCMJ {\n  margin: 4px;\n}",""]),a.locals={icon:"J2R67AQeCK_aC1DKFCMJ"},t.Z=a},92127:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".FMkASzwt_oMscZdObpDQ {\n  display: inline-block;\n  text-align: center;\n}\n.TNF6aRMBPANvZifB27ZK {\n  display: inline-block;\n  animation: GGCs7iiBiwDCnT80cyTh 1s linear infinite;\n}\n\n@keyframes GGCs7iiBiwDCnT80cyTh {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}",""]),a.locals={spinner:"FMkASzwt_oMscZdObpDQ",icon:"TNF6aRMBPANvZifB27ZK",spin:"GGCs7iiBiwDCnT80cyTh"},t.Z=a},528:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".sq9i7hQeTeeKuarmO8oA {\n  display: inline-block;\n  font-size: 70%;\n  background: rgba(0, 0, 0, 0.3);\n  color: white;\n  padding: 4px;\n  border-radius: 4px;\n}\n",""]),a.locals={tip:"sq9i7hQeTeeKuarmO8oA"},t.Z=a},14084:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".Q5veln3l3laVkuNPs5dQ {\n  position: relative;\n}\n\n.Q5veln3l3laVkuNPs5dQ pre {\n  white-space: pre;\n  background-color: var(--code-bg);\n  color: var(--key-color-base);\n  padding: 10px;\n  max-height: 320px;\n  overflow: scroll;\n}\n\n.dqzgBwJ1Rq0XgMqeAKe7 {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  padding: 4px 7px;\n  color: var(--key-color-base);\n  background-color: var(--key-bg-base);\n  border: 1px solid var(--key-color-base);\n  border-radius: 3px;\n}\n.dqzgBwJ1Rq0XgMqeAKe7:hover {\n  cursor: pointer;\n  background-color: var(--selection);\n  border: var(--selection);\n  color: white;\n}\n\n.YV2lKA9hbJpP4Vs4udw8 {\n  position: absolute;\n  top: 5px;\n  right: 0px;\n  background-color: var(--selection);\n  color: white;\n  padding: 10px;\n  border-radius: 2px;\n  cursor: none;\n}\n",""]),a.locals={stackTrace:"Q5veln3l3laVkuNPs5dQ",button:"dqzgBwJ1Rq0XgMqeAKe7",copyMessage:"YV2lKA9hbJpP4Vs4udw8"},t.Z=a},14409:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".xCOOsvxL5qQ3kR8ri91A {\n  box-shadow: 0 4px 10px 0px rgba(0, 0, 0, 0.5);\n}\n\n.u4uW9U2E0DfbUM9vP9pf {\n  text-align: center;\n  padding: 0;\n  margin: 0;\n}\n\n.u4uW9U2E0DfbUM9vP9pf li {\n  display: inline-block;\n  font-family: monospace;\n  font-size: 120%;\n  margin: 4px 2px;\n  padding: 4px 4px;\n  border-radius: 2px;\n  cursor: pointer;\n\n  background-color: rgba(0, 0, 0, .5);\n  opacity: 0.5;\n  color: white;\n}\n\n.u4uW9U2E0DfbUM9vP9pf li.YcHSun3PLo8dCb9qIZtc {\n  opacity: 1;\n  background-color: var(--selection);\n  color: white;\n}\n\n.u4uW9U2E0DfbUM9vP9pf li:hover {\n  opacity: 1;\n  background-color: var(--hover-selection);\n}\n",""]),a.locals={previewKeycode:"xCOOsvxL5qQ3kR8ri91A",modifiers:"u4uW9U2E0DfbUM9vP9pf",selected:"YcHSun3PLo8dCb9qIZtc"},t.Z=a},27470:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.S3t60CK1JCROFIrRlm4j [readonly] {\n  cursor: not-allowed;\n  color: gray;\n  outline: gray;\n}\n\ninput.S3t60CK1JCROFIrRlm4j[type="text"],\ninput.S3t60CK1JCROFIrRlm4j[type="number"],\nselect.S3t60CK1JCROFIrRlm4j {\n  width: 100%;\n}\n\nol.MedG7SPG2ge2h7j2yqrJ {\n  list-style-type: none;\n  margin-top: 0;\n  padding: 0;\n}\n.V50Bekt6td9yQOSiDGdx {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.V50Bekt6td9yQOSiDGdx li {\n  display: inline-block;\n  line-height: 2rem;\n}\nol.QNg3v6_eJoK7_qV0_y9n {\n  margin: 0;\n}\nol.QNg3v6_eJoK7_qV0_y9n li {\n  line-height: 2rem;\n}\nol.u65C3Uji7covMUn996dR {\n  list-style-type: none;\n  padding: 0;\n}\n.xp5u4Uo4X2fxxX9KwwXu {\n  cursor: pointer;\n  margin: 2px;\n  padding: 5px;\n  font-family: monospace;\n  border-radius: 1rem;\n  background-color: var(--key-bg-base);\n}\n.xp5u4Uo4X2fxxX9KwwXu:hover {\n  background-color: var(--hover-selection);\n  color: white;\n}\n\n.gpFGP00LCwlGjK6yrGWw {\n  vertical-align: text-bottom;\n  margin: 0 2px;\n}\n.gpFGP00LCwlGjK6yrGWw:hover {\n  color: black;\n}\n\n.gsAzkKxnfzTcp5ApwmWS {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n/* Copied from MacroEditor :( */\n.KrcWDYfRVRfvRhpsBFxs {\n  visibility: hidden;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  font-size: 80%;\n\n  color: var(--key-color-hover);\n}\n.KrcWDYfRVRfvRhpsBFxs > * {\n  margin: 2px;\n  opacity: 0.5;\n  cursor: pointer;\n}\n.gsAzkKxnfzTcp5ApwmWS li :hover .KrcWDYfRVRfvRhpsBFxs {\n  visibility: visible;\n  z-index: 10;\n}\n\n.KrcWDYfRVRfvRhpsBFxs :hover {\n  opacity: 1;\n}\n',""]),a.locals={propertyValue:"S3t60CK1JCROFIrRlm4j",propertyMultiSelect:"MedG7SPG2ge2h7j2yqrJ",propertyMultiSelectChips:"V50Bekt6td9yQOSiDGdx",propertyPhandleSelect:"QNg3v6_eJoK7_qV0_y9n",propertyPhandleSingleton:"u65C3Uji7covMUn996dR",behaviorBind:"xp5u4Uo4X2fxxX9KwwXu",phandleRemove:"gpFGP00LCwlGjK6yrGWw",propertyBindingsValue:"gsAzkKxnfzTcp5ApwmWS",actions:"KrcWDYfRVRfvRhpsBFxs"},t.Z=a},34288:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".kcj881bnLDph62EcKelj {\n  padding-bottom: 60px;\n}\n\n.GeuMxQtBvZYr0nOURDHd {\n  display: flex;\n  width: 190px;\n  flex-direction: column;\n  padding: 10px;\n  gap: 10px;\n  position: fixed;\n}\n\n.NqlHG1MKBiOUUFAed3CM {\n  max-width: 700px;\n  margin: 0 auto;\n  padding-bottom: 60px;\n}\n\n.NqlHG1MKBiOUUFAed3CM table {\n  border-spacing: 0;\n}\n.NqlHG1MKBiOUUFAed3CM table thead {\n  text-align: left;\n}\n\n.NqlHG1MKBiOUUFAed3CM table tbody tr td {\n  padding: 10px;\n  margin: 0;\n}\n.NqlHG1MKBiOUUFAed3CM table tbody tr:nth-child(even) {\n  background-color: var(--key-bg-base);\n}\n\n.Q3_rmo3XiEVg8qfXgKX_ {\n  cursor: pointer;\n  padding: 5px;\n  opacity: 0.6;\n}\n.Q3_rmo3XiEVg8qfXgKX_:hover {\n  opacity: 1;\n}\n\ntable.czOKx_t_EDF44pilzyzA { max-height: 80vh; }\ntable.czOKx_t_EDF44pilzyzA th { text-align: left }\ntable.czOKx_t_EDF44pilzyzA input { font-family: monospace }\ntable.czOKx_t_EDF44pilzyzA td {\n  padding: 4px;\n  vertical-align: top;\n}\ntable.czOKx_t_EDF44pilzyzA .s8rWNi6e8BZ7yQubfDws {\n  font-family: monospace;\n}\n.Bux6GxjreGZZkcXqx6kv {\n  display: block;\n  font-style: italic;\n}\n",""]),a.locals={main:"kcj881bnLDph62EcKelj",sidebar:"GeuMxQtBvZYr0nOURDHd",panel:"NqlHG1MKBiOUUFAed3CM",action:"Q3_rmo3XiEVg8qfXgKX_",editorForm:"czOKx_t_EDF44pilzyzA",propertyName:"s8rWNi6e8BZ7yQubfDws",propertyDeprecation:"Bux6GxjreGZZkcXqx6kv"},t.Z=a},78207:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.pwXbGORsYKqyOPBm9_dW {\n  padding-bottom: 60px;\n}\n\n.QgFDXNybKD_XN66M_WpJ {\n  display: flex;\n  width: 190px;\n  flex-direction: column;\n  padding: 10px;\n  gap: 10px;\n  position: fixed;\n}\n\n.Gy0KZGCgOeVminAfggFQ {\n  cursor: pointer;\n  background-color: var(--key-bg-base);\n}\n.Gy0KZGCgOeVminAfggFQ:hover {\n  border: 4px solid var(--selection);\n  box-sizing: border-box;\n}\n\n.Ld9cVdtpS_DpbEifyX9Y {\n  background-color: var(--selection);\n}\n.Ld9cVdtpS_DpbEifyX9Y:hover {\n  background-color: var(--hover-selection);\n}\n\n.mqpJ7uHAMKxvORoOIPFK {\n  max-width: 450px;\n  margin: 0 auto;\n  padding-bottom: 60px;\n}\n\n.BVucwy4AZCyl7GyivzMn {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 2px solid var(--key-bg-base);\n  margin: 5px 0;\n}\n\n.U6g0njWjBrtb_I3XhAeV {\n  cursor: pointer;\n  padding: 5px;\n  opacity: 0.6;\n}\n.U6g0njWjBrtb_I3XhAeV:hover {\n  opacity: 1;\n}\n\n.CROhsBLtunQ2BbfWdkQw {\n  margin: 10px 0 40px;\n}\n\n.CROhsBLtunQ2BbfWdkQw .MhA4fXXuaZ1iPvv05w4m {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n}\n\n.CROhsBLtunQ2BbfWdkQw h5 {\n  margin: 0;\n}\n\n.vujYcgQjiN4BGp37FMUH {\n  color: var(--key-color-base);\n}\n\n.uh2yPWyfEOZtgXo2_KtU {\n  color: var(--delete);\n}\n\n.NAB1EN6_pcYIy5Db9XnC {\n  display: none !important;\n}\n.NAB1EN6_pcYIy5Db9XnC:hover {\n  color: white;\n  cursor: pointer;\n}\n.kYn8brsFgEaf61oQyv4d:hover .NAB1EN6_pcYIy5Db9XnC {\n  display: flex !important;\n  position: absolute;\n  right: -48px;\n  transform: scale(0.5);\n}\n\n.NGxnhfSJaJ9FNu3hlBfc.NAB1EN6_pcYIy5Db9XnC,\n.NGxnhfSJaJ9FNu3hlBfc.GXgG_IaQTricqThqzsKe > * {\n  background-color: sandybrown;\n  color: white;\n}\n.NGxnhfSJaJ9FNu3hlBfc.NAB1EN6_pcYIy5Db9XnC {\n  display: flex;\n}\n\n.fljdvcebOv1gbKZpf0vW {\n  margin: 10px 0;\n  display: flex;\n}\n\n.fljdvcebOv1gbKZpf0vW label {\n  display: inline-block;\n  width: 120px;\n  text-align: right;\n  margin-right: 10px;\n}\n\n.bnN6JCit0RcjdQiqzw8w {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.bnN6JCit0RcjdQiqzw8w li {\n  cursor: pointer;\n  display: inline-block;\n  padding: 5px 10px;\n  margin: 5px;\n  border-radius: 30px;\n  background-color: var(--key-bg-base);\n}\n.bnN6JCit0RcjdQiqzw8w li[data-selected="true"] {\n  background-color: var(--selection);\n  color: var(--key-color-hover);\n}\n.bnN6JCit0RcjdQiqzw8w li:hover {\n  background-color: var(--hover-selection);\n  color: var(--key-color-hover);\n}\n\n.NpLEYrC32KQ4rUx9hUFJ {\n  background-color: var(--key-bg-base);\n  border-radius: 30px;\n  color: var(--key-color-base);\n  font-size: 80%;\n  text-align: center;\n  padding: 5px;\n  position: absolute;\n  bottom: -40px;\n  left: 50%;\n  transform: translate(-50%, 0);\n  width: 110%;\n\n  pointer-events: none;\n  transition: opacity ease-in-out .5s;\n}\n\n.l2gtE1XKS63R5TM5unip { position: relative }\n.l2gtE1XKS63R5TM5unip:hover .NpLEYrC32KQ4rUx9hUFJ { opacity: 0.25 }\n',""]),a.locals={main:"pwXbGORsYKqyOPBm9_dW",sidebar:"QgFDXNybKD_XN66M_WpJ",selectable:"Gy0KZGCgOeVminAfggFQ",highlight:"Ld9cVdtpS_DpbEifyX9Y",comboPanel:"mqpJ7uHAMKxvORoOIPFK",heading:"BVucwy4AZCyl7GyivzMn",action:"U6g0njWjBrtb_I3XhAeV",combo:"CROhsBLtunQ2BbfWdkQw",detail:"MhA4fXXuaZ1iPvv05w4m",edit:"vujYcgQjiN4BGp37FMUH",remove:"uh2yPWyfEOZtgXo2_KtU",addComboInput:"NAB1EN6_pcYIy5Db9XnC",comboInputList:"kYn8brsFgEaf61oQyv4d",active:"NGxnhfSJaJ9FNu3hlBfc",comboInput:"GXgG_IaQTricqThqzsKe",field:"fljdvcebOv1gbKZpf0vW",layerList:"bnN6JCit0RcjdQiqzw8w",floatingMessage:"NpLEYrC32KQ4rUx9hUFJ",comboInputMap:"l2gtE1XKS63R5TM5unip"},t.Z=a},56520:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".eEWh1kMxq0qwtAjWodL_ {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.eEWh1kMxq0qwtAjWodL_.Me2iewShkkUWEmhCKAJV {\n  cursor: crosshair;\n}\n\n.wou_rpm0nvB8wxB153cE {\n  position: absolute;\n  background-color: rgba(150, 255, 150, 0.1);\n  border: 3px dotted rgba(150, 255, 150, 0.7);\n  pointer-events: none;\n  box-sizing: border-box;\n}\n\n.wou_rpm0nvB8wxB153cE.fM8xQCv4KykkW5ssxgEg {\n  background-color: rgba(120, 120, 120, 0.1);\n  border-color: rgba(120, 120, 120, 0.25);\n}\n",""]),a.locals={container:"eEWh1kMxq0qwtAjWodL_",selecting:"Me2iewShkkUWEmhCKAJV",overlay:"wou_rpm0nvB8wxB153cE",negate:"fM8xQCv4KykkW5ssxgEg"},t.Z=a},49040:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".lD5TsvdIbEAHNdmhfnlb {\n  background-color: var(--key-bg-base);\n}\n.yk89E4zK9zlO69OXhKn5:hover {\n  cursor: pointer;\n  border: 4px solid var(--selection);\n  box-sizing: border-box;\n}\n\n.pzTvsxKjpy6MqcFhxh9j {\n  background-color: var(--selection);\n}\n.pzTvsxKjpy6MqcFhxh9j:hover {\n  background-color: var(--hover-selection);\n}\n\n.r_Sdklnj57CE2ZjnBDw6 {\n  background-color: var(--hover-selection);\n  filter: brightness(135%);\n}\n\n.Ich9T1nSzHs1a84insfp {\n  background-color: var(--hover-selection);\n  filter: brightness(75%);\n}\n\n._3U1zi1J1sXT41AzpAA1j {\n  position: absolute;\n  bottom: 0;\n  right: 50%;\n  transform: translate(50%, 100%);\n}\n",""]),a.locals={key:"lD5TsvdIbEAHNdmhfnlb",selectable:"yk89E4zK9zlO69OXhKn5",highlight:"pzTvsxKjpy6MqcFhxh9j",previewAdd:"r_Sdklnj57CE2ZjnBDw6",previewRemove:"Ich9T1nSzHs1a84insfp",tip:"_3U1zi1J1sXT41AzpAA1j"},t.Z=a},52487:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".LQCQzczCW2r1SnVzbpa5 {\n  display: inline-block;\n  position: absolute;\n  z-index: 10;\n  font-size: 70%;\n  background: var(--bg);\n  padding: 5px 10px;\n  margin-left: 10px;\n\n  border-radius: 4px;\n}\n\n.LQCQzczCW2r1SnVzbpa5 p {\n  display: inline-block;\n  cursor: pointer;\n  margin: 0;\n}\n\n.LQCQzczCW2r1SnVzbpa5 ul {\n  display: none;\n}\n.LQCQzczCW2r1SnVzbpa5.tzuBilUEs5Rc4csF4mw6 {\n  box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.5);\n}\n.LQCQzczCW2r1SnVzbpa5.tzuBilUEs5Rc4csF4mw6 ul {\n  display: block;\n  padding: 0;\n  margin-bottom: 0;\n  list-style-type: none;\n}\n\n.LQCQzczCW2r1SnVzbpa5 li {\n  cursor: pointer;\n  margin: 2px 0;\n  line-height: 20px;\n  padding: 0 5px;\n  border-radius: 10px;\n}\n\n.LQCQzczCW2r1SnVzbpa5 li:hover {\n  background-color: var(--hover-selection);\n  color: white;\n}\n",""]),a.locals={quickChangeMenu:"LQCQzczCW2r1SnVzbpa5",open:"tzuBilUEs5Rc4csF4mw6"},t.Z=a},2:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.CoLZlKR1WcMrFd9XhDMC {\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t/* TODO: remove this once I have a wrapper with size defaults */\n\twidth: 65px;\n\theight: 65px;\n\n\tfont-size: 110%;\n\tborder-radius: 5px;\n}\n\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:not(:hover) .UNzQquWsoIanOpIN0Q9L {\n\ttext-decoration: underline wavy var(--error-highlight);\n\ttext-underline-offset: 4px;\n\tcolor: var(--error-highlight);\n\tfont-weight: bold;\n}\n\n.Y5EVt8b0BaXNd9uLxhfh {\n\tposition: absolute;\n\tleft: 2px;\n\tbottom: 2px;\n\tfont-size: 80%;\n\n\tanimation: sYr3l9y03JxO_2AP73jr ease-in-out 1s alternate-reverse;\n}\n.Y5EVt8b0BaXNd9uLxhfh.CT4uGhwl8sY0LwT3p39g:hover {\n\tcolor: rgb(255, 225, 0);\n}\n\n@keyframes sYr3l9y03JxO_2AP73jr {\n\t0% { color: var(--key-color-base) }\n\t100% { color: var(--key-color-extreme) }\n}\n\n\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .DejZXCvvhJILPbs9Q8ht,\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .GliE4Ybwli9X6TNTjD1_ {\n\tborder-bottom-left-radius: 0;\n\tborder-bottom-right-radius: 0;\n\ttext-decoration: underline dotted white 2px;\n\ttext-underline-offset: 4px;\n}\n\n\n.huQDP3GbTLThbVIP8wFp {\n\tcolor: var(--key-color-base);\n\tbackground-color: var(--key-bg-base);\n}\n\n.PpMmKpJfEi37Ldw7AeBT {\n\tborder-radius: 100%;\n\tbackground-color: var(--key-bg-base);\n\tcolor: var(--key-color-base);\n}\n\n.k2EIh8YlFvp9sBuklSxx {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-size: 50%;\n}\n\n.CT4uGhwl8sY0LwT3p39g:hover, .PpMmKpJfEi37Ldw7AeBT.CT4uGhwl8sY0LwT3p39g:hover {\n\tbackground-color: var(--hover-selection);\n\ttransition: 200ms;\n\tz-index: 1;\n}\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .DejZXCvvhJILPbs9Q8ht, .CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .GliE4Ybwli9X6TNTjD1_ {\n\tcolor: var(--key-color-hover);\n}\n.CoLZlKR1WcMrFd9XhDMC > .DejZXCvvhJILPbs9Q8ht {\n\tpadding: 5px;\n}\n\n[data-simple="true"] { font-size: 140%; }\n[data-long="true"] { font-size: 60%; }\n\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root="true"])::before { content: \'(\'; opacity: 0.4; font-weight: bold; margin: 2px; }\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root="true"])::after { content: \')\'; opacity: 0.4; font-weight: bold; margin: 2px; }\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root="true"]) .mLz637Atn0jZXey6Rx4v:not(:last-child)::after { content: \',\'; }\n\n.DejZXCvvhJILPbs9Q8ht {\n\tcursor: default;\n\tpadding: 0px 4px;\n\tmargin-left: -2px;\n\tmargin-right: -2px;\n}\n\n.CT4uGhwl8sY0LwT3p39g .DejZXCvvhJILPbs9Q8ht {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\tbox-sizing: content-box;\n\tmin-width: 0.5em;\n\ttext-align: center;\n\tborder-radius: 4px;\n}\n.CT4uGhwl8sY0LwT3p39g .DejZXCvvhJILPbs9Q8ht:hover {\n\tbackground-color: white !important;\n\tcolor: var(--hover-selection) !important;\n\tborder-radius: 4px !important;\n}\n\n.DejZXCvvhJILPbs9Q8ht * {\n\tpointer-events: none;\n}\n\n.GliE4Ybwli9X6TNTjD1_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 10px;\n  padding: 2px;\n  opacity: 0.65;\n}\n\n.GliE4Ybwli9X6TNTjD1_:hover {\n  cursor: pointer;\n  color: var(--hover-selection) !important;\n  background-color: var(--key-bg-hover);\n  border-radius: 5px 0;\n  opacity: 1;\n}\n',""]),a.locals={key:"CoLZlKR1WcMrFd9XhDMC",selectable:"CT4uGhwl8sY0LwT3p39g",missingValue:"UNzQquWsoIanOpIN0Q9L",missing:"Y5EVt8b0BaXNd9uLxhfh",pulse:"sYr3l9y03JxO_2AP73jr",code:"DejZXCvvhJILPbs9Q8ht","behaviour-binding":"GliE4Ybwli9X6TNTjD1_",keyDefaultTheme:"huQDP3GbTLThbVIP8wFp",encoder:"PpMmKpJfEi37Ldw7AeBT",encoderDirection:"k2EIh8YlFvp9sBuklSxx",params:"ApHDJFJGYUaGTgzMeIKZ",param:"mLz637Atn0jZXey6Rx4v"},t.Z=a},35839:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'\n.O8SEfqE2Ewc3b7c7mY_N {\n  position:absolute;\n  top: -5px;\n  left: 0px;\n  width: 100%;\n  /* border: 1px solid red; */\n  /* padding: 5px; */\n  /* opacity: 0.5; */\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.s9O56LWZBKHctVZ4a6fa {\n  position: relative;\n  width: 37.5px;\n  height: 65px;\n  margin: 0;\n}\n\n.s9O56LWZBKHctVZ4a6fa[data-is-control="true"] {\n  width: 450px;\n  height: 15px;\n}\n\n.NNwZmurJWlIfvb3BWlNX {\n  position: relative;\n  width: 450px;\n  height: 10px;\n}\n.NNwZmurJWlIfvb3BWlNX.wVYVfDVsCKFNjQcGKIVI::after {\n  content: \'\';\n  display: block;\n  position: absolute;\n  top: 50%;\n  transform: translate(0, -50%);\n  width: 450px;\n  height: 4px;\n  background-color: var(--selection);\n}\n.MDfy6RcGBlm8W_ChRhyP[data-extend="1"] { width: calc(37.5px + 1 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="2"] { width: calc(37.5px + 2 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="3"] { width: calc(37.5px + 3 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="4"] { width: calc(37.5px + 4 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="5"] { width: calc(37.5px + 5 * 75px); }\n\n/* .dropTargetHalf {\n  background-color: blue;\n  opacity: 0.25;\n}\n.dropTargetHalf.secondHalf {\n  background-color: red;\n}\n.dropTargetRow {\n  background-color: purple;\n  opacity: 0.25;\n} */\n\n.wVYVfDVsCKFNjQcGKIVI.s9O56LWZBKHctVZ4a6fa:not(.MDfy6RcGBlm8W_ChRhyP):not([data-is-control="true"])::before,\n.wVYVfDVsCKFNjQcGKIVI.MDfy6RcGBlm8W_ChRhyP:not([data-is-control="true"])::after {\n  content: \'\';\n  display: block;\n  height: 65px;\n  width: 4px;\n  border-radius: 4px;\n  background-color: var(--selection);\n}\n\n.AuFB9WiCynP_oONYhOvq .wVYVfDVsCKFNjQcGKIVI:not([data-drop-mode="row"])::before,\n.AuFB9WiCynP_oONYhOvq .wVYVfDVsCKFNjQcGKIVI:not([data-drop-mode="row"])::after {\n   visibility: hidden;\n }\n\n.s9O56LWZBKHctVZ4a6fa:not(.MDfy6RcGBlm8W_ChRhyP):not([data-is-control="true"])::before {\n  transform: translate(-50%, 0);\n}\n.MDfy6RcGBlm8W_ChRhyP:not([data-is-control="true"])::after {\n  position: absolute;\n  left: 32.5px;\n  transform: translate(50%, 0);\n}\n',""]),a.locals={dropTargets:"O8SEfqE2Ewc3b7c7mY_N",dropTargetHalf:"s9O56LWZBKHctVZ4a6fa",dropTargetRow:"NNwZmurJWlIfvb3BWlNX",droppable:"wVYVfDVsCKFNjQcGKIVI",secondHalf:"MDfy6RcGBlm8W_ChRhyP",dropRowOnly:"AuFB9WiCynP_oONYhOvq"},t.Z=a},96201:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".kc8Au327pmIjKO7auLXT {\n  padding-bottom: 60px;\n}\n\n.B8FpRtVdxbvJjwZoVNB4 {\n  display: flex;\n  position: fixed;\n  width: 180px;\n  flex-direction: column;\n  padding: 10px;\n  gap: 10px;\n}\n\n.Us3Ihf0AoVbZvDulP74Q {\n  width: 550px;\n  margin: 10px auto 40px;\n}\n.OVI4IkVsVzyk0eIAn9NX {\n  display: flex;\n  position: relative;\n  justify-content: space-between;\n  border-bottom: 2px solid var(--key-bg-base);\n  margin: 5px 0;\n}\n.OVI4IkVsVzyk0eIAn9NX h5 {\n  margin: 0;\n}\n.QNlSO_GSGhRfUFRE_v8E {\n  cursor: pointer;\n  padding: 5px;\n  opacity: 0.6;\n}\n.QNlSO_GSGhRfUFRE_v8E:hover {\n  opacity: 1;\n}\n.DvzBwGDH7HsnnIbqaeHi {\n  color: var(--delete);\n}\n\n.mwhR_W7iqHq803xNBV1H {\n  text-align: center;\n}\n.mwhR_W7iqHq803xNBV1H > * {\n  margin: 5px;\n}\n\n.TBgT7nB7JSSjnTpMQeXp {\n  position: relative;\n  width: 450px;\n  /* border: 1px solid lightgray; */\n  margin: 0 auto;\n  padding: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.TBgT7nB7JSSjnTpMQeXp > * {\n  margin: 5px;\n  width: 65px;\n  height: 65px;\n}\n\n.YMJbsLvnEGObUy4Y_i6w {\n  width: 100%;\n  height: 30px;\n  box-sizing: border-box;\n}\n.YMJbsLvnEGObUy4Y_i6w:hover {\n  background-color: var(--hover-selection);\n  color: var(--key-color-hover);\n}\n.YMJbsLvnEGObUy4Y_i6w > :first-child {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.TBgT7nB7JSSjnTpMQeXp [draggable] {\n  cursor: grab;\n}\n\n.I5drc4dA5Kpshp3PPle1 {\n  visibility: hidden;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  font-size: 80%;\n\n  color: var(--key-color-hover);\n}\n.I5drc4dA5Kpshp3PPle1 > * {\n  margin: 2px;\n  opacity: 0.5;\n  cursor: pointer;\n}\n.TBgT7nB7JSSjnTpMQeXp :hover .I5drc4dA5Kpshp3PPle1 {\n  visibility: visible;\n  z-index: 10;\n}\n\n.I5drc4dA5Kpshp3PPle1 :hover {\n  opacity: 1;\n}\n\n\n.iD9DsKMZZ1dQxr04488w {\n  margin: 10px 0;\n  display: flex;\n}\n\n.iD9DsKMZZ1dQxr04488w label {\n  display: inline-block;\n  width: 120px;\n  text-align: right;\n  margin-right: 10px;\n}\n\n.quGO7XFPrHoYiqu22mwg {\n  font-size: 80%;\n}",""]),a.locals={main:"kc8Au327pmIjKO7auLXT",sidebar:"B8FpRtVdxbvJjwZoVNB4",macro:"Us3Ihf0AoVbZvDulP74Q",heading:"OVI4IkVsVzyk0eIAn9NX",action:"QNlSO_GSGhRfUFRE_v8E",remove:"DvzBwGDH7HsnnIbqaeHi",macroActions:"mwhR_W7iqHq803xNBV1H",macroBindings:"TBgT7nB7JSSjnTpMQeXp",controlBinding:"YMJbsLvnEGObUy4Y_i6w",actions:"I5drc4dA5Kpshp3PPle1",field:"iD9DsKMZZ1dQxr04488w",betaDisclaimer:"quGO7XFPrHoYiqu22mwg"},t.Z=a},87995:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.D0BH39_6wwiclW8aKuoi {\n  display: inline-flex;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.D0BH39_6wwiclW8aKuoi li {\n  cursor: pointer;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 4px;\n  font-variant: small-caps;\n}\n.D0BH39_6wwiclW8aKuoi li.xwo6V7AWCmy8CDvuTwRg {\n  background-color: var(--selection);\n  color: white;\n  cursor: default;\n}\n\n.dq40zXJZyr_8iRvyWdV0 {\n  position: absolute;\n  z-index: 2;\n}\n\n.dq40zXJZyr_8iRvyWdV0 ul {\n  display: inline-block;\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.dq40zXJZyr_8iRvyWdV0 li {\n\tcursor: pointer;\n\tbackground-color: rgba(201, 201, 201, 0.5);\n\tcolor: darkgray;\n\tborder-radius: 15px;\n  height: 30px;\n\tpadding: 0px;\n\tmargin: 4px 2px;\n\n}\n.dq40zXJZyr_8iRvyWdV0 li:hover {\n  background-color: rgba(60, 179, 113, 0.85);\n  color: white;\n}\n.dq40zXJZyr_8iRvyWdV0 li.ZNpW65w__hK9xCl5bCbB {\n\tbackground-color: rgb(60, 179, 113);\n\tcolor: white;\n}\n\n.dq40zXJZyr_8iRvyWdV0 li * {\n  display: inline-block;\n}\n.dq40zXJZyr_8iRvyWdV0 li .osM0ISkQR9ZSidHezeWQ {\n  overflow: auto;\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n}\n.dq40zXJZyr_8iRvyWdV0 li .dQkF5zagCz_YllJ7VuIZ {\n  overflow: hidden;\n  width: 0;\n  height: 30px;\n  line-height: 30px;\n  padding: 0;\n  font-variant: small-caps;\n}\n\n.dq40zXJZyr_8iRvyWdV0:hover li .dQkF5zagCz_YllJ7VuIZ,\n.dq40zXJZyr_8iRvyWdV0[data-renaming="true"] li .dQkF5zagCz_YllJ7VuIZ {\n  transition: .15s ease-in;\n  width: 120px;\n  padding: 0 0 0 10px;\n}\n\n.dq40zXJZyr_8iRvyWdV0 button {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  padding: 0;\n  text-align: center;\n  border-radius: 15px;\n}\n\n.dq40zXJZyr_8iRvyWdV0 input.dQkF5zagCz_YllJ7VuIZ {\n  vertical-align: top;\n  width: 100px;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: white;\n}\n\n.dq40zXJZyr_8iRvyWdV0 .vbJnpbh1V1tFgTjhZNiC {\n  cursor: pointer;\n  visibility: hidden;\n  float: right;\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n}\n.dq40zXJZyr_8iRvyWdV0 li:hover .vbJnpbh1V1tFgTjhZNiC {\n  visibility: visible;\n}\n\n.dq40zXJZyr_8iRvyWdV0 li.ZNpW65w__hK9xCl5bCbB .dQkF5zagCz_YllJ7VuIZ {\n  cursor: text;\n}\n\n.nVbskEoaGxWf96qEgtxz {\n  position: absolute;\n}\n.nVbskEoaGxWf96qEgtxz > * {\n  width: 100% !important;\n  height: 100% !important;\n}\n',""]),a.locals={editorModeTabs:"D0BH39_6wwiclW8aKuoi",activeEditTab:"xwo6V7AWCmy8CDvuTwRg","layer-selector":"dq40zXJZyr_8iRvyWdV0",active:"ZNpW65w__hK9xCl5bCbB",index:"osM0ISkQR9ZSidHezeWQ",name:"dQkF5zagCz_YllJ7VuIZ",delete:"vbJnpbh1V1tFgTjhZNiC",placer:"nVbskEoaGxWf96qEgtxz"},t.Z=a},33971:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".QkewNzGagIbndi3rJpKm {\n  border: none;\n  cursor: pointer;\n  color: white;\n  background: #248;\n  border-radius: 100%;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  vertical-align: middle;\n}\n.QkewNzGagIbndi3rJpKm:hover {\n  background: #48F;\n}",""]),a.locals={help:"QkewNzGagIbndi3rJpKm"},t.Z=a},80047:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"\n.yyHfal9pM4DzShMl4LAY {\n  display: inline-flex;\n  height: 30px;\n  border-radius: 5px;\n\n  font-size: 70%;\n  padding: 0 4px;\n\n  background-color: royalblue;\n  color: white;\n  text-decoration: none;\n}\n\n.yyHfal9pM4DzShMl4LAY code {\n  font-family: monospace;\n}\n\n.QvI5wo7_u6OeAc12ib0W {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  font-size: 200%;\n  text-align: center;\n}\n\n.eUw5NZqoPPF3BcyYDpJx {\n  /* color: var(--selection); */\n}\n\n.XjY4lN_lY3nSgHcw67bX {\n  /* color: brown; */\n}\n\n.Ap_OwCtp3j1Q29Phpw3V {\n  color: gold;\n  animation: WjBuPfls4V41d2sjbNFU 1s linear alternate infinite;\n}\n\n@keyframes WjBuPfls4V41d2sjbNFU {\n  from { opacity: 0.5; }\n  to { opacity: 1; }\n}\n",""]),a.locals={buildDetails:"yyHfal9pM4DzShMl4LAY",buildStatus:"QvI5wo7_u6OeAc12ib0W",buildSuccess:"eUw5NZqoPPF3BcyYDpJx",buildFailed:"XjY4lN_lY3nSgHcw67bX",buildPending:"Ap_OwCtp3j1Q29Phpw3V",pulse:"WjBuPfls4V41d2sjbNFU"},t.Z=a},47881:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".sP2kDRoTZElZUTNHq033 {\n  width: 300px;\n\tpadding: 10px;\n\tborder-radius: 4px;\n\tbackground: radial-gradient(\n\t\trgba(var(--bg-rgb), 1) 20%,\n\t\trgba(var(--bg-rgb), .6) 100%\n\t);\n}\n.sP2kDRoTZElZUTNHq033 input {\n\tdisplay: block;\n\twidth: 100%;\n\theight: 30px;\n\tline-height: 30px;\n\n\tfont-size: 120%;\n\tmargin: 0;\n\tpadding: 4px;\n\tborder: none;\n\tborder-radius: 4px;\n  box-sizing: border-box;\n}\nul.inAS9Qunkf3g5K3xz6o6 {\n\tposition: relative;\n\tfont-family: monospace;\n\tlist-style-position: inside;\n\tlist-style-type: none;\n\tmax-height: 300px;\n\toverflow: scroll;\n\tpadding: 4px;\n  margin: 4px 0;\n\tbackground: rgba(0, 0, 0, 0.75);\n\tborder-radius: 4px;\n}\n.inAS9Qunkf3g5K3xz6o6 li {\n\tcursor: pointer;\n\tcolor: white;\n\tpadding: 5px;\n}\n.inAS9Qunkf3g5K3xz6o6 li:hover, .inAS9Qunkf3g5K3xz6o6 li.BL7Cxrn_efblQXY3W1Sw {\n\tbackground: white;\n\tcolor: black;\n}\n.inAS9Qunkf3g5K3xz6o6 li b { color: red; }\n.inAS9Qunkf3g5K3xz6o6 li .uld0XaeoQaQJJwp0LT0X {\n\tfont-style: italic;\n\tfont-size: 90%;\n\tmargin: 0;\n\tcolor: gray;\n}\n\n.pqiZQublKXvmnT_ESDxQ {\n  font-size: 10px;\n}\n\n.pqiZQublKXvmnT_ESDxQ a {\n  color: var(--selection);\n  border-bottom: 1px dotted var(--selection);\n  cursor: pointer;\n}\n\n.ECUs4g2j1rekP4xxgQDr {\n  position: relative;\n}\n.ECUs4g2j1rekP4xxgQDr input {\n  padding: 4px 4px 4px 30px;\n}\n\n.xDUAgQZeBp0TZSOqCwHm {\n  position: absolute;\n\ttop: 50%;\n\tleft: 10px;\n\ttransform: translateY(-50%);\n\tpointer-events: none;\n}\n.eY5zRl49sESLjXmizMEP {\n  position: absolute;\n\ttop: 50%;\n\tright: 10px;\n\ttransform: translateY(-50%);\n\tcursor: pointer;\n}",""]),a.locals={dialog:"sP2kDRoTZElZUTNHq033",results:"inAS9Qunkf3g5K3xz6o6",highlighted:"BL7Cxrn_efblQXY3W1Sw",description:"uld0XaeoQaQJJwp0LT0X","choices-counter":"pqiZQublKXvmnT_ESDxQ",searchWrapper:"ECUs4g2j1rekP4xxgQDr",searchIcon:"xDUAgQZeBp0TZSOqCwHm",clearSearchIcon:"eY5zRl49sESLjXmizMEP"},t.Z=a},2746:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"\n._vWNIXMkemQax9rkCJQh {\n  display: inline-block;\n  position: absolute;\n  z-index: 100;\n  bottom: 5px;\n  left: 5px;\n}\n\n._vWNIXMkemQax9rkCJQh label {\n  font-size: 75%;\n  font-style: italic;\n  display: block;\n  padding: 0 10px;\n}\n\n.qiC2NrujE4ebqmHjzq0_ {\n  display: inline-block;\n  font-size: 110%;\n  font-style: italic;\n  background-color: var(--code-bg);\n  border-radius: 20px;\n  padding: 5px 10px;\n  text-decoration: none;\n\n  color: royalblue;\n}\n.qiC2NrujE4ebqmHjzq0_:hover {\n  background-color: royalblue;\n  color: white;\n}",""]),a.locals={wrapper:"_vWNIXMkemQax9rkCJQh",githubLink:"qiC2NrujE4ebqmHjzq0_"},t.Z=a},46700:function(e,t,r){var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=46700},24234:function(e){"use strict";e.exports=JSON.parse('{"zmk,behavior-backlight":{"description":"Backlight behavior","compatible":"zmk,behavior-backlight","include":"two_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":2},"label":{"type":"string","required":true}}},"zmk,behavior-bluetooth":{"description":"Bluetooth Behavior","compatible":"zmk,behavior-bluetooth","include":"two_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":2},"label":{"type":"string","required":true}}},"zmk,behavior-caps-word":{"description":"Caps word behavior","compatible":"zmk,behavior-caps-word","include":"zero_param.yaml","properties":{"continue-list":{"type":"array","required":true},"mods":{"type":"int"},"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-ext-power":{"description":"External power control Behavior","compatible":"zmk,behavior-ext-power","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-hold-tap":{"description":"Hold or Tap behavior","compatible":"zmk,behavior-hold-tap","include":"two_param.yaml","properties":{"bindings":{"type":"phandles","required":true},"tapping-term-ms":{"type":"int"},"tapping_term_ms":{"type":"int"},"quick-tap-ms":{"type":"int","default":-1},"quick_tap_ms":{"type":"int"},"global-quick-tap":{"type":"boolean"},"flavor":{"type":"string","required":false,"default":"hold-preferred","enum":["hold-preferred","balanced","tap-preferred","tap-unless-interrupted"]},"retro-tap":{"type":"boolean"},"hold-trigger-key-positions":{"type":"array","required":false,"default":[]},"#binding-cells":{"type":"int","required":true,"const":2},"label":{"type":"string","required":true}}},"zmk,behavior-key-press":{"description":"Key press/release behavior","compatible":"zmk,behavior-key-press","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-key-repeat":{"description":"Key repeat behavior","compatible":"zmk,behavior-key-repeat","include":"zero_param.yaml","properties":{"usage-pages":{"type":"array","required":true},"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-key-toggle":{"description":"Key toggle behavior","compatible":"zmk,behavior-key-toggle","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-macro":{"description":"Macro Behavior","compatible":"zmk,behavior-macro","include":"zero_param.yaml","properties":{"bindings":{"type":"phandle-array","required":true},"wait-ms":{"type":"int","default":100,"description":"The default time to wait (in milliseconds) before triggering the next behavior in the macro bindings list."},"tap-ms":{"type":"int","default":100,"description":"The default time to wait (in milliseconds) between the press and release events on a tapped macro behavior binding"},"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-mod-morph":{"description":"Mod Morph Behavior","compatible":"zmk,behavior-mod-morph","include":"zero_param.yaml","properties":{"bindings":{"type":"phandle-array","required":true},"mods":{"type":"int","required":true},"keep-mods":{"type":"int","required":false},"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-momentary-layer":{"description":"Momentary layer on press/release behavior","compatible":"zmk,behavior-momentary-layer","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-none":{"description":"None Binding Behavior","compatible":"zmk,behavior-none","include":"zero_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-outputs":{"description":"Output Selection Behavior","compatible":"zmk,behavior-outputs","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-reset":{"description":"Keyboard Reset Behavior","compatible":"zmk,behavior-reset","include":"zero_param.yaml","properties":{"type":{"type":"int","default":0},"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-rgb-underglow":{"description":"RGB Underglow Action","compatible":"zmk,behavior-rgb-underglow","include":"two_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":2},"label":{"type":"string","required":true}}},"zmk,behavior-sensor-rotate-key-press":{"description":"Sensor rotate key press/release behavior","compatible":"zmk,behavior-sensor-rotate-key-press","properties":{"label":{"type":"string","required":true},"#sensor-binding-cells":{"type":"int","required":true,"const":2},"#binding-cells":{"type":"int","required":true}},"sensor-binding-cells":["param1","param2"]},"zmk,behavior-sticky-key":{"description":"Sticky key behavior","compatible":"zmk,behavior-sticky-key","include":"one_param.yaml","properties":{"bindings":{"type":"phandles","required":true},"release-after-ms":{"type":"int"},"quick-release":{"type":"boolean"},"ignore-modifiers":{"type":"boolean"},"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-tap-dance":{"description":"Tap Dance Behavior","compatible":"zmk,behavior-tap-dance","include":"zero_param.yaml","properties":{"bindings":{"type":"phandle-array","required":true},"tapping-term-ms":{"type":"int","default":200},"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,behavior-to-layer":{"description":"To Layer","compatible":"zmk,behavior-to-layer","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-toggle-layer":{"description":"Toggle Layer","compatible":"zmk,behavior-toggle-layer","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,behavior-transparent":{"description":"Transparent Binding Behavior","compatible":"zmk,behavior-transparent","include":"zero_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,macro-control-mode-press":{"description":"Set Macro To Press Mode","compatible":"zmk,macro-control-mode-press","include":"zero_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,macro-control-mode-release":{"description":"Set Macro To Release Mode","compatible":"zmk,macro-control-mode-release","include":"zero_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,macro-control-mode-tap":{"description":"Set Macro To Tap Mode","compatible":"zmk,macro-control-mode-tap","include":"zero_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}},"zmk,macro-control-tap-time":{"description":"Set Macro Tap Duration","compatible":"zmk,macro-control-tap-time","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,macro-control-wait-time":{"description":"Set Macro Wait Duration","compatible":"zmk,macro-control-wait-time","include":"one_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":1},"label":{"type":"string","required":true}}},"zmk,macro-pause-for-release":{"description":"Macro Pause Until Release Marker","compatible":"zmk,macro-pause-for-release","include":"zero_param.yaml","properties":{"#binding-cells":{"type":"int","required":true,"const":0},"label":{"type":"string","required":true}}}}')},61443:function(e){"use strict";e.exports=JSON.parse('[{"name":"behavior_backlight","labels":["bl"],"code":"&bl","compatible":"zmk,behavior-backlight","properties":{"compatible":{"raw":"\\"zmk,behavior-backlight\\"","parsed":"zmk,behavior-backlight"},"#binding-cells":{"raw":"<2>","parsed":2},"label":{"raw":"\\"BCKLGHT\\"","parsed":"BCKLGHT"}}},{"name":"behavior_bluetooth","labels":["bt"],"code":"&bt","compatible":"zmk,behavior-bluetooth","properties":{"compatible":{"raw":"\\"zmk,behavior-bluetooth\\"","parsed":"zmk,behavior-bluetooth"},"#binding-cells":{"raw":"<2>","parsed":2},"label":{"raw":"\\"BLUETOOTH\\"","parsed":"BLUETOOTH"}}},{"name":"behavior_caps_word","labels":["caps_word"],"code":"&caps_word","compatible":"zmk,behavior-caps-word","properties":{"compatible":{"raw":"\\"zmk,behavior-caps-word\\"","parsed":"zmk,behavior-caps-word"},"continue-list":{"raw":"<UNDERSCORE BACKSPACE DELETE>","parsed":["UNDERSCORE","BACKSPACE","DELETE"]},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"CAPS_WORD\\"","parsed":"CAPS_WORD"}}},{"name":"behavior_ext_power","labels":["ext_power"],"code":"&ext_power","compatible":"zmk,behavior-ext-power","properties":{"compatible":{"raw":"\\"zmk,behavior-ext-power\\"","parsed":"zmk,behavior-ext-power"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"EXTPOWER\\"","parsed":"EXTPOWER"}}},{"name":"grave_escape","labels":["gresc"],"code":"&gresc","compatible":"zmk,behavior-mod-morph","properties":{"compatible":{"raw":"\\"zmk,behavior-mod-morph\\"","parsed":"zmk,behavior-mod-morph"},"bindings":{"raw":"<&kp ESC>, <&kp GRAVE>","parsed":["&kp","ESC","&kp","GRAVE"]},"mods":{"raw":"<(MOD_LGUI|MOD_LSFT|MOD_RGUI|MOD_RSFT)>","parsed":["MOD_LGUI","MOD_LSFT","MOD_RGUI","MOD_RSFT"]},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"GRAVE_ESCAPE\\"","parsed":"GRAVE_ESCAPE"}}},{"name":"behavior_key_press","labels":["cp","kp"],"code":"&kp","compatible":"zmk,behavior-key-press","properties":{"compatible":{"raw":"\\"zmk,behavior-key-press\\"","parsed":"zmk,behavior-key-press"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"KEY_PRESS\\"","parsed":"KEY_PRESS"}}},{"name":"behavior_key_repeat","labels":["key_repeat"],"code":"&key_repeat","compatible":"zmk,behavior-key-repeat","properties":{"compatible":{"raw":"\\"zmk,behavior-key-repeat\\"","parsed":"zmk,behavior-key-repeat"},"usage-pages":{"raw":"<HID_USAGE_KEY>","parsed":["HID_USAGE_KEY"]},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"KEY_REPEAT\\"","parsed":"KEY_REPEAT"}}},{"name":"behavior_key_toggle","labels":["kt"],"code":"&kt","compatible":"zmk,behavior-key-toggle","properties":{"compatible":{"raw":"\\"zmk,behavior-key-toggle\\"","parsed":"zmk,behavior-key-toggle"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"KEY_TOGGLE\\"","parsed":"KEY_TOGGLE"}}},{"name":"behavior_layer_tap","labels":["lt"],"code":"&lt","compatible":"zmk,behavior-hold-tap","properties":{"compatible":{"raw":"\\"zmk,behavior-hold-tap\\"","parsed":"zmk,behavior-hold-tap"},"bindings":{"raw":"<&mo>, <&kp>","parsed":["&mo","&kp"]},"tapping-term-ms":{"raw":"<200>","parsed":200},"flavor":{"raw":"\\"tap-preferred\\"","parsed":"tap-preferred"},"#binding-cells":{"raw":"<2>","parsed":2},"label":{"raw":"\\"LAYER_TAP\\"","parsed":"LAYER_TAP"}}},{"name":"macro_control_mode_tap","labels":["macro_tap"],"code":"&macro_tap","compatible":"zmk,macro-control-mode-tap","properties":{"compatible":{"raw":"\\"zmk,macro-control-mode-tap\\"","parsed":"zmk,macro-control-mode-tap"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"MAC_TAP\\"","parsed":"MAC_TAP"}}},{"name":"macro_control_mode_press","labels":["macro_press"],"code":"&macro_press","compatible":"zmk,macro-control-mode-press","properties":{"compatible":{"raw":"\\"zmk,macro-control-mode-press\\"","parsed":"zmk,macro-control-mode-press"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"MAC_PRESS\\"","parsed":"MAC_PRESS"}}},{"name":"macro_control_mode_release","labels":["macro_release"],"code":"&macro_release","compatible":"zmk,macro-control-mode-release","properties":{"compatible":{"raw":"\\"zmk,macro-control-mode-release\\"","parsed":"zmk,macro-control-mode-release"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"MAC_REL\\"","parsed":"MAC_REL"}}},{"name":"macro_control_tap_time","labels":["macro_tap_time"],"code":"&macro_tap_time","compatible":"zmk,macro-control-tap-time","properties":{"compatible":{"raw":"\\"zmk,macro-control-tap-time\\"","parsed":"zmk,macro-control-tap-time"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"MAC_TAP_TIME\\"","parsed":"MAC_TAP_TIME"}}},{"name":"macro_control_wait_time","labels":["macro_wait_time"],"code":"&macro_wait_time","compatible":"zmk,macro-control-wait-time","properties":{"compatible":{"raw":"\\"zmk,macro-control-wait-time\\"","parsed":"zmk,macro-control-wait-time"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"MAC_WAIT_TIME\\"","parsed":"MAC_WAIT_TIME"}}},{"name":"macro_pause_for_release","labels":["macro_pause_for_release"],"code":"&macro_pause_for_release","compatible":"zmk,macro-pause-for-release","properties":{"compatible":{"raw":"\\"zmk,macro-pause-for-release\\"","parsed":"zmk,macro-pause-for-release"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"MAC_WAIT_REL\\"","parsed":"MAC_WAIT_REL"}}},{"name":"behavior_mod_tap","labels":["mt"],"code":"&mt","compatible":"zmk,behavior-hold-tap","properties":{"compatible":{"raw":"\\"zmk,behavior-hold-tap\\"","parsed":"zmk,behavior-hold-tap"},"bindings":{"raw":"<&kp>, <&kp>","parsed":["&kp","&kp"]},"tapping-term-ms":{"raw":"<200>","parsed":200},"flavor":{"raw":"\\"hold-preferred\\"","parsed":"hold-preferred"},"#binding-cells":{"raw":"<2>","parsed":2},"label":{"raw":"\\"MOD_TAP\\"","parsed":"MOD_TAP"}}},{"name":"behavior_momentary_layer","labels":["mo"],"code":"&mo","compatible":"zmk,behavior-momentary-layer","properties":{"compatible":{"raw":"\\"zmk,behavior-momentary-layer\\"","parsed":"zmk,behavior-momentary-layer"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"MO\\"","parsed":"MO"}}},{"name":"behavior_none","labels":["none"],"code":"&none","compatible":"zmk,behavior-none","properties":{"compatible":{"raw":"\\"zmk,behavior-none\\"","parsed":"zmk,behavior-none"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"NONE\\"","parsed":"NONE"}}},{"name":"behavior_outputs","labels":["out"],"code":"&out","compatible":"zmk,behavior-outputs","properties":{"compatible":{"raw":"\\"zmk,behavior-outputs\\"","parsed":"zmk,behavior-outputs"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"OUTPUTS\\"","parsed":"OUTPUTS"}}},{"name":"behavior_reset","labels":["reset"],"code":"&reset","compatible":"zmk,behavior-reset","properties":{"compatible":{"raw":"\\"zmk,behavior-reset\\"","parsed":"zmk,behavior-reset"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"RESET\\"","parsed":"RESET"}}},{"name":"behavior_reset_dfu","labels":["bootloader"],"code":"&bootloader","compatible":"zmk,behavior-reset","properties":{"compatible":{"raw":"\\"zmk,behavior-reset\\"","parsed":"zmk,behavior-reset"},"type":{"raw":"<RST_UF2>","parsed":"RST_UF2"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"BOOTLOAD\\"","parsed":"BOOTLOAD"}}},{"name":"behavior_rgb_underglow","labels":["rgb_ug"],"code":"&rgb_ug","compatible":"zmk,behavior-rgb-underglow","properties":{"compatible":{"raw":"\\"zmk,behavior-rgb-underglow\\"","parsed":"zmk,behavior-rgb-underglow"},"#binding-cells":{"raw":"<2>","parsed":2},"label":{"raw":"\\"RGB_UG\\"","parsed":"RGB_UG"}}},{"name":"behavior_sensor_rotate_key_press","labels":["inc_dec_cp","inc_dec_kp"],"code":"&inc_dec_kp","compatible":"zmk,behavior-sensor-rotate-key-press","properties":{"compatible":{"raw":"\\"zmk,behavior-sensor-rotate-key-press\\"","parsed":"zmk,behavior-sensor-rotate-key-press"},"label":{"raw":"\\"ENC_KEY_PRESS\\"","parsed":"ENC_KEY_PRESS"},"#sensor-binding-cells":{"raw":"<2>","parsed":2}}},{"name":"behavior_sticky_key","labels":["sk"],"code":"&sk","compatible":"zmk,behavior-sticky-key","properties":{"compatible":{"raw":"\\"zmk,behavior-sticky-key\\"","parsed":"zmk,behavior-sticky-key"},"bindings":{"raw":"<&kp>","parsed":["&kp"]},"release-after-ms":{"raw":"<1000>","parsed":1000},"ignore-modifiers":{"raw":"","parsed":true},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"STICKY_KEY\\"","parsed":"STICKY_KEY"}}},{"name":"behavior_sticky_layer","labels":["sl"],"code":"&sl","compatible":"zmk,behavior-sticky-key","properties":{"compatible":{"raw":"\\"zmk,behavior-sticky-key\\"","parsed":"zmk,behavior-sticky-key"},"bindings":{"raw":"<&mo>","parsed":["&mo"]},"release-after-ms":{"raw":"<1000>","parsed":1000},"quick-release":{"raw":"","parsed":true},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"STICKY_LAYER\\"","parsed":"STICKY_LAYER"}}},{"name":"behavior_to_layer","labels":["to"],"code":"&to","compatible":"zmk,behavior-to-layer","properties":{"compatible":{"raw":"\\"zmk,behavior-to-layer\\"","parsed":"zmk,behavior-to-layer"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"TO_LAYER\\"","parsed":"TO_LAYER"}}},{"name":"behavior_toggle_layer","labels":["tog"],"code":"&tog","compatible":"zmk,behavior-toggle-layer","properties":{"compatible":{"raw":"\\"zmk,behavior-toggle-layer\\"","parsed":"zmk,behavior-toggle-layer"},"#binding-cells":{"raw":"<1>","parsed":1},"label":{"raw":"\\"TOGGLE_LAYER\\"","parsed":"TOGGLE_LAYER"}}},{"name":"behavior_transparent","labels":["trans"],"code":"&trans","compatible":"zmk,behavior-transparent","properties":{"compatible":{"raw":"\\"zmk,behavior-transparent\\"","parsed":"zmk,behavior-transparent"},"#binding-cells":{"raw":"<0>","parsed":0},"label":{"raw":"\\"TRANS\\"","parsed":"TRANS"}}}]')},43003:function(e){"use strict";e.exports=JSON.parse('[{"match":{"compatible":"zmk,behavior-caps-word"},"properties":{"continue-list":{"choices":{"$source":"keycodes","$key":"code"}},"mods":{"type":"integer-union","choices":["MOD_LCTL","MOD_LSFT","MOD_LALT","MOD_LGUI","MOD_RCTL","MOD_RSFT","MOD_RALT","MOD_RGUI"]}}},{"match":{"compatible":"zmk,behavior-mod-morph"},"properties":{"bindings":{"length":2},"mods":{"type":"integer-union","choices":["MOD_LCTL","MOD_LSFT","MOD_LALT","MOD_LGUI","MOD_RCTL","MOD_RSFT","MOD_RALT","MOD_RGUI"]},"keep-mods":{"type":"integer-union","choices":["MOD_LCTL","MOD_LSFT","MOD_LALT","MOD_LGUI","MOD_RCTL","MOD_RSFT","MOD_RALT","MOD_RGUI"]}}},{"match":{"compatible":"zmk,behavior-hold-tap"},"properties":{"bindings":{"length":2},"hold-trigger-key-positions":{"helper":"key-position-picker"},"tapping_term_ms":{"deprecatedBy":"tapping-term-ms"},"quick_tap_ms":{"deprecatedBy":"quick-tap-ms"}}},{"match":{"compatible":"zmk,behavior-sticky-key"},"properties":{"bindings":{"length":1}}}]')},92914:function(e){"use strict";e.exports=JSON.parse('[{"match":{"compatible":"zmk,behavior-backlight"},"params":["command"],"includes":["#include <dt-bindings/zmk/backlight.h>"],"commands":[{"code":"BL_ON","description":"Turn on backlight"},{"code":"BL_OFF","description":"Turn off backlight"},{"code":"BL_TOG","description":"Toggle backlight on and off"},{"code":"BL_INC","description":"Increase brightness"},{"code":"BL_DEC","description":"Decrease brightness"},{"code":"BL_CYCLE","description":"Cycle brightness"},{"code":"BL_SET","description":"Set a specific brightness","additionalParams":[{"name":"brightness","type":"integer","enum":[0,10,20,30,40,50,60,70,80,90,100]}]}]},{"match":{"compatible":"zmk,behavior-bluetooth"},"params":["command"],"includes":["#include <dt-bindings/zmk/bt.h>"],"commands":[{"code":"BT_CLR","description":"Clear bond information between the keyboard and host for the selected profile."},{"code":"BT_NXT","description":"Switch to the next profile, cycling through to the first one when the end is reached."},{"code":"BT_PRV","description":"Switch to the previous profile, cycling through to the last one when the beginning is reached."},{"code":"BT_SEL","description":"Select the 0-indexed profile by number. Please note: this definition must include a number as an argument in the keymap to work correctly. eg. BT_SEL 0","additionalParams":[{"name":"index","type":"integer","enum":[0,1,2,3,4]}]}]},{"match":{"compatible":"zmk,behavior-key-press"},"params":["code"],"includes":["#include <dt-bindings/zmk/keys.h>"]},{"match":{"compatible":"zmk,behavior-key-toggle"},"params":["code"],"includes":["#include <dt-bindings/zmk/keys.h>"]},{"match":{"code":"&lt"},"description":"Layer or Tap behavior","params":["layer","code"]},{"match":{"compatible":"zmk,behavior-momentary-layer"},"params":["layer"]},{"match":{"code":"&mt"},"description":"Mod or Tap behavior","params":["mod","code"]},{"match":{"compatible":"zmk,behavior-outputs"},"params":["command"],"includes":["#include <dt-bindings/zmk/outputs.h>"],"commands":[{"code":"OUT_BLE","description":"Prefer sending to USB"},{"code":"OUT_USB","description":"Prefer sending to the current bluetooth profile"},{"code":"OUT_TOG","description":"Toggle between USB and BLE"}]},{"match":{"code":"&sl"},"description":"Sticky layer behavior","params":["layer"]},{"match":{"code":"&sk"},"params":["code"]},{"match":{"compatible":"zmk,behavior-to-layer"},"params":["layer"]},{"match":{"compatible":"zmk,behavior-toggle-layer"},"params":["layer"]},{"match":{"compatible":"zmk,behavior-rgb-underglow"},"params":["command"],"includes":["#include <dt-bindings/zmk/rgb.h>"],"commands":[{"code":"RGB_TOG","description":"Toggles the RGB feature on and off"},{"code":"RGB_HUI","description":"Increases the hue of the RGB feature"},{"code":"RGB_HUD","description":"Decreases the hue of the RGB feature"},{"code":"RGB_SAI","description":"Increases the saturation of the RGB feature"},{"code":"RGB_SAD","description":"Decreases the saturation of the RGB feature"},{"code":"RGB_BRI","description":"Increases the brightness of the RGB feature"},{"code":"RGB_BRD","description":"Decreases the brightness of the RGB feature"},{"code":"RGB_SPI","description":"Increases the speed of the RGB feature effect\'s animation"},{"code":"RGB_SPD","description":"Decreases the speed of the RGB feature effect\'s animation"},{"code":"RGB_EFF","description":"Cycles the RGB feature\'s effect forwards"},{"code":"RGB_EFR","description":"Cycles the RGB feature\'s effect reverse"},{"code":"RGB_COLOR_HSB","description":"Sets a specific HSB (HSV) value for the underglow","symbol":"HSB","helper":"hsb-color-picker","params":[{"name":"hue","type":"integer","enum":[0,30,60,90,120,160,180,210,240,270,300,330,360]},{"name":"saturation","type":"integer","enum":[0,10,20,30,40,50,60,70,80,90,100]},{"name":"hue","type":"integer","enum":[0,10,20,30,40,50,60,70,80,90,100]}]}]},{"match":{"compatible":"zmk,behavior-ext-power"},"params":["command"],"includes":["#include <dt-bindings/zmk/ext_power.h>"],"commands":[{"code":"EP_ON","description":"Enable the external power"},{"code":"EP_OFF","description":"Disable the external power"},{"code":"EP_TOG","description":"Toggle the external power"}]},{"match":{"compatible":"zmk,macro-control-mode-press"},"context":"macros"},{"match":{"compatible":"zmk,macro-control-mode-release"},"context":"macros"},{"match":{"compatible":"zmk,macro-control-mode-tap"},"context":"macros"},{"match":{"compatible":"zmk,macro-control-tap-time"},"context":"macros","params":[{"type":"number","raw":true}]},{"match":{"compatible":"zmk,macro-control-wait-time"},"context":"macros","params":[{"type":"number","raw":true}]},{"match":{"compatible":"zmk,macro-pause-for-release"},"context":"macros"},{"match":{"compatible":"zmk,behavior-sensor-rotate-key-press"},"context":"encoders"}]')}},function(e){e.O(0,[216],(function(){return 11872,e(e.s=11872)})),e.O()}]);