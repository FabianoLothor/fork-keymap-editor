{"version":3,"file":"573.b271171e53237443ed37.js","mappings":"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","sources":["webpack:///./src/Common/tip.module.css?4f76","webpack:///./src/Common/Tip.js","webpack:///./src/EnhancedPickers/Keycode/KeycodeBindNode.js","webpack:///./src/EnhancedPickers/Keycode/helpers.js","webpack:///./src/Keyboard/Binding/BindValue.js","webpack:///./src/EnhancedPickers/RGB/HueSatValBindNode.js","webpack:///./src/Keyboard/Binding/BindParamlist.js","webpack:///./src/Keyboard/Binding/Binding.js","webpack:///./src/Keyboard/Binding/bindPropTypes.js","webpack:///./src/Keyboard/Binding/util.js","webpack:///./src/Keyboard/Common/Devicetree/validators.js","webpack:///./src/Keyboard/Keys/Key.js","webpack:///./src/Keyboard/Keys/KeyWrapper.js","webpack:///./src/ValuePicker/util.js","webpack:///./src/ValuePicker/ResultList.js","webpack:///./src/ValuePicker/SearchFilter.js","webpack:///./src/ValuePicker/EnumPicker.js","webpack:///./src/ValuePicker/GenericPicker.js","webpack:///./src/EnhancedPickers/RGB/HueSatValPicker.js","webpack:///./src/EnhancedPickers/Keycode/styles.module.css?d2ba","webpack:///./src/EnhancedPickers/Keycode/ModifiersPicker.js","webpack:///./src/EnhancedPickers/Keycode/KeycodePicker.js","webpack:///./src/ValuePicker/RawValuePicker.js","webpack:///./src/ValuePicker/LayerPicker.js","webpack:///./src/ValuePicker/index.js","webpack:///./src/Common/tip.module.css","webpack:///./src/EnhancedPickers/Keycode/styles.module.css","webpack:///./src/Keyboard/Keys/styles.module.css","webpack:///./src/ValuePicker/style.module.css","webpack:///./src/Keyboard/Keys/styles.module.css?bf9c","webpack:///./src/ValuePicker/style.module.css?0fff"],"sourcesContent":["\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./tip.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./tip.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import Icon from './Icon'\nimport styles from './tip.module.css'\n\nexport default function Tip ({ children, className = '' }) {\n  const classNames = [styles.tip, className].join(' ')\n  return (\n    <div className={classNames}>\n      <Icon name=\"hand-point-up\" /> {children}\n    </div>\n  )\n}\n","import { Fragment, useCallback, useMemo } from 'react'\nimport compact from 'lodash/compact'\nimport map from 'lodash/map'\n\nimport { getSourceTitle, renderSource } from '../../Keyboard/Binding/BindValue'\nimport styles from '../../Keyboard/Keys/styles.module.css'\nimport { treeToSequence } from './helpers'\n\nfunction KeycodeBindNode ({ node, onSelect }) {\n  const handleClick = useCallback(function (event) {\n    event.stopPropagation()\n    onSelect({ node, type: 'tree' })\n  }, [node, onSelect])\n\n  const codes = useMemo(() => map(treeToSequence(node), 'source'), [node])\n  const codeLabels = useMemo(() => (\n    codes.map(renderSource)\n      .map((label, i) => <Fragment key={i}>{label}</Fragment>)\n      .reduce((labels, label) => (\n        labels.length === 0\n          ? [label]\n          : [...labels, ' ', label]\n      ), [])\n  ), [codes])\n  const title = useMemo(() => (\n    codes.map(getSourceTitle).join(' + ')\n  ), [codes])\n\n  const missing = (\n    node.source?.code === undefined ||\n    node.value === undefined ||\n    node._isPlaceholder\n  )\n\n  return (\n    <span\n      className={compact([\n        styles.code,\n        missing && styles.missingValue\n      ]).join(' ')}\n      title={title}\n      onClick={handleClick}\n    >\n      {codeLabels}\n    </span>\n  )\n}\n\nexport default KeycodeBindNode\n","// `code` values may be \"trees\" in terms of structure, but this is only\n// because of \"modifier macros\" (e.g. `LS(A)`) which may be nested recursively\n// but each level of the tree has at most one child. This means the deepest\n// node is our actual keycode and everything above that is a modifier.\nexport function treeToSequence (tree) {\n  return tree.params.length > 0\n    ? [tree, ...treeToSequence(tree.params[0])]\n    : [tree]\n}\n\nexport function sequenceToTree ([value, ...seq]) {\n  const params = seq.length === 0 ? [] : [sequenceToTree(seq)]\n  return { value, params }\n}\n","import compact from 'lodash/compact'\nimport { useCallback } from 'react'\nimport PropTypes from 'prop-types'\n\nimport * as bindPropTypes from './bindPropTypes'\nimport styles from '../Keys/styles.module.css'\nimport Icon from '../../Common/Icon'\n\nexport function NullKey () {\n  return <span>⦸</span>\n}\n\nexport function getSourceTitle (source) {\n  return source && `(${source.code}) ${source.description}`\n}\n\nexport function renderSource (source) {\n  const text = source && (source?.symbol || source?.code?.toString())\n  const icon = source?.faIcon && <Icon name={source.faIcon} />\n  return icon || text || <NullKey />\n}\n\nfunction BindValue (props) {\n  const { node, onSelect } = props\n  const { value, source, _isPlaceholder } = node\n  const title = getSourceTitle(source)\n\n  const handleClick = useCallback(function (event) {\n    event.stopPropagation()\n    onSelect({ node })\n  }, [node, onSelect])\n\n  return (\n    <span\n      className={compact([\n        styles.code,\n        (value === undefined || _isPlaceholder) && styles.missingValue\n      ]).join(' ')}\n      title={title}\n      onClick={handleClick}\n    >\n      {renderSource(source)}\n    </span>\n  )\n}\n\nBindValue.propTypes = {\n  node: bindPropTypes.bindNode.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nexport default BindValue\n","import { useCallback, useMemo } from 'react'\n\nimport BindValue from '../../Keyboard/Binding/BindValue'\nimport styles from '../../Keyboard/Keys/styles.module.css'\n\nconst outerStyle = {\n  display: 'inline-block',\n  cursor: 'pointer',\n  verticalAlign: 'text-top',\n  border: '0.75px solid var(--key-color-base)',\n  borderRadius: '3px'\n}\nconst innerStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  width: '10px',\n  height: '10px',\n  margin: '1px',\n  borderRadius: '2px'\n}\n\nfunction HueSatValBindNode ({ node, onSelect }) {\n  const { params: [h, s, b] } = node\n\n  // TODO: this component continues to work because of a hack/inconsistency in\n  // the &rgb_ug behavior definition's HSB_SEL command. RGB support is really\n  // unimportant so this will be left alone for now, but it probably comes down\n  // to an issue in correctly setting placeholder HSB values when selecting the\n  // applicable command, so that might be something that gets resolved with a\n  // proper refactor of the Binding node and its update functionality.\n\n  const handleSelectParams = useCallback(() => {\n    onSelect({ node, type: 'params' })\n  }, [node, onSelect])\n\n  const isEmpty = useMemo(() => (\n    [h, s, b].some(v => v?.value === undefined)\n  ), [h, s, b])\n\n  return (\n    <>\n      <BindValue node={node} onSelect={onSelect} />\n      {!isEmpty\n        ? (\n        <div onClick={handleSelectParams} style={outerStyle}>\n          <div\n            className={isEmpty ? styles.missingValue : null}\n            style={{\n              ...innerStyle,\n              backgroundColor: `hsl(${h.value}, ${s.value}%, ${b.value}%)`\n            }}\n          />\n        </div>\n          )\n        : <BindValue node={{}} onSelect={handleSelectParams} />}\n    </>\n  )\n}\n\nexport default HueSatValBindNode\n","import get from 'lodash/get'\nimport PropTypes from 'prop-types'\nimport { useMemo } from 'react'\n\nimport * as bindPropTypes from './bindPropTypes'\nimport BindValue from './BindValue'\nimport KeycodeBindNode from '../../EnhancedPickers/Keycode/KeycodeBindNode'\nimport HueSatValBindNode from '../../EnhancedPickers/RGB/HueSatValBindNode'\n\nimport styles from '../Keys/styles.module.css'\n\nfunction GenericBindNode ({ node, onSelect }) {\n  return (\n    <>\n      <BindValue\n        node={node}\n        onSelect={onSelect}\n      />\n      {get(node, 'source.params.length') > 0\n        ? (\n            <BindParamlist\n              slots={node.source.params}\n              params={node.params}\n              onSelect={onSelect}\n            />\n          )\n        : null}\n    </>\n  )\n}\n\nfunction BindParam (props) {\n  const { node, onSelect, slot } = props\n  const BindComponent = useMemo(() => {\n    // TODO: allow components to register helpers\n    if (node.source?.helper === 'hsb-color-picker') return HueSatValBindNode\n    if (slot === 'code') return KeycodeBindNode\n    return GenericBindNode\n  }, [node, slot])\n\n  return (\n    <span className={styles.param}>\n      <BindComponent node={node} onSelect={onSelect} />\n    </span>\n  )\n}\n\nfunction BindParamlist (props) {\n  const { slots, params, onSelect, root, wrapperProps } = props\n  return (\n    <span\n      className={styles.params}\n      data-is-root={!!root}\n      data-param-count={params.length}\n      {...wrapperProps}\n    >\n      {slots.map((slot, i) => slot.type !== 'placeholder' && (\n        <BindParam\n          key={i}\n          slot={slot}\n          node={params[i]}\n          onSelect={onSelect}\n        />\n      ))}\n    </span>\n  )\n}\n\nBindParamlist.propTypes = {\n  slots: PropTypes.arrayOf(bindPropTypes.param).isRequired,\n  params: PropTypes.arrayOf(bindPropTypes.bindNode).isRequired,\n  source: bindPropTypes.source,\n  onSelect: PropTypes.func.isRequired\n}\n\nexport default BindParamlist\n","import cloneDeep from 'lodash/cloneDeep'\nimport compact from 'lodash/compact'\nimport get from 'lodash/get'\nimport pick from 'lodash/pick'\nimport PropTypes from 'prop-types'\nimport { useContext, useState } from 'react'\n\nimport { SearchContext } from '../../providers'\nimport { getBehaviourParams } from '../../keymap'\n\nimport BindParamlist from './BindParamlist'\nimport * as bindPropTypes from './bindPropTypes'\nimport {\n  createPromptMessage,\n  hydrateTree,\n  isSimple,\n  isComplex,\n  makeIndex\n} from './util'\nimport styles from '../Keys/styles.module.css'\n\nimport Icon from '../../Common/Icon'\nimport ValuePicker from '../../ValuePicker'\n\nfunction hasErrors (index) {\n  // The first value in the list is the behaviour. If it doesn't have a source\n  // that means that we don't have details about what it is.\n  if (!index[0].source.code) {\n    return true\n  }\n\n  for (const value of index) {\n    if ((value.source?.params || []).length > value.params.length) {\n      return true\n    }\n    if (value.params.some(v => v.value === undefined || v.value === '' || v.source === undefined)) {\n      return true\n    }\n  }\n}\n\nfunction Binding (props) {\n  const { sources, mergedGlyphs } = useContext(SearchContext)\n  const { context = 'none', hideBehaviour, value, params, paramIndex, onUpdate } = props\n  const [editing, setEditing] = useState(null)\n\n  const bindTree = hydrateTree(value, params, sources, context, mergedGlyphs)\n  const paramSlice = paramIndex === undefined ? [0] : [paramIndex, paramIndex + 1]\n\n  const bind = value\n  const behaviour = get(sources.behavioursByContext[context], bind, {})\n  const behaviourParams = getBehaviourParams(params, behaviour).slice(...paramSlice)\n  const bindTreeParams = bindTree.params.slice(...paramSlice)\n\n  const index = makeIndex(bindTree)\n  const errors = hasErrors(index)\n\n  function handleSelectNode ({ node, type = 'value' }) {\n    setEditing({ node, type, nodeIndex: index.indexOf(node) })\n  }\n\n  function handleSelectValue (source) {\n    if (editing.type === 'tree') {\n      return handleSelectTree(source)\n    }\n\n    if (editing.type === 'params') {\n      return handleSelectParams(source) // ugh\n    }\n\n    const { node, nodeIndex } = editing\n    const updated = cloneDeep(bindTree)\n    const index = makeIndex(updated)\n    const targetNode = index[nodeIndex]\n\n    // Attempt to cast raw inputs to non-string type if such a type is defined\n    // and I've specifically accounted for casting to that type here.\n    // No error handling yet, so...\n    if (node.slot.raw) {\n      if (node.slot.type === 'number') {\n        source.code = Number(source.code)\n      }\n    } else if (node.slot.enum) {\n      const oldAdditionalParams = targetNode.source?.additionalParams?.length || 0\n      const newAdditionalParams = source.additionalParams?.length || 0\n      // When switching from a command parameter that has additionalParams to\n      // another command parameter that has fewer (or none), the selected values\n      // are still present in the tree but aren't rendered. Therefore it's still\n      // possible for the unused values to be saved when the keymap is written.\n      // This technically doesn't cause errors because behaviours are written to\n      // ignore these values, but it can be confusing.\n      // TODO: look into actually making sure that we aren't sending these\n      // phantom values when submitting keymap state.\n      if (newAdditionalParams < oldAdditionalParams) {\n        // technically this could be anywhere in the tree but lets assume for\n        // convenience that switching a \"command\" param can only happen to the\n        // first child of the behaviour bind.\n        const tree = index[0]\n        tree.params.splice(1, tree.params.length - 1)\n        index.splice(2, index.length - 1)\n      }\n    }\n\n    targetNode.value = source.code\n    delete targetNode._isPlaceholder\n\n    // Clear parameters if the new source params list doesn't match the old one.\n    // TODO: instead of a reduce and iterating through the entire array in all\n    // cases, this could look for the first index where both params lists don't\n    // match and then splice targetNode.params from there\n    targetNode.params = (source?.params || []).reduce((params, p, i) => {\n      if (targetNode.source?.params?.[i] === source.params[i]) {\n        params.push(targetNode.params[i])\n      } else {\n        params.push({ value: 0, _isPlaceholder: true })\n      }\n      return params\n    }, [])\n\n    index.forEach(node => {\n      delete node.source\n    })\n\n    setEditing(null)\n    onUpdate(pick(updated, ['value', 'params', '_isPlaceholder']))\n  }\n\n  function handleSelectTree ({ value, params }) {\n    const { nodeIndex } = editing\n    const updated = cloneDeep(bindTree)\n    const index = makeIndex(updated)\n    const targetNode = index[nodeIndex]\n\n    // Assume these are all fine?\n    targetNode.value = value\n    targetNode.params = params\n    delete targetNode._isPlaceholder\n\n    index.forEach(node => {\n      delete node.source\n    })\n\n    setEditing(null)\n    onUpdate(pick(updated, ['value', 'params']))\n  }\n\n  function handleSelectParams (params) {\n    const { nodeIndex } = editing\n    const updated = cloneDeep(bindTree)\n    const index = makeIndex(updated)\n    const targetNode = index[nodeIndex]\n\n    // Assume these are all fine?\n    targetNode.params = params\n\n    index.forEach(node => {\n      delete node.source\n    })\n\n    setEditing(null)\n    onUpdate(pick(updated, ['value', 'params']))\n  }\n\n  return (\n    <>\n      {behaviour && !hideBehaviour\n        ? (\n        <span\n          className={compact([\n            styles['behaviour-binding'],\n            !behaviour.code && styles.missingValue\n          ]).join(' ')}\n          onClick={() => handleSelectNode({ node: bindTree })}\n        >\n          {behaviour.code || '⦸'}\n        </span>\n          )\n        : null}\n      {errors && (\n        <Icon\n          name=\"warning\"\n          className={styles.missing}\n          title=\"Binding has missing value(s)\"\n        />\n      )}\n      <BindParamlist\n        root={true}\n        slots={behaviourParams}\n        params={bindTreeParams}\n        onSelect={handleSelectNode}\n        wrapperProps={{\n          'data-simple': isSimple(bindTree),\n          'data-long': isComplex(bindTree, behaviourParams)\n        }}\n      />\n      {editing && (\n        <ValuePicker\n          node={editing.node}\n          type={editing.type}\n          behaviour={behaviour}\n          context={context}\n          prompt={createPromptMessage(editing.node.slot)}\n          searchKey=\"code\"\n          onSelect={handleSelectValue}\n          onCancel={() => setEditing(null)}\n        />\n      )}\n    </>\n  )\n}\n\nBinding.propTypes = {\n  context: PropTypes.string,\n  hideBehaviour: PropTypes.bool.isRequired,\n  value: bindPropTypes.value.isRequired,\n  params: PropTypes.arrayOf(bindPropTypes.node),\n  onUpdate: PropTypes.func.isRequired\n}\n\nBinding.defaultProps = {\n  hideBehaviour: false\n}\n\nexport default Binding\n","import PropTypes from 'prop-types'\n\nexport const enumOption = PropTypes.oneOfType([\n  PropTypes.shape({\n    name: PropTypes.string,\n    type: PropTypes.string,\n    description: PropTypes.string,\n    code: PropTypes.any\n  })\n])\n\nexport const param = PropTypes.oneOfType([\n  PropTypes.oneOf(['code', 'layer']),\n  PropTypes.shape({ type: PropTypes.oneOf(['placeholder']) }),\n  PropTypes.shape({\n    enum: PropTypes.arrayOf(enumOption),\n    raw: PropTypes.bool,\n    name: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired\n  })\n])\n\nexport const params = PropTypes.arrayOf(param)\nexport const value = PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.number\n])\nexport const source = PropTypes.shape({\n  params,\n  code: value.isRequired,\n  description: PropTypes.string,\n  symbol: PropTypes.string,\n  faIcon: PropTypes.string\n})\n\nconst nodeShape = { value, source }\nnodeShape.params = PropTypes.arrayOf(PropTypes.shape(nodeShape))\n\nexport const node = PropTypes.shape(nodeShape)\n\nexport const bindNode = node\n\nexport const index = PropTypes.arrayOf(node)\n","import find from 'lodash/find'\nimport get from 'lodash/get'\n\nimport { getBehaviourParams } from '../../keymap'\n\nexport function makeIndex (tree) {\n  const index = []\n  ;(function traverse (tree) {\n    const params = tree.params || []\n    index.push(tree)\n    params.forEach(traverse)\n  })(tree)\n\n  return index\n}\n\nexport function isSimple (normalized) {\n  const [first] = normalized.params\n  const symbol = get(first, 'source.symbol', get(first, 'source.code', ''))\n  const hasIcon = !!get(first, 'source.faIcon')\n  const shortSymbol = hasIcon || symbol.length === 1\n  const singleParam = normalized.params.length === 1\n  return singleParam && shortSymbol\n}\n\nexport function isComplex (normalized, behaviourParams) {\n  const [first] = normalized.params\n  const symbol = get(first, 'source.symbol', get(first, 'value', ''))\n  const hasIcon = !!get(first, 'source.faIcon')\n  const isLongSymbol = !hasIcon && symbol.length > 4\n  const isMultiParam = behaviourParams.length > 1\n  const isNestedParam = get(first, 'params', []).length > 0\n\n  return isLongSymbol || isMultiParam || isNestedParam\n}\n\nexport function createPromptMessage (param) {\n  const promptMapping = {\n    layer: 'Select layer',\n    mod: 'Select modifier',\n    behaviour: 'Select behaviour',\n    keycode: 'Select key code'\n  }\n\n  if (param.name) {\n    return `Select ${param.name}`\n  }\n\n  return (\n    promptMapping[param] ||\n    promptMapping.keycode\n  )\n}\n\nexport function hydrateTree (value, params, sources, context = 'none', mergedGlyphs) {\n  const bind = value\n  const behaviour = get(sources.behavioursByContext[context], bind, {})\n  const behaviourParams = getBehaviourParams(params, behaviour)\n\n  function getSourceValue (value, as) {\n    value = get(sources.defines, value, value)\n    if (!Number.isNaN(Number(value))) {\n      value = Number(value)\n    }\n    if (as.raw) return { code: value }\n    if (as.enum) {\n      // TODO: this doesn't seem to handle type mismatches like `1` vs `\"1\"` but\n      // in fairness this has probably been true for some time.\n      // TODO: rewrite all behavior enums to wrap choices in objects instead of\n      // handling object and raw value formats.\n      return (\n        find(as.enum, { code: value }) ||\n        find(as.enum, value) ||\n        { code: value }\n      )\n    }\n    // TODO: Shouldn't need to render placeholder\n    if (as.type === 'placeholder') return { code: value }\n    return sources?.[as]?.[value]\n  }\n\n  function hydrateNode (node, slot) {\n    if (!node) {\n      return { value: undefined, slot, params: [] }\n    }\n    const { value, params, _isPlaceholder } = node\n    const source = getSourceValue(value, slot)\n\n    return {\n      value,\n      _isPlaceholder,\n      slot,\n      source: {\n        ...source,\n        symbol: get(mergedGlyphs, [source?.name, 'symbol'], source?.symbol),\n        faIcon: get(mergedGlyphs, [source?.name, 'faIcon'], source?.faIcon)\n      },\n      params: get(source, 'params', []).map((slot, i) => (\n        hydrateNode(params[i], slot)\n      ))\n    }\n  }\n\n  return {\n    value,\n    slot: 'behaviour',\n    source: behaviour,\n    params: behaviourParams.map((slot, i) => (\n      hydrateNode(params[i], slot)\n    ))\n  }\n}\n","\nexport function validateDevicetreeNodeName (value) {\n  if (value.length > 31) {\n    return 'maximum length: 31'\n  } else if (value.match(/^[^a-zA-Z]/)) {\n    return 'first character must be a letter'\n  } else if (value.match(/[^a-zA-Z0-9,._+-]/)) {\n    return 'valid characters: a-zA-Z0-9,._+-'\n  }\n}\n\nexport const validateDevicetreeIdentifier = validateDevicetreeNodeName\n\nexport function validateDevicetreeLabel (value) {\n  if (value.length > 31) {\n    return 'maximum length: 31'\n  } else if (value.match(/^[^a-zA-Z]/)) {\n    return 'first character must be a letter'\n  } else if (value.match(/[^a-zA-Z0-9_]/)) {\n    return 'valid characters: a-zA-Z0-9_'\n  }\n}\n\nexport function validateDevicetreeReference (value) {\n  if (value.length > 31) {\n    return 'maximum length: 31'\n  } else if (value.match(/^[^&]/)) {\n    return 'must start with \"&\"'\n  } else if (value.match(/^&[^a-zA-Z]/)) {\n    return 'first character must be a letter'\n  } else if (value.slice(1).match(/[^a-zA-Z0-9_]/)) {\n    return 'valid characters: a-zA-Z0-9_'\n  }\n}\n","import PropTypes from 'prop-types'\n\nimport KeyWrapper from './KeyWrapper'\n\nimport Binding from '../Binding/Binding'\nimport * as bindPropTypes from '../Binding/bindPropTypes'\n\nfunction Key (props) {\n  const { context, value, params, keyWrapperProps = {}, onUpdate } = props\n\n  return (\n    <KeyWrapper {...keyWrapperProps}>\n      <Binding\n        context={context}\n        value={value}\n        params={params}\n        onUpdate={onUpdate}\n      />\n    </KeyWrapper>\n  )\n}\n\nKey.propTypes = {\n  label: PropTypes.string,\n  value: bindPropTypes.value.isRequired,\n  params: PropTypes.arrayOf(bindPropTypes.node),\n  onUpdate: PropTypes.func.isRequired\n}\n\nexport default Key\n","import compact from 'lodash/compact'\nimport styles from './styles.module.css'\n\nfunction KeyWrapper (props) {\n  const {\n    children,\n    selectable = true,\n    themeClass = undefined,\n    className = '',\n    ...rest\n  } = props\n\n  const classes = compact([\n    styles.key,\n    selectable && styles.selectable,\n    themeClass ?? styles.keyDefaultTheme,\n    className\n  ]).join(' ')\n\n  return (\n    <div className={classes} {...rest}>\n      {children}\n    </div>\n  )\n}\n\nexport default KeyWrapper\n","\nexport const cycle = (array, index, step = 1) => {\n  const next = (index + step) % array.length\n  return next < 0 ? array.length + next : next\n}\n\nexport function scrollIntoViewIfNeeded (element, alignToTop) {\n  const scroll = element.offsetParent.scrollTop\n  const height = element.offsetParent.offsetHeight\n  const top = element.offsetTop\n  const bottom = top + element.scrollHeight\n\n  if (top < scroll || bottom > scroll + height) {\n    element.scrollIntoView(alignToTop)\n  }\n}\n","import PropTypes from 'prop-types'\nimport { useCallback, useEffect, useRef, useState } from 'react'\n\nimport { cycle, scrollIntoViewIfNeeded } from './util'\nimport style from './style.module.css'\n\nfunction ResultList ({ results, onSelect, renderResult }) {\n  const [cursorIndex, setCursorIndex] = useState(0)\n  const listRef = useRef(null)\n\n  const moveCursor = useCallback(function (initial, offset) {\n    if (results.length === 0) {\n      setCursorIndex(null)\n      return\n    } else if (offset === undefined) {\n      setCursorIndex(initial)\n      return\n    }\n\n    const next = cursorIndex !== null\n      ? cycle(results, cursorIndex, offset)\n      : initial\n\n    const selector = `li[data-result-index=\"${next}\"]`\n    const element = listRef.current?.querySelector(selector)\n\n    scrollIntoViewIfNeeded(element, false)\n    setCursorIndex(next)\n  }, [results, cursorIndex, setCursorIndex])\n\n  const handleHighlightNext = useCallback(function () {\n    moveCursor(0, 1)\n  }, [moveCursor])\n\n  const handleHightightPrev = useCallback(function () {\n    moveCursor(results.length - 1, -1)\n  }, [moveCursor, results])\n\n  const handleSelectActive = useCallback(function (event) {\n    onSelect(results[cursorIndex], event)\n  }, [results, cursorIndex, onSelect])\n\n  const handleKeyDown = useCallback(function (event) {\n    const mapping = {\n      ArrowDown: handleHighlightNext,\n      ArrowUp: handleHightightPrev,\n      Enter: handleSelectActive\n    }\n\n    const action = mapping[event.key]\n    if (action) {\n      event.preventDefault()\n      event.stopPropagation()\n      action(event)\n    }\n  }, [\n    handleHighlightNext,\n    handleHightightPrev,\n    handleSelectActive\n  ])\n\n  useEffect(() => {\n    document.body.addEventListener('keydown', handleKeyDown)\n    return () => document.body.removeEventListener('keydown', handleKeyDown)\n  }, [listRef, handleKeyDown])\n\n  return (\n    <ul className={style.results} ref={listRef}>\n      {results.map((result, i) => (\n        <li\n          key={i}\n          className={cursorIndex === i ? style.highlighted : ''}\n          title={result.description}\n          data-result-index={i}\n          onClick={event => onSelect(result, event)}\n          onDoubleClick={event => onSelect(result, event)}\n          onMouseOver={() => moveCursor(i)}\n        >\n          {renderResult(result, i)}\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nResultList.propTypes = {\n  results: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  renderResult: PropTypes.func.isRequired\n}\n\nexport default ResultList\n","import fuzzysort from 'fuzzysort'\nimport PropTypes from 'prop-types'\nimport { useCallback, useMemo, useState } from 'react'\n\nimport Icon from '../Common/Icon'\nimport style from './style.module.css'\n\nconst searchThreshold = 10\n\nfunction focusInput (node) {\n  if (node) {\n    node.focus()\n    node.select()\n  }\n}\n\nconst SearchFilter = ({ choices, searchKey, renderResults, initialQuery }) => {\n  const useSearch = !choices.length || choices.length > searchThreshold\n  const [query, setQuery] = useState(initialQuery)\n  const results = useMemo(() => {\n    if (!query || !useSearch) {\n      return choices\n    }\n\n    const options = { key: searchKey, limit: 30 }\n    const filtered = fuzzysort.go(query, choices, options)\n    return filtered.map(result => ({\n      ...result.obj,\n      search: result\n    }))\n  }, [useSearch, query, choices, searchKey])\n\n  const handleKeyPress = useCallback(event => {\n    setQuery(event.target.value)\n  }, [setQuery])\n\n  return (\n    <>\n      {useSearch && (\n        <div className={style.searchWrapper}>\n          <input\n            ref={focusInput}\n            type=\"text\"\n            value={query}\n            onChange={handleKeyPress}\n          />\n          <Icon className={style.searchIcon} name=\"search\" />\n          <Icon\n            className={style.clearSearchIcon}\n            name=\"times\"\n            onClick={() => setQuery('')}\n          />\n        </div>\n      )}\n      {renderResults(results)}\n    </>\n  )\n}\n\nSearchFilter.propTypes = {\n  choices: PropTypes.array.isRequired,\n  searchKey: PropTypes.string.isRequired,\n  initialQuery: PropTypes.string.isRequired,\n  renderResults: PropTypes.func.isRequired\n}\n\nSearchFilter.defaultProps = {\n  initialQuery: ''\n}\n\nexport default SearchFilter\n","import PropTypes from 'prop-types'\nimport { useContext, useMemo } from 'react'\n\nimport { SearchContext } from '../providers'\nimport ResultList from './ResultList'\nimport style from './style.module.css'\n\nfunction EnumPicker (props) {\n  const { getSearchTargets } = useContext(SearchContext)\n  const { param, prompt, onSelect } = props\n\n  const choices = useMemo(() => (\n    getSearchTargets(param)\n  ), [getSearchTargets, param])\n\n  return (\n    <div className={style.dialog}>\n      <p>{prompt}</p>\n      <ResultList\n        results={choices}\n        onSelect={onSelect}\n        renderResult={result => result.code}\n      />\n    </div>\n  )\n}\n\nEnumPicker.propTypes = {\n  value: PropTypes.any.isRequired,\n  param: PropTypes.object.isRequired,\n  prompt: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nEnumPicker.defaultProps = {\n  value: ''\n}\n\nexport default EnumPicker\n","import fuzzysort from 'fuzzysort'\nimport PropTypes from 'prop-types'\nimport { useCallback, useContext, useMemo } from 'react'\nimport { bindNode } from '../Keyboard/Binding/bindPropTypes'\n\nimport { SearchContext } from '../providers'\nimport ResultList from './ResultList'\nimport SearchFilter from './SearchFilter'\nimport style from './style.module.css'\n\nfunction GenericPicker (props) {\n  const { prompt, searchKey, node, param, behaviour, context, onSelect } = props\n\n  const { getSearchTargets } = useContext(SearchContext)\n  const renderSearchResult = useCallback(result => {\n    const title = result.search\n      ? (\n      <span dangerouslySetInnerHTML={{\n        __html: fuzzysort.highlight(result.search)\n      }} />\n        )\n      : (\n      <span>\n        {result.code}\n      </span>\n        )\n\n    return (\n      <>\n        {title}\n        {result.description && <p className={style.description}>{result.description}</p>}\n      </>\n    )\n  }, [])\n\n  const choices = useMemo(() => {\n    return getSearchTargets(param, behaviour.code, context)\n  }, [getSearchTargets, param, behaviour, context])\n\n  return (\n    <div className={style.dialog}>\n      <p>{prompt}</p>\n      <SearchFilter\n        choices={choices}\n        initialQuery={node.value || ''}\n        searchKey={searchKey}\n        renderResults={results => results && (\n          <ResultList\n            results={results}\n            onSelect={onSelect}\n            renderResult={renderSearchResult}\n          />\n        )}\n      />\n    </div>\n  )\n}\n\nGenericPicker.propTypes = {\n  node: bindNode.isRequired,\n  param: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      enum: PropTypes.array,\n      raw: PropTypes.bool,\n      type: PropTypes.string\n    })\n  ]).isRequired,\n  prompt: PropTypes.string.isRequired,\n  searchKey: PropTypes.string.isRequired,\n  behaviour: PropTypes.object.isRequired,\n  context: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nexport default GenericPicker\n","import PropTypes from 'prop-types'\nimport { lazy, Suspense, useCallback, useState } from 'react'\nimport ActionButton from '../../Common/ActionButton'\n\nconst ChromePicker = lazy(() => import(/* webpackChunkName: \"react-color\" */ 'react-color/es/Chrome.js'))\n\nfunction HSBPicker (props) {\n  const { node, onSelect } = props\n  const [hsl, setHsl] = useState({\n    h: Number(node.params[0].value),\n    s: Number(node.params[1].value) / 100,\n    l: Number(node.params[2].value) / 100\n  })\n\n  const handleChange = useCallback(({ hsl }) => {\n    setHsl(hsl)\n  }, [setHsl])\n\n  const handleConfirm = useCallback(() => {\n    onSelect([\n      { value: Math.round(hsl.h) },\n      { value: Math.round(hsl.s * 100) },\n      { value: Math.round(hsl.l * 100) }\n    ])\n  }, [hsl, onSelect])\n\n  return (\n    <div>\n      <Suspense>\n        <p>Select colour</p>\n        <ChromePicker\n          color={hsl}\n          disableAlpha={true}\n          onChangeComplete={handleChange}\n        />\n        <p style={{ textAlign: 'center' }}>\n          <ActionButton onClick={handleConfirm}>Confirm</ActionButton>\n        </p>\n      </Suspense>\n    </div>\n  )\n}\n\nHSBPicker.propTypes = {\n  value: PropTypes.any.isRequired,\n  prompt: PropTypes.string.isRequired,\n  param: PropTypes.oneOfType([\n    PropTypes.shape({\n      enum: PropTypes.array,\n      raw: PropTypes.bool,\n      type: PropTypes.string\n    })\n  ]).isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nHSBPicker.defaultProps = {\n  value: ''\n}\n\nexport default HSBPicker\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import PropTypes from 'prop-types'\nimport style from './styles.module.css'\n\nconst leftModifiers = ['LSHFT', 'LALT', 'LCTRL', 'LGUI']\nconst rightModifiers = ['RSHFT', 'RALT', 'RCTRL', 'RGUI']\n\nfunction ModifiersRow ({ selected, row, onSelect }) {\n  return (\n    <ul className={style.modifiers}>\n      {row.map((mod, i) => (\n        <li\n          key={i}\n          className={selected.includes(mod) ? style.selected : ''}\n          onClick={() => onSelect(mod)}\n        >{mod}</li>\n      ))}\n    </ul>\n  )\n}\n\nfunction ModifiersPicker ({ selected, onChange }) {\n  function handleSelection (modifier) {\n    onChange(\n      selected.includes(modifier)\n        ? selected.filter(mod => mod !== modifier)\n        : [...selected, modifier]\n    )\n  }\n  return (\n    <>\n      <ModifiersRow row={leftModifiers} selected={selected} onSelect={handleSelection} />\n      <ModifiersRow row={rightModifiers} selected={selected} onSelect={handleSelection} />\n    </>\n  )\n}\n\nModifiersPicker.propTypes = {\n  selected: PropTypes.arrayOf(PropTypes.string)\n}\n\nexport default ModifiersPicker\n","import fuzzysort from 'fuzzysort'\nimport compact from 'lodash/compact'\nimport map from 'lodash/map'\nimport PropTypes from 'prop-types'\nimport { useCallback, useContext, useMemo, useState } from 'react'\n\nimport { treeToSequence, sequenceToTree } from './helpers'\nimport { SearchContext } from '../../providers'\nimport { bindNode } from '../../Keyboard/Binding/bindPropTypes'\n\nimport ResultList from '../../ValuePicker/ResultList'\nimport resultListStyle from '../../ValuePicker/style.module.css'\nimport SearchFilter from '../../ValuePicker/SearchFilter'\nimport ModifiersPicker from './ModifiersPicker'\nimport KeycodeBindNode from './KeycodeBindNode'\nimport { hydrateTree } from '../../Keyboard/Binding/util'\nimport KeyWrapper from '../../Keyboard/Keys/KeyWrapper'\nimport ActionButton from '../../Common/ActionButton'\nimport styles from './styles.module.css'\nimport Tip from '../../Common/Tip'\n\nconst modifiersMap = {\n  LSHFT: 'LS',\n  LCTRL: 'LC',\n  LALT: 'LA',\n  LGUI: 'LG',\n  RSHFT: 'RS',\n  RCTRL: 'RC',\n  RALT: 'RA',\n  RGUI: 'RG'\n}\n\nfunction renderSearchResult (result) {\n  const title = result.search\n    ? <span dangerouslySetInnerHTML={{ __html: fuzzysort.highlight(result.search) }} />\n    : <span>{result.code}</span>\n\n  return (\n    <>\n      {title}\n      <p className={resultListStyle.description}>{result.description}</p>\n    </>\n  )\n}\n\nfunction KeycodePicker ({ node, onSelect, behaviour }) {\n  const { getSearchTargets, sources, mergedGlyphs } = useContext(SearchContext)\n\n  const codes = useMemo(() => map(treeToSequence(node), 'source'), [node])\n  const initialModifiers = codes.length === 1 ? [] : codes.slice(0, -1)\n  const [selectedModifiers, setSelectedModifiers] = useState(map(initialModifiers, 'name'))\n  const [selectedKeycode, setSelectedKeycode] = useState(codes.at(-1))\n\n  const choices = useMemo(() => {\n    // bit of a hack; we can't use the search picker to select the \"function\"\n    // version of modifier keycodes because they won't end up in the modifiers\n    // list and we aren't allowing for population of their parameters.\n    // TODO: once this picker becomes the \"standard\" the function macros should\n    // not be treated as keycodes.\n    const codes = getSearchTargets('code', behaviour.code)\n    return codes.filter(code => code.params.length === 0)\n  }, [getSearchTargets, behaviour])\n\n  // have to hydrate to get merged glyphs\n  // hardcoding isn't great but it's the keycode picker so maybe '&kp' is reasonable\n  const hydrated = hydrateTree(\n    '&kp',\n    [{ value: selectedKeycode?.code, params: selectedKeycode?.params }],\n    sources,\n    undefined,\n    mergedGlyphs\n  )\n\n  const select = useCallback(function (keycode, modifiers) {\n    const modifierFunctions = modifiers.map(mod => modifiersMap[mod])\n    const tree = sequenceToTree(compact([...modifierFunctions, keycode?.code]))\n\n    onSelect(tree)\n  }, [onSelect])\n\n  const handleSelectKeycode = useCallback((result, event) => {\n    if (event.type === 'dblclick') {\n      select(result, selectedModifiers)\n      return\n    }\n\n    setSelectedKeycode(result)\n  }, [select, selectedModifiers, setSelectedKeycode])\n\n  function handleConfirm () {\n    select(selectedKeycode, selectedModifiers)\n  }\n\n  function handleCancel () {\n    onSelect(node)\n  }\n\n  return (\n    <div className={resultListStyle.dialog}>\n      <div style={{ display: 'flex', gap: '10px' }}>\n        <div>\n          <p>Keycode</p>\n          <KeyWrapper className={styles.previewKeycode} selectable={false}>\n            <KeycodeBindNode\n              node={hydrated.params[0]}\n              onSelect={() => {}}\n            />\n          </KeyWrapper>\n        </div>\n        <div>\n          <p>Modifiers</p>\n          <ModifiersPicker\n            selected={selectedModifiers}\n            onChange={setSelectedModifiers}\n          />\n        </div>\n      </div>\n      <p>Available Keycodes</p>\n      <SearchFilter\n        choices={choices}\n        initialQuery={selectedKeycode?.code}\n        searchKey=\"code\"\n        renderResults={results => results && (\n          <ResultList\n            results={results}\n            onSelect={handleSelectKeycode}\n            renderResult={renderSearchResult}\n          />\n        )}\n      />\n      <Tip className={styles.quickCloseTip}>\n        Double-click to select and close the dialog\n      </Tip>\n      <p style={{ textAlign: 'center' }}>\n        <ActionButton onClick={handleConfirm}>Confirm</ActionButton>\n        <ActionButton onClick={handleCancel} secondary>Cancel</ActionButton>\n      </p>\n    </div>\n  )\n}\n\nKeycodePicker.propTypes = {\n  node: bindNode.isRequired,\n  param: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      enum: PropTypes.array,\n      raw: PropTypes.bool,\n      type: PropTypes.string\n    })\n  ]).isRequired,\n  prompt: PropTypes.string.isRequired,\n  searchKey: PropTypes.string.isRequired,\n  behaviour: PropTypes.object.isRequired,\n  context: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nexport default KeycodePicker\n","import PropTypes from 'prop-types'\nimport { useCallback, useState } from 'react'\n\nimport style from './style.module.css'\n\nfunction focusInput (node) {\n  if (node) {\n    node.focus()\n    node.select()\n  }\n}\n\nfunction RawValuePicker (props) {\n  const { value: initialValue, param, onSelect } = props\n  const [value, setValue] = useState(initialValue)\n\n  const handleKeyDown = useCallback(event => {\n    if (event.key === 'Enter') {\n      onSelect({ code: value })\n    }\n  }, [value, onSelect])\n\n  const handleKeyPress = useCallback(event => {\n    let value = event.target.value\n\n    if (param.type === 'number') {\n      value = Number(value)\n      if (Number.isNaN(value)) {\n        return\n      }\n    }\n\n    setValue(value)\n  }, [param, setValue])\n\n  return (\n    <div className={style.dialog}>\n      <p>Enter raw value</p>\n      <input\n        ref={focusInput}\n        type=\"text\"\n        value={value}\n        onChange={handleKeyPress}\n        onKeyDown={handleKeyDown}\n      />\n    </div>\n  )\n}\n\nRawValuePicker.propTypes = {\n  value: PropTypes.any.isRequired,\n  prompt: PropTypes.string.isRequired,\n  param: PropTypes.oneOfType([\n    PropTypes.shape({\n      enum: PropTypes.array,\n      raw: PropTypes.bool,\n      type: PropTypes.string\n    })\n  ]).isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nRawValuePicker.defaultProps = {\n  value: ''\n}\n\nexport default RawValuePicker\n","import PropTypes from 'prop-types'\nimport { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { selectLayers } from '../Keyboard/Layers/layersSlice'\nimport ResultList from './ResultList'\nimport style from './style.module.css'\n\nfunction LayerPicker ({ onSelect }) {\n  const layers = useSelector(selectLayers)\n  const choices = useMemo(() => layers.map((layer, i) => ({\n    code: i,\n    description: layer.name || `Layer ${i}`\n  })), [layers])\n\n  return (\n    <div className={style.dialog}>\n      <p>Select layer</p>\n      <ResultList\n        results={choices}\n        onSelect={onSelect}\n        renderResult={result => (\n          <>\n            {result.code}\n            {result.description && <p className={style.description}>{result.description}</p>}\n          </>\n        )}\n      />\n    </div>\n  )\n}\n\nLayerPicker.propTypes = {\n  value: PropTypes.string.isRequired,\n  behaviour: PropTypes.object.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nLayerPicker.defaultProps = {\n  value: ''\n}\n\nexport default LayerPicker\n","import pick from 'lodash/pick'\nimport PropTypes from 'prop-types'\nimport { useMemo } from 'react'\n\nimport Modal from '../Common/Modal'\nimport EnumPicker from './EnumPicker'\nimport { bindNode } from '../Keyboard/Binding/bindPropTypes'\n\nimport GenericPicker from './GenericPicker'\nimport HueSatValPicker from '../EnhancedPickers/RGB/HueSatValPicker'\nimport KeycodePicker from '../EnhancedPickers/Keycode/KeycodePicker'\nimport RawValuePicker from './RawValuePicker'\nimport LayerPicker from './LayerPicker'\n\nfunction ValuePicker (props) {\n  const { node, type, onCancel, onSelect } = props\n  const pickerProps = pick(props, [\n    'node', 'value', 'prompt', 'param', 'node', 'behaviour', 'context', 'searchKey'\n  ])\n\n  const PickerComponent = useMemo(() => {\n    // TODO: allow components to register helpers\n    if (type === 'params' && node.source?.helper === 'hsb-color-picker') return HueSatValPicker\n    if (node.slot.raw) return RawValuePicker\n    // TODO: Shouldn't need to render placeholder\n    if (node.slot.type === 'placeholder') return RawValuePicker\n    if (node.slot.enum) return EnumPicker\n    if (node.slot === 'code') return KeycodePicker\n    if (node.slot === 'layer') return LayerPicker\n    return GenericPicker\n  }, [node, type])\n\n  return (\n    <Modal onDismiss={onCancel}>\n      <PickerComponent\n        {...pickerProps}\n        param={node.slot}\n        onSelect={onSelect}\n      />\n    </Modal>\n  )\n}\n\nValuePicker.propTypes = {\n  type: PropTypes.string.isRequired,\n  node: bindNode.isRequired,\n  behaviour: PropTypes.object.isRequired,\n  prompt: PropTypes.string.isRequired,\n  searchKey: PropTypes.string.isRequired,\n  searchThreshold: PropTypes.number,\n  onCancel: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nValuePicker.defaultProps = {\n  type: 'value',\n  value: '',\n  freeForm: false,\n  searchThreshold: 10\n}\n\nexport default ValuePicker\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sq9i7hQeTeeKuarmO8oA {\\n  display: inline-block;\\n  font-size: 70%;\\n  background: rgba(0, 0, 0, 0.5);\\n  color: white;\\n  padding: 4px;\\n  border-radius: 4px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Common/tip.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB;EACrB,cAAc;EACd,8BAA8B;EAC9B,YAAY;EACZ,YAAY;EACZ,kBAAkB;AACpB\",\"sourcesContent\":[\".tip {\\n  display: inline-block;\\n  font-size: 70%;\\n  background: rgba(0, 0, 0, 0.5);\\n  color: white;\\n  padding: 4px;\\n  border-radius: 4px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"tip\": \"sq9i7hQeTeeKuarmO8oA\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".xCOOsvxL5qQ3kR8ri91A {\\n  box-shadow: 0 4px 10px 0px rgba(0, 0, 0, 0.5);\\n}\\n\\n.u4uW9U2E0DfbUM9vP9pf {\\n  text-align: center;\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n.u4uW9U2E0DfbUM9vP9pf li {\\n  display: inline-block;\\n  font-family: monospace;\\n  font-size: 120%;\\n  margin: 4px 2px;\\n  padding: 4px 4px;\\n  border-radius: 2px;\\n  cursor: pointer;\\n\\n  background-color: rgba(0, 0, 0, .5);\\n  opacity: 0.5;\\n  color: white;\\n}\\n\\n.u4uW9U2E0DfbUM9vP9pf li.YcHSun3PLo8dCb9qIZtc {\\n  opacity: 1;\\n  background-color: var(--selection);\\n  color: white;\\n}\\n\\n.u4uW9U2E0DfbUM9vP9pf li:hover {\\n  opacity: 1;\\n  background-color: var(--hover-selection);\\n}\\n\\n.d3hMEDpEkH8H7YLG_NjI {\\n  width: 100%;\\n  box-sizing: border-box;\\n  text-align: center;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/EnhancedPickers/Keycode/styles.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,6CAA6C;AAC/C;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,SAAS;AACX;;AAEA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,eAAe;;EAEf,mCAAmC;EACnC,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,UAAU;EACV,kCAAkC;EAClC,YAAY;AACd;;AAEA;EACE,UAAU;EACV,wCAAwC;AAC1C;;AAEA;EACE,WAAW;EACX,sBAAsB;EACtB,kBAAkB;AACpB\",\"sourcesContent\":[\".previewKeycode {\\n  box-shadow: 0 4px 10px 0px rgba(0, 0, 0, 0.5);\\n}\\n\\n.modifiers {\\n  text-align: center;\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n.modifiers li {\\n  display: inline-block;\\n  font-family: monospace;\\n  font-size: 120%;\\n  margin: 4px 2px;\\n  padding: 4px 4px;\\n  border-radius: 2px;\\n  cursor: pointer;\\n\\n  background-color: rgba(0, 0, 0, .5);\\n  opacity: 0.5;\\n  color: white;\\n}\\n\\n.modifiers li.selected {\\n  opacity: 1;\\n  background-color: var(--selection);\\n  color: white;\\n}\\n\\n.modifiers li:hover {\\n  opacity: 1;\\n  background-color: var(--hover-selection);\\n}\\n\\n.quickCloseTip {\\n  width: 100%;\\n  box-sizing: border-box;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"previewKeycode\": \"xCOOsvxL5qQ3kR8ri91A\",\n\t\"modifiers\": \"u4uW9U2E0DfbUM9vP9pf\",\n\t\"selected\": \"YcHSun3PLo8dCb9qIZtc\",\n\t\"quickCloseTip\": \"d3hMEDpEkH8H7YLG_NjI\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".CoLZlKR1WcMrFd9XhDMC {\\n\\tposition: relative;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\n\\tfont-family: Quicksand, avenir, sans-serif;\\n\\n\\t/* TODO: remove this once I have a wrapper with size defaults */\\n\\twidth: 65px;\\n\\theight: 65px;\\n\\n\\tfont-size: 110%;\\n\\tborder-radius: 5px;\\n}\\n\\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:not(:hover) .UNzQquWsoIanOpIN0Q9L {\\n\\ttext-decoration: underline wavy var(--error-highlight);\\n\\ttext-underline-offset: 4px;\\n\\tcolor: var(--error-highlight);\\n\\tfont-weight: bold;\\n}\\n\\n.Y5EVt8b0BaXNd9uLxhfh {\\n\\tposition: absolute;\\n\\tleft: 2px;\\n\\tbottom: 2px;\\n\\tfont-size: 80%;\\n\\n\\tanimation: sYr3l9y03JxO_2AP73jr ease-in-out 1s alternate-reverse;\\n}\\n.Y5EVt8b0BaXNd9uLxhfh.CT4uGhwl8sY0LwT3p39g:hover {\\n\\tcolor: rgb(255, 225, 0);\\n}\\n\\n@keyframes sYr3l9y03JxO_2AP73jr {\\n\\t0% { color: var(--key-color-base) }\\n\\t100% { color: var(--key-color-extreme) }\\n}\\n\\n\\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .DejZXCvvhJILPbs9Q8ht,\\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .GliE4Ybwli9X6TNTjD1_ {\\n\\tborder-bottom-left-radius: 0;\\n\\tborder-bottom-right-radius: 0;\\n\\ttext-decoration: underline dotted white 2px;\\n\\ttext-underline-offset: 4px;\\n}\\n\\n\\n.huQDP3GbTLThbVIP8wFp {\\n\\tcolor: var(--key-color-base);\\n\\tbackground-color: var(--key-bg-base);\\n}\\n\\n.PpMmKpJfEi37Ldw7AeBT {\\n\\tborder-radius: 100%;\\n\\tbackground-color: var(--key-bg-base);\\n\\tcolor: var(--key-color-base);\\n}\\n\\n.k2EIh8YlFvp9sBuklSxx {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 50%;\\n\\ttransform: translateX(-50%);\\n\\tfont-size: 50%;\\n}\\n\\n.CT4uGhwl8sY0LwT3p39g:hover, .PpMmKpJfEi37Ldw7AeBT.CT4uGhwl8sY0LwT3p39g:hover {\\n\\tbackground-color: var(--hover-selection);\\n\\ttransition: 200ms;\\n\\tz-index: 1;\\n}\\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .DejZXCvvhJILPbs9Q8ht, .CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .GliE4Ybwli9X6TNTjD1_ {\\n\\tcolor: var(--key-color-hover);\\n}\\n.CoLZlKR1WcMrFd9XhDMC > .DejZXCvvhJILPbs9Q8ht {\\n\\tpadding: 5px;\\n}\\n\\n[data-simple=\\\"true\\\"] { font-size: 140%; }\\n[data-long=\\\"true\\\"] { font-size: 60%; }\\n\\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root=\\\"true\\\"])::before { content: '('; opacity: 0.4; font-weight: bold; margin: 2px; }\\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root=\\\"true\\\"])::after { content: ')'; opacity: 0.4; font-weight: bold; margin: 2px; }\\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root=\\\"true\\\"]) .mLz637Atn0jZXey6Rx4v:not(:last-child)::after { content: ','; }\\n\\n.DejZXCvvhJILPbs9Q8ht {\\n\\tcursor: default;\\n\\tpadding: 0px 4px;\\n\\tmargin-left: -2px;\\n\\tmargin-right: -2px;\\n}\\n\\n.CT4uGhwl8sY0LwT3p39g .DejZXCvvhJILPbs9Q8ht {\\n\\tcursor: pointer;\\n\\tdisplay: inline-block;\\n\\tbox-sizing: content-box;\\n\\tmin-width: 0.5em;\\n\\ttext-align: center;\\n\\tborder-radius: 4px;\\n}\\n.CT4uGhwl8sY0LwT3p39g .DejZXCvvhJILPbs9Q8ht:hover {\\n\\tbackground-color: white !important;\\n\\tcolor: var(--hover-selection) !important;\\n\\tborder-radius: 4px !important;\\n}\\n\\n.DejZXCvvhJILPbs9Q8ht * {\\n\\tpointer-events: none;\\n}\\n\\n.GliE4Ybwli9X6TNTjD1_ {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  font-size: 10px;\\n  padding: 2px;\\n  opacity: 0.65;\\n}\\n\\n.GliE4Ybwli9X6TNTjD1_:hover {\\n  cursor: pointer;\\n  color: var(--hover-selection) !important;\\n  background-color: var(--key-bg-hover);\\n  border-radius: 5px 0;\\n  opacity: 1;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Keyboard/Keys/styles.module.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,kBAAkB;CAClB,aAAa;CACb,uBAAuB;CACvB,mBAAmB;;CAEnB,0CAA0C;;CAE1C,+DAA+D;CAC/D,WAAW;CACX,YAAY;;CAEZ,eAAe;CACf,kBAAkB;AACnB;;AAEA;CACC,sDAAsD;CACtD,0BAA0B;CAC1B,6BAA6B;CAC7B,iBAAiB;AAClB;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,WAAW;CACX,cAAc;;CAEd,gEAAiD;AAClD;AACA;CACC,uBAAuB;AACxB;;AAEA;CACC,KAAK,6BAA6B;CAClC,OAAO,gCAAgC;AACxC;;;AAGA;;CAEC,4BAA4B;CAC5B,6BAA6B;CAC7B,2CAA2C;CAC3C,0BAA0B;AAC3B;;;AAGA;CACC,4BAA4B;CAC5B,oCAAoC;AACrC;;AAEA;CACC,mBAAmB;CACnB,oCAAoC;CACpC,4BAA4B;AAC7B;;AAEA;CACC,kBAAkB;CAClB,MAAM;CACN,SAAS;CACT,2BAA2B;CAC3B,cAAc;AACf;;AAEA;CACC,wCAAwC;CACxC,iBAAiB;CACjB,UAAU;AACX;AACA;CACC,6BAA6B;AAC9B;AACA;CACC,YAAY;AACb;;AAEA,uBAAuB,eAAe,EAAE;AACxC,qBAAqB,cAAc,EAAE;;AAErC,2DAA6C,YAAY,EAAE,YAAY,EAAE,iBAAiB,EAAE,WAAW,EAAE;AACzG,0DAA4C,YAAY,EAAE,YAAY,EAAE,iBAAiB,EAAE,WAAW,EAAE;AACxG,iGAAoE,YAAY,EAAE;;AAElF;CACC,eAAe;CACf,gBAAgB;CAChB,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,eAAe;CACf,qBAAqB;CACrB,uBAAuB;CACvB,gBAAgB;CAChB,kBAAkB;CAClB,kBAAkB;AACnB;AACA;CACC,kCAAkC;CAClC,wCAAwC;CACxC,6BAA6B;AAC9B;;AAEA;CACC,oBAAoB;AACrB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,eAAe;EACf,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,eAAe;EACf,wCAAwC;EACxC,qCAAqC;EACrC,oBAAoB;EACpB,UAAU;AACZ\",\"sourcesContent\":[\".key {\\n\\tposition: relative;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\n\\tfont-family: Quicksand, avenir, sans-serif;\\n\\n\\t/* TODO: remove this once I have a wrapper with size defaults */\\n\\twidth: 65px;\\n\\theight: 65px;\\n\\n\\tfont-size: 110%;\\n\\tborder-radius: 5px;\\n}\\n\\n.key.selectable:not(:hover) .missingValue {\\n\\ttext-decoration: underline wavy var(--error-highlight);\\n\\ttext-underline-offset: 4px;\\n\\tcolor: var(--error-highlight);\\n\\tfont-weight: bold;\\n}\\n\\n.missing {\\n\\tposition: absolute;\\n\\tleft: 2px;\\n\\tbottom: 2px;\\n\\tfont-size: 80%;\\n\\n\\tanimation: pulse ease-in-out 1s alternate-reverse;\\n}\\n.missing.selectable:hover {\\n\\tcolor: rgb(255, 225, 0);\\n}\\n\\n@keyframes pulse {\\n\\t0% { color: var(--key-color-base) }\\n\\t100% { color: var(--key-color-extreme) }\\n}\\n\\n\\n.key.selectable:hover .code,\\n.key.selectable:hover .behaviour-binding {\\n\\tborder-bottom-left-radius: 0;\\n\\tborder-bottom-right-radius: 0;\\n\\ttext-decoration: underline dotted white 2px;\\n\\ttext-underline-offset: 4px;\\n}\\n\\n\\n.keyDefaultTheme {\\n\\tcolor: var(--key-color-base);\\n\\tbackground-color: var(--key-bg-base);\\n}\\n\\n.encoder {\\n\\tborder-radius: 100%;\\n\\tbackground-color: var(--key-bg-base);\\n\\tcolor: var(--key-color-base);\\n}\\n\\n.encoderDirection {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 50%;\\n\\ttransform: translateX(-50%);\\n\\tfont-size: 50%;\\n}\\n\\n.selectable:hover, .encoder.selectable:hover {\\n\\tbackground-color: var(--hover-selection);\\n\\ttransition: 200ms;\\n\\tz-index: 1;\\n}\\n.key.selectable:hover .code, .key.selectable:hover .behaviour-binding {\\n\\tcolor: var(--key-color-hover);\\n}\\n.key > .code {\\n\\tpadding: 5px;\\n}\\n\\n[data-simple=\\\"true\\\"] { font-size: 140%; }\\n[data-long=\\\"true\\\"] { font-size: 60%; }\\n\\n.params:not([data-is-root=\\\"true\\\"])::before { content: '('; opacity: 0.4; font-weight: bold; margin: 2px; }\\n.params:not([data-is-root=\\\"true\\\"])::after { content: ')'; opacity: 0.4; font-weight: bold; margin: 2px; }\\n.params:not([data-is-root=\\\"true\\\"]) .param:not(:last-child)::after { content: ','; }\\n\\n.code {\\n\\tcursor: default;\\n\\tpadding: 0px 4px;\\n\\tmargin-left: -2px;\\n\\tmargin-right: -2px;\\n}\\n\\n.selectable .code {\\n\\tcursor: pointer;\\n\\tdisplay: inline-block;\\n\\tbox-sizing: content-box;\\n\\tmin-width: 0.5em;\\n\\ttext-align: center;\\n\\tborder-radius: 4px;\\n}\\n.selectable .code:hover {\\n\\tbackground-color: white !important;\\n\\tcolor: var(--hover-selection) !important;\\n\\tborder-radius: 4px !important;\\n}\\n\\n.code * {\\n\\tpointer-events: none;\\n}\\n\\n.behaviour-binding {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  font-size: 10px;\\n  padding: 2px;\\n  opacity: 0.65;\\n}\\n\\n.behaviour-binding:hover {\\n  cursor: pointer;\\n  color: var(--hover-selection) !important;\\n  background-color: var(--key-bg-hover);\\n  border-radius: 5px 0;\\n  opacity: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"key\": \"CoLZlKR1WcMrFd9XhDMC\",\n\t\"selectable\": \"CT4uGhwl8sY0LwT3p39g\",\n\t\"missingValue\": \"UNzQquWsoIanOpIN0Q9L\",\n\t\"missing\": \"Y5EVt8b0BaXNd9uLxhfh\",\n\t\"pulse\": \"sYr3l9y03JxO_2AP73jr\",\n\t\"code\": \"DejZXCvvhJILPbs9Q8ht\",\n\t\"behaviour-binding\": \"GliE4Ybwli9X6TNTjD1_\",\n\t\"keyDefaultTheme\": \"huQDP3GbTLThbVIP8wFp\",\n\t\"encoder\": \"PpMmKpJfEi37Ldw7AeBT\",\n\t\"encoderDirection\": \"k2EIh8YlFvp9sBuklSxx\",\n\t\"params\": \"ApHDJFJGYUaGTgzMeIKZ\",\n\t\"param\": \"mLz637Atn0jZXey6Rx4v\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sP2kDRoTZElZUTNHq033 {\\n  width: 300px;\\n\\tpadding: 10px;\\n\\tborder-radius: 4px;\\n\\tbackground: radial-gradient(\\n\\t\\trgba(var(--bg-rgb), 1) 20%,\\n\\t\\trgba(var(--bg-rgb), .6) 100%\\n\\t);\\n}\\n.sP2kDRoTZElZUTNHq033 input {\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\theight: 30px;\\n\\tline-height: 30px;\\n\\n\\tfont-size: 120%;\\n\\tmargin: 0;\\n\\tpadding: 4px;\\n\\tborder: none;\\n\\tborder-radius: 4px;\\n  box-sizing: border-box;\\n}\\nul.inAS9Qunkf3g5K3xz6o6 {\\n\\tposition: relative;\\n\\tfont-family: monospace;\\n\\tlist-style-position: inside;\\n\\tlist-style-type: none;\\n\\tmax-height: 300px;\\n\\toverflow: scroll;\\n\\tpadding: 4px;\\n  margin: 4px 0;\\n\\tbackground: rgba(0, 0, 0, 0.75);\\n\\tborder-radius: 4px;\\n}\\n.inAS9Qunkf3g5K3xz6o6 li {\\n\\tcursor: pointer;\\n\\tcolor: white;\\n\\tpadding: 5px;\\n}\\n.inAS9Qunkf3g5K3xz6o6 li:hover, .inAS9Qunkf3g5K3xz6o6 li.BL7Cxrn_efblQXY3W1Sw {\\n\\tbackground: white;\\n\\tcolor: black;\\n}\\n.inAS9Qunkf3g5K3xz6o6 li b { color: red; }\\n.inAS9Qunkf3g5K3xz6o6 li .uld0XaeoQaQJJwp0LT0X {\\n\\tfont-style: italic;\\n\\tfont-size: 90%;\\n\\tmargin: 0;\\n\\tcolor: gray;\\n}\\n\\n.pqiZQublKXvmnT_ESDxQ {\\n  font-size: 10px;\\n}\\n\\n.pqiZQublKXvmnT_ESDxQ a {\\n  color: var(--selection);\\n  border-bottom: 1px dotted var(--selection);\\n  cursor: pointer;\\n}\\n\\n.ECUs4g2j1rekP4xxgQDr {\\n  position: relative;\\n}\\n.ECUs4g2j1rekP4xxgQDr input {\\n  padding: 4px 4px 4px 30px;\\n}\\n\\n.xDUAgQZeBp0TZSOqCwHm {\\n  position: absolute;\\n\\ttop: 50%;\\n\\tleft: 10px;\\n\\ttransform: translateY(-50%);\\n\\tpointer-events: none;\\n}\\n.eY5zRl49sESLjXmizMEP {\\n  position: absolute;\\n\\ttop: 50%;\\n\\tright: 10px;\\n\\ttransform: translateY(-50%);\\n\\tcursor: pointer;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/ValuePicker/style.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;CACb,aAAa;CACb,kBAAkB;CAClB;;;EAGC;AACF;AACA;CACC,cAAc;CACd,WAAW;CACX,YAAY;CACZ,iBAAiB;;CAEjB,eAAe;CACf,SAAS;CACT,YAAY;CACZ,YAAY;CACZ,kBAAkB;EACjB,sBAAsB;AACxB;AACA;CACC,kBAAkB;CAClB,sBAAsB;CACtB,2BAA2B;CAC3B,qBAAqB;CACrB,iBAAiB;CACjB,gBAAgB;CAChB,YAAY;EACX,aAAa;CACd,+BAA+B;CAC/B,kBAAkB;AACnB;AACA;CACC,eAAe;CACf,YAAY;CACZ,YAAY;AACb;AACA;CACC,iBAAiB;CACjB,YAAY;AACb;AACA,6BAAgB,UAAU,EAAE;AAC5B;CACC,kBAAkB;CAClB,cAAc;CACd,SAAS;CACT,WAAW;AACZ;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,0CAA0C;EAC1C,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;CACnB,QAAQ;CACR,UAAU;CACV,2BAA2B;CAC3B,oBAAoB;AACrB;AACA;EACE,kBAAkB;CACnB,QAAQ;CACR,WAAW;CACX,2BAA2B;CAC3B,eAAe;AAChB\",\"sourcesContent\":[\".dialog {\\n  width: 300px;\\n\\tpadding: 10px;\\n\\tborder-radius: 4px;\\n\\tbackground: radial-gradient(\\n\\t\\trgba(var(--bg-rgb), 1) 20%,\\n\\t\\trgba(var(--bg-rgb), .6) 100%\\n\\t);\\n}\\n.dialog input {\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\theight: 30px;\\n\\tline-height: 30px;\\n\\n\\tfont-size: 120%;\\n\\tmargin: 0;\\n\\tpadding: 4px;\\n\\tborder: none;\\n\\tborder-radius: 4px;\\n  box-sizing: border-box;\\n}\\nul.results {\\n\\tposition: relative;\\n\\tfont-family: monospace;\\n\\tlist-style-position: inside;\\n\\tlist-style-type: none;\\n\\tmax-height: 300px;\\n\\toverflow: scroll;\\n\\tpadding: 4px;\\n  margin: 4px 0;\\n\\tbackground: rgba(0, 0, 0, 0.75);\\n\\tborder-radius: 4px;\\n}\\n.results li {\\n\\tcursor: pointer;\\n\\tcolor: white;\\n\\tpadding: 5px;\\n}\\n.results li:hover, .results li.highlighted {\\n\\tbackground: white;\\n\\tcolor: black;\\n}\\n.results li b { color: red; }\\n.results li .description {\\n\\tfont-style: italic;\\n\\tfont-size: 90%;\\n\\tmargin: 0;\\n\\tcolor: gray;\\n}\\n\\n.choices-counter {\\n  font-size: 10px;\\n}\\n\\n.choices-counter a {\\n  color: var(--selection);\\n  border-bottom: 1px dotted var(--selection);\\n  cursor: pointer;\\n}\\n\\n.searchWrapper {\\n  position: relative;\\n}\\n.searchWrapper input {\\n  padding: 4px 4px 4px 30px;\\n}\\n\\n.searchIcon {\\n  position: absolute;\\n\\ttop: 50%;\\n\\tleft: 10px;\\n\\ttransform: translateY(-50%);\\n\\tpointer-events: none;\\n}\\n.clearSearchIcon {\\n  position: absolute;\\n\\ttop: 50%;\\n\\tright: 10px;\\n\\ttransform: translateY(-50%);\\n\\tcursor: pointer;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"dialog\": \"sP2kDRoTZElZUTNHq033\",\n\t\"results\": \"inAS9Qunkf3g5K3xz6o6\",\n\t\"highlighted\": \"BL7Cxrn_efblQXY3W1Sw\",\n\t\"description\": \"uld0XaeoQaQJJwp0LT0X\",\n\t\"choices-counter\": \"pqiZQublKXvmnT_ESDxQ\",\n\t\"searchWrapper\": \"ECUs4g2j1rekP4xxgQDr\",\n\t\"searchIcon\": \"xDUAgQZeBp0TZSOqCwHm\",\n\t\"clearSearchIcon\": \"eY5zRl49sESLjXmizMEP\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./style.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./style.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Tip","children","className","classNames","styles","join","Icon","name","node","onSelect","handleClick","useCallback","event","stopPropagation","type","codes","useMemo","map","treeToSequence","codeLabels","renderSource","label","i","Fragment","reduce","labels","length","title","getSourceTitle","missing","source","code","value","_isPlaceholder","compact","onClick","tree","params","sequenceToTree","seq","NullKey","description","text","symbol","toString","faIcon","BindValue","props","propTypes","bindPropTypes","PropTypes","outerStyle","display","cursor","verticalAlign","border","borderRadius","innerStyle","justifyContent","alignItems","width","height","margin","h","s","b","handleSelectParams","isEmpty","some","v","style","backgroundColor","GenericBindNode","get","BindParamlist","slots","BindParam","slot","BindComponent","helper","HueSatValBindNode","KeycodeBindNode","root","wrapperProps","isRequired","Binding","useContext","SearchContext","sources","mergedGlyphs","context","hideBehaviour","paramIndex","onUpdate","useState","editing","setEditing","bindTree","hydrateTree","paramSlice","bind","behaviour","behavioursByContext","behaviourParams","getBehaviourParams","slice","bindTreeParams","index","makeIndex","errors","hasErrors","handleSelectNode","nodeIndex","indexOf","isSimple","isComplex","ValuePicker","prompt","createPromptMessage","searchKey","updated","cloneDeep","targetNode","forEach","pick","handleSelectTree","raw","Number","enum","oldAdditionalParams","additionalParams","splice","p","push","onCancel","defaultProps","enumOption","param","nodeShape","bindNode","traverse","normalized","first","shortSymbol","isLongSymbol","isMultiParam","isNestedParam","promptMapping","layer","mod","keycode","hydrateNode","as","defines","isNaN","find","getSourceValue","validateDevicetreeNodeName","match","validateDevicetreeIdentifier","validateDevicetreeLabel","Key","keyWrapperProps","selectable","themeClass","rest","classes","cycle","array","next","ResultList","results","renderResult","cursorIndex","setCursorIndex","listRef","useRef","moveCursor","initial","offset","element","scroll","top","bottom","selector","current","querySelector","offsetParent","scrollTop","offsetHeight","offsetTop","scrollHeight","scrollIntoView","handleHighlightNext","handleHightightPrev","handleSelectActive","handleKeyDown","action","ArrowDown","ArrowUp","Enter","key","preventDefault","useEffect","document","body","addEventListener","removeEventListener","ref","result","onDoubleClick","onMouseOver","focusInput","focus","select","SearchFilter","choices","renderResults","initialQuery","useSearch","query","setQuery","limit","fuzzysort","obj","search","handleKeyPress","target","onChange","EnumPicker","getSearchTargets","GenericPicker","renderSearchResult","dangerouslySetInnerHTML","__html","ChromePicker","lazy","HSBPicker","l","hsl","setHsl","handleChange","handleConfirm","Math","round","Suspense","color","disableAlpha","onChangeComplete","textAlign","ActionButton","leftModifiers","rightModifiers","ModifiersRow","selected","row","includes","ModifiersPicker","handleSelection","modifier","filter","modifiersMap","LSHFT","LCTRL","LALT","LGUI","RSHFT","RCTRL","RALT","RGUI","resultListStyle","KeycodePicker","initialModifiers","selectedModifiers","setSelectedModifiers","at","selectedKeycode","setSelectedKeycode","hydrated","modifiers","modifierFunctions","handleSelectKeycode","gap","KeyWrapper","secondary","RawValuePicker","initialValue","setValue","onKeyDown","LayerPicker","layers","useSelector","selectLayers","pickerProps","PickerComponent","HueSatValPicker","Modal","onDismiss","searchThreshold","freeForm","___CSS_LOADER_EXPORT___","module","id","locals"],"sourceRoot":""}