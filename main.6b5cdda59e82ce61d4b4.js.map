{"version":3,"file":"main.6b5cdda59e82ce61d4b4.js","mappings":"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","sources":["webpack:///./src/Common/action-button.module.css?ed83","webpack:///./src/Common/ActionButton.js","webpack:///./src/Common/dialog-box.module.css?bee6","webpack:///./src/Common/DialogBox.js","webpack:///./src/Common/Icon.js","webpack:///./src/Common/IconButton.js","webpack:///./src/Common/link.module.css?df4e","webpack:///./src/Common/Link.js","webpack:///./src/Common/Modal.js","webpack:///./src/Common/spinner.module.css?7e51","webpack:///./src/Common/Spinner.js","webpack:///./src/Contexts/Definitions.js","webpack:///./src/Contexts/Layout.js","webpack:///./src/Dialogs/support.js","webpack:///./src/Keyboard/Behaviors/behaviorsSlice.js","webpack:///./src/Keyboard/Combos/combosSlice.js","webpack:///./src/Keyboard/Layers/layer-index-change-action.js","webpack:///./src/Keyboard/Layers/layersSlice.js","webpack:///./src/Keyboard/Macros/macrosSlice.js","webpack:///./src/Keyboard/util.js","webpack:///./src/Sources/Controls.js","webpack:///./src/Sources/Github/BuildLink.js","webpack:///./src/Sources/Github/Dialogs/Commit.js","webpack:///./src/Sources/Github/Actions.js","webpack:///./src/Sources/Github/api.js","webpack:///./src/Sources/Local/api.js","webpack:///./src/config.js","webpack:///./src/index.css?cfe4","webpack:///./src/App.css?d9cd","webpack:///./src/Keyboard/Context.js","webpack:///./src/Keyboard/bindingPropTypes.js","webpack:///./src/Keyboard/Combos/comboPropTypes.js","webpack:///./src/Keyboard/keymapPropTypes.js","webpack:///./src/Keyboard/Warnings/sanity-checks-layout.js","webpack:///./src/Keyboard/Warnings/sanity-checks.js","webpack:///./src/Keyboard/Keyboard.js","webpack:///./src/styles.module.css?f79c","webpack:///./src/GitHubLink.js","webpack:///./src/Dialogs/Settings.js","webpack:///./src/Sources/sources.js","webpack:///./src/Dialogs/KeymapBindingsUsePreprocessorMacros.js","webpack:///./src/Dialogs/KeymapParsingFailed.js","webpack:///./src/Dialogs/KeymapUsingMiryoku.js","webpack:///./src/Dialogs/MissingRootNode.js","webpack:///./src/Dialogs/ZmkNodefreeConfig.js","webpack:///./src/Dialogs/SuggestAutoLayoutTweak.js","webpack:///./src/Sources/styles.module.css?2b76","webpack:///./src/Sources/SourcePicker.js","webpack:///./src/Sources/errors.js","webpack:///./src/Dialogs/unexpected-error.module.css?94c7","webpack:///./src/Dialogs/UnexpectedError.js","webpack:///./src/ErrorBoundary.js","webpack:///./src/Dialogs/KeymapSaveFailed.js","webpack:///./src/App.js","webpack:///./src/appReducer.js","webpack:///./src/store.js","webpack:///./src/index.js","webpack:///./src/key-units.js","webpack:///./src/keycodes.js","webpack:///./src/keymap.js","webpack:///./src/providers.js","webpack:///./src/App.css","webpack:///./src/index.css","webpack:///./src/Common/action-button.module.css","webpack:///./src/Common/dialog-box.module.css","webpack:///./src/Common/link.module.css","webpack:///./src/Common/spinner.module.css","webpack:///./src/Dialogs/unexpected-error.module.css","webpack:///./src/Keyboard/styles.module.css","webpack:///./src/Sources/Github/styles.module.css","webpack:///./src/Sources/styles.module.css","webpack:///./src/styles.module.css","webpack:///./src/Keyboard/styles.module.css?75da","webpack:///./src/Sources/Github/styles.module.css?529c"],"sourcesContent":["\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./action-button.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./action-button.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import styles from './action-button.module.css'\n\nfunction ActionButton ({ children, secondary, className, ...props }) {\n  return (\n    <button\n      className={[\n        className,\n        styles.action,\n        secondary && styles.secondary\n      ].join(' ')}\n      {...props}\n    >\n      {children}\n    </button>\n  )\n}\n\nActionButton.defaultProps = {\n  className: ''\n}\n\nexport default ActionButton\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./dialog-box.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./dialog-box.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import styles from './dialog-box.module.css'\n\nexport default function DialogBox (props) {\n  const { dismissText = 'Ok', classes = [], onDismiss, children, ...rest } = props\n\n  return (\n    <div className={[styles.dialog, ...classes].join(' ')} {...rest}>\n      {children}\n      {dismissText && (\n        <button className={styles.button} onClick={onDismiss}>\n          {dismissText}\n        </button>\n      )}\n    </div>\n  )\n}\n","import PropTypes from 'prop-types'\n\nconst faCollections = {\n  brands: 'fab',\n  default: 'fa',\n  solid: 'fas',\n  round: 'far'\n}\n\nfunction Icon (props) {\n  const { name, className, collection, ...iconProps } = props\n  const groupClass = faCollections[collection]\n  const iconClass = `fa-${name}`\n\n  return (\n    <span\n      className={[className, groupClass, iconClass].join(' ')}\n      {...iconProps}\n    />\n  )\n}\n\nIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  collection: PropTypes.string\n}\n\nIcon.defaultProps = {\n  collection: 'default',\n  className: ''\n}\n\nexport default Icon\n","import Icon from './Icon'\n\nexport default function IconButton ({ collection, icon, text, children, onClick, ...rest }) {\n  return (\n    <button onClick={onClick} {...rest}>\n      <Icon collection={collection} name={icon} /> {text || children}\n    </button>\n  )\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./link.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./link.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import PropTypes from 'prop-types'\n\nimport Icon from './Icon'\nimport styles from './link.module.css'\n\nfunction Link (props) {\n  const { href, children, external, showExternal, ...rest } = props\n  const properties = Object.assign({ href }, rest, external && {\n    rel: 'noreferrer',\n    target: '_blank'\n  })\n\n  return (\n    <a {...properties}>\n      {children}\n      {external && showExternal && (\n        <Icon\n          className={styles.icon}\n          name=\"arrow-up-right-from-square\"\n        />\n      )}\n    </a>\n  )\n}\n\nLink.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node\n  ]).isRequired,\n  external: PropTypes.bool.isRequired,\n  showExternal: PropTypes.bool\n}\n\nLink.defaultProps = {\n  external: false,\n  showExternal: true\n}\n\nexport default Link\n","import ReactDOM from 'react-dom'\nimport { useCallback, useRef, useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst styles = {\n  wrapper: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    width: '100vw',\n    height: '100vh',\n    backgroundColor: 'rgba(104, 123, 162, 0.39)',\n    backdropFilter: 'blur(1px)',\n    zIndex: '50',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  centerOnly: {\n    background: 'transparent',\n    pointerEvents: 'none'\n  },\n  content: {\n    display: 'block',\n    pointerEvents: 'all'\n  }\n}\n\nexport default function Modal ({ onDismiss, centerOnly = false, children }) {\n  const content = useRef()\n  const handleClick = useCallback(function (e) {\n    if (onDismiss && content.current && e.target.contains(content.current)) {\n      e.stopPropagation()\n      onDismiss()\n    }\n  }, [content, onDismiss])\n\n  const style = centerOnly\n    ? { ...styles.wrapper, ...styles.centerOnly }\n    : styles.wrapper\n\n  return ReactDOM.createPortal(\n    <div onClick={handleClick} style={style}>\n      <div ref={content} style={styles.content}>\n        {children}\n      </div>\n    </div>,\n    document.getElementById('modal-root')\n  )\n}\n\nModal.propTypes = {\n  onDismiss: PropTypes.func\n}\n\nexport function useModalState () {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const open = useCallback(event => {\n    event?.stopPropagation && event.stopPropagation()\n    setIsOpen(true)\n  }, [setIsOpen])\n\n  const close = useCallback(event => {\n    event?.stopPropagation && event.stopPropagation()\n    setIsOpen(false)\n  }, [setIsOpen])\n\n  return [isOpen, open, close]\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./spinner.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./spinner.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import styles from './spinner.module.css'\n\nexport default function Spinner ({ children, ...rest }) {\n  return (\n    <div {...rest} className={styles.spinner}>\n      <i className={`${styles.icon} fa fa-spinner`} />\n      {children}\n    </div>\n  )\n}\n","import cloneDeep from 'lodash/cloneDeep'\nimport filter from 'lodash/filter'\nimport keyBy from 'lodash/keyBy'\nimport { createContext, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { normalizeZmkKeycodes } from '../keycodes'\n\nexport const DefinitionsContext = createContext({\n  keycodes: [],\n  behaviours: [],\n  behaviors: {},\n  behaviorBinds: [],\n  glyphs: []\n})\n\n// TODO: I bet this doesn't need to be in the app state at all\nconst selectDefinitions = state => state.definitions\n\nexport function DefinitionsContextProvider ({ children }) {\n  const definitions = useSelector(selectDefinitions)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    (async function () {\n      if (definitions !== null) {\n        return\n      }\n\n      const [[keycodes, glyphs], behaviors] = await Promise.all([\n        loadKeycodes(),\n        loadBehaviourBindings()\n      ])\n\n      // TODO: update references to better understand the difference between\n      // \"behaviors\" (e.g. hold tap) and the \"behavior bindings\" that implement\n      // them (e.g. &lt and &mt)\n      const schemas = cloneDeep(behaviors.behaviors)\n      const behaviours = cloneDeep(behaviors.bindings)\n\n      keycodes.indexed = keyBy(keycodes, 'code')\n      behaviours.indexed = keyBy(behaviours, 'code')\n      behaviours.context = {\n        none: behaviours.filter(({ context }) => !context),\n        macros: filter(behaviours, { context: 'macros' })\n      }\n      behaviours.byContext = {\n        none: keyBy(behaviours.context.none, 'code'),\n        macros: keyBy(behaviours.context.macros, 'code')\n      }\n\n      dispatch({\n        type: 'DEFINITIONS_SET',\n        definitions: {\n          keycodes,\n          behaviours,\n          behaviors: schemas,\n          behaviorBinds: behaviours,\n          glyphs\n        }\n      })\n    })()\n  }, [definitions, dispatch])\n\n  // TODO: show a spinner MAYBE\n  if (!definitions) {\n    return\n  }\n\n  return (\n    <DefinitionsContext.Provider value={definitions}>\n      {children}\n    </DefinitionsContext.Provider>\n  )\n}\n\nasync function loadBehaviourBindings () {\n  const { behaviorSchemas, behaviorBindings } = await import('zmk-data/behaviors')\n  return {\n    behaviors: behaviorSchemas,\n    bindings: behaviorBindings\n  }\n}\n\nasync function loadKeycodes () {\n  const { keycodes, keycodeGlyphs } = await import('zmk-data/keycodes')\n  return [\n    normalizeZmkKeycodes(keycodes),\n    keycodeGlyphs\n  ]\n}\n","import { createContext, useMemo } from 'react'\nimport { getWrapperDimensions, getWrapperStyle } from '../Keyboard/util'\n\nexport const LayoutContext = createContext({\n  layout: [],\n  bindingCount: 0,\n  wrapperDimensions: {},\n  wrapperStyle: {}\n})\n\nexport function LayoutContextProvider ({ layout, children }) {\n  const bindingCount = useMemo(() => layout.length, [layout.length])\n  const wrapperDimensions = useMemo(() => getWrapperDimensions(layout), [layout])\n  const wrapperStyle = useMemo(() => getWrapperStyle(wrapperDimensions), [wrapperDimensions])\n\n  const context = {\n    layout,\n    bindingCount,\n    wrapperDimensions,\n    wrapperStyle\n  }\n\n  return (\n    <LayoutContext.Provider value={context}>\n      {children}\n    </LayoutContext.Provider>\n  )\n}\n","import Link from '../Common/Link'\n\nexport const githubIssuesUrl = 'https://github.com/nickcoutsos/keymap-editor/issues'\nexport const githubWikiLayoutsUrl = 'https://github.com/nickcoutsos/keymap-editor/wiki/Defining-keyboard-layouts'\nexport const keymapLayoutToolsUrl = 'https://nickcoutsos.github.io/keymap-layout-tools/'\nexport const discordProfileUrl = 'https://discord.com/users/115507966555193345'\n\nexport const GitHubIssuesLink = (\n  <Link external href={githubIssuesUrl}>\n    Keymap Editor Issues\n  </Link>\n)\n\nexport const GitHubWikiLayoutsLink = (\n  <Link external href={githubWikiLayoutsUrl}>\n    Keymap Editor Wiki: Defining keyboard layouts\n  </Link>\n)\n\nexport const layoutToolsLink = (\n  <Link external href={keymapLayoutToolsUrl}>\n    Keymap Layout Tools - Helper\n  </Link>\n)\n\nexport const DiscordProfileLink = (\n  <Link external href={discordProfileUrl}>\n    Discord - nickcoutsos#4351\n  </Link>\n)\n\nexport const GeneralHelpOfferCopy = (\n  <>\n    <p>\n      If you are looking for help in getting up and running or want a better\n      understanding of the issue, please feel free to reach out to me:\n    </p>\n    <ul>\n      <li>{GitHubIssuesLink}</li>\n      <li>{DiscordProfileLink}</li>\n    </ul>\n  </>\n)\n\nexport const KeymapLayoutResources = (\n  <p>\n    For more information about how Keymap Editor layouts are defined, you can\n    read {GitHubWikiLayoutsLink}, and if you need an environment to quickly test\n    changes to a layout try {layoutToolsLink}.\n  </p>\n)\n","import omit from 'lodash/omit'\nimport { createSlice } from '@reduxjs/toolkit'\nimport { resolveBehaviorParams } from 'zmk-data/parameters'\nimport { layerIndexChanged, makeLayerIndexChangeReducer } from '../Layers/layer-index-change-action'\n\nexport const selectBehaviors = state => state.keyboard.keymap.behaviors\n\nconst selectNodeCompatible = node => (\n  node.properties.compatible?.parsed ||\n  node.properties.compatible?.raw?.replace(/\"/g, '')\n)\n\nconst selectNodePhandleArrays = (node, behaviors, schemas) => {\n  const compatible = selectNodeCompatible(node)\n  const schema = schemas[compatible]\n\n  if (!schema) {\n    return []\n  }\n\n  return Object.keys(schema.properties).reduce((phandleArrays, prop) => {\n    const propSchema = schema.properties[prop]\n    const propValues = node.properties[prop]\n    if (propSchema.type === 'phandle-array' && propValues) {\n      phandleArrays.push(propValues.parsed)\n    }\n\n    return phandleArrays\n  }, [])\n}\n\nconst behaviorsSlice = createSlice({\n  name: 'behaviors',\n  initialState: [],\n  reducers: {\n    addBehavior (state, action) {\n      state.push(action.payload.behavior)\n    },\n    updateBehavior (state, action) {\n      state[action.payload.behaviorIndex] = omit(action.payload.behavior, 'params')\n      resolveBehaviorParams(state)\n    },\n    deleteBehavior (state, action) {\n      state.splice(action.payload.behaviorIndex, 1)\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(\n      layerIndexChanged,\n      makeLayerIndexChangeReducer(\n        selectNodePhandleArrays\n      )\n    )\n  }\n})\n\nexport const {\n  addBehavior,\n  updateBehavior,\n  deleteBehavior\n} = behaviorsSlice.actions\n\nexport default behaviorsSlice.reducer\n","import { createSlice } from '@reduxjs/toolkit'\nimport { layerIndexChanged, makeLayerIndexChangeReducer } from '../Layers/layer-index-change-action'\n\nexport const selectCombos = state => state.keyboard.keymap.combos\n\nconst combosSlice = createSlice({\n  name: 'combos',\n  initialState: [],\n  reducers: {\n    updateComboBinding (state, action) {\n      state[action.payload.comboIndex].properties.bindings = { parsed: action.payload.bindings }\n    },\n    updateComboKeypositions (state, action) {\n      state[action.payload.comboIndex].properties['key-positions'] = {\n        parsed: action.payload.keyPositions\n      }\n    },\n    createCombo (state) {\n      state.push({\n        name: 'new_combo',\n        labels: [],\n        properties: {\n          bindings: {\n            parsed: [{ value: '&trans', params: [] }]\n          },\n          'key-positions': {\n            parsed: []\n          }\n        }\n      })\n    },\n    renameCombo (state, action) {\n      state[action.payload.index].name = action.payload.name\n    },\n    deleteCombo (state, action) {\n      state.splice(action.payload.index, 1)\n    },\n    customizeCombo (state, action) {\n      const { index, combo } = action.payload\n      state[index] = combo\n    }\n  },\n  extraReducers: builder => {\n    const comboBindingsReducer = makeLayerIndexChangeReducer()\n\n    builder.addCase(\n      layerIndexChanged,\n      function reducer (state, action) {\n        const { positionMapping } = action.payload\n        comboBindingsReducer(state, action)\n        for (const { properties } of state) {\n          if (!properties.layers?.parsed?.length) {\n            continue\n          }\n\n          properties.layers.parsed = properties.layers.parsed.reduce((layers, index) => {\n            const newIndex = positionMapping[index]\n            if (newIndex !== null) {\n              layers.push(newIndex)\n            }\n\n            return layers\n          }, [])\n        }\n      }\n    )\n  }\n})\n\nexport const {\n  updateComboBinding,\n  updateComboKeypositions,\n  createCombo,\n  renameCombo,\n  deleteCombo,\n  customizeCombo\n} = combosSlice.actions\n\nexport default combosSlice.reducer\n","import get from 'lodash/get'\nimport { createAction } from '@reduxjs/toolkit'\n\nimport { getBehaviourParams } from '../../keymap'\n\nexport function selectLayerParamsFromBinding (binding, behaviors) {\n  const { value, params } = binding\n  const behavior = get(behaviors, value, {})\n  const behaviorParams = getBehaviourParams(params, behavior)\n\n  return behaviorParams.reduce((layerParams, param, i) => {\n    if (param === 'layer') {\n      layerParams.push(params[i])\n    }\n\n    return layerParams\n  }, [])\n}\n\nexport const layerIndexChanged = createAction(\n  'layers/indexChanged',\n  function prepare (currentIndex, targetIndex, layers, sources, behaviorSchemas) {\n    const positionMapping = createLayerIndexMapping(currentIndex, targetIndex, layers)\n\n    return {\n      payload: {\n        currentIndex,\n        targetIndex,\n        sources,\n        behaviorSchemas,\n        positionMapping\n      }\n    }\n  }\n)\n\nconst defaultSelectPhandleArrays = node => [node.properties.bindings.parsed]\n\n/**\n * Create a reducer to update layer index binding cells after a layer shift.\n * @param {Function} selectPhandleArrays - callback to return parsed phandle-array values from any relevant property in a node\n * @returns {Function} reducer\n */\nexport function makeLayerIndexChangeReducer (selectPhandleArrays = defaultSelectPhandleArrays) {\n  return function reducer (state, action) {\n    const { sources, behaviorSchemas, positionMapping } = action.payload\n    const { behaviours: behaviors, defines } = sources\n    const layerParamsIterator = makeLayerParamsIterator(\n      state, behaviors, behaviorSchemas, selectPhandleArrays\n    )\n\n    for (const param of layerParamsIterator) {\n      let selectedIndex = get(defines, param.value, param.value)\n      if (!Number.isNaN(Number(selectedIndex))) {\n        selectedIndex = Number(selectedIndex)\n      }\n\n      param.value = positionMapping[selectedIndex]?.toString()\n      if (param.value === undefined) {\n        param.value = '0'\n        param._isPlaceholder = true\n      }\n    }\n  }\n}\n\nfunction createLayerIndexMapping (currentIndex, targetIndex, layers) {\n  const layerIndices = [...layers.keys()]\n\n  // Deleted layer means references to currentIndex are nulled,\n  // and referencs > currentIndex are decremented\n  if (targetIndex === null) {\n    return layerIndices.map(i => {\n      if (i === currentIndex) {\n        return null\n      }\n\n      return i > currentIndex ? i - 1 : i\n    })\n  }\n\n  return layerIndices.map(i => {\n    const sameIndex = i === currentIndex\n    const bothBefore = i > currentIndex && i > targetIndex\n    const bothAfter = i < currentIndex && i < targetIndex\n    const betweenOldAndNew = currentIndex < i && i < targetIndex\n\n    if (sameIndex) {\n      // Normally the \"target\" is another layer whose position is being taken,\n      // but in the case of targetting the end of the list this isn't a valid\n      // array index.\n      if (targetIndex === layers.length) {\n        return targetIndex - 1\n      }\n\n      return targetIndex\n    } else if (bothBefore || bothAfter) {\n      return i\n    } else if (betweenOldAndNew) {\n      return i - 1\n    }\n\n    return i + 1\n  })\n}\n\n/**\n * Create iterator for all layer-related binding cells in a state slice.\n * This reducer is used with state slices that represent a collection of nodes\n * each of which have one or more properties representing phandle arrays which\n * may have parameters binding to layer indices. This iterator abstracts that\n * so we can just loop through layer parameters.\n * @param {Array<Object>} state\n * @param {*} behaviors\n * @param {*} behaviorSchemas\n * @param {Function} selectPhandleArrays\n */\nfunction * makeLayerParamsIterator (state, behaviors, behaviorSchemas, selectPhandleArrays) {\n  for (const node of state) {\n    for (const bindings of selectPhandleArrays(node, behaviors, behaviorSchemas)) {\n      for (const binding of bindings) {\n        for (const param of selectLayerParamsFromBinding(binding, behaviors)) {\n          yield param\n        }\n      }\n    }\n  }\n}\n","import times from 'lodash/times'\nimport { createSlice } from '@reduxjs/toolkit'\nimport { layerIndexChanged, makeLayerIndexChangeReducer } from './layer-index-change-action'\n\nconst DEFAULT_BIND_BEHAVIOUR = '&trans'\nconst createEmptyBinding = (value = DEFAULT_BIND_BEHAVIOUR) => ({\n  value, params: []\n})\n\nexport const selectLayers = state => state.keyboard.keymap.layers\n\nconst layersSlice = createSlice({\n  name: 'layers',\n  initialState: [],\n  reducers: {\n    createLayer (state, action) {\n      state.push({\n        name: `layer_${state.length}`,\n        labels: [],\n        properties: {\n          bindings: {\n            parsed: times(action.payload.bindingCount, () => createEmptyBinding())\n          }\n        }\n      })\n    },\n    updateLayerMetadata (state, action) {\n      const { layerIndex, name, label } = action.payload\n      if (name) {\n        state[layerIndex].name = name\n      }\n      if (label !== undefined) {\n        state[layerIndex].properties.label = {\n          parsed: label\n        }\n      }\n    },\n    renameLayer (state, action) {\n      state[action.payload.index].name = action.payload.name\n    },\n    repositionLayer (state, action) {\n      const { currentIndex, targetIndex } = action.payload\n      if (currentIndex === targetIndex) {\n        return\n      }\n\n      const layer = state[currentIndex]\n\n      // moving a layer up means shifting other layers down\n      const replacementIndex = targetIndex > currentIndex\n        ? targetIndex - 1\n        : targetIndex\n\n      state.splice(currentIndex, 1)\n      state.splice(replacementIndex, 0, layer)\n    },\n    deleteLayer (state, action) {\n      state.splice(action.payload.index, 1)\n    },\n    updateKeyBinding (state, action) {\n      state[action.payload.layerIndex].properties.bindings.parsed[action.payload.bindIndex] = action.payload.binding\n    },\n    updateSensorBindings (state, action) {\n      state[action.payload.layerIndex].properties['sensor-bindings'].parsed[action.payload.sensorIndex] = action.payload.bindings\n    },\n    rebindTransparentToKeyPress (state, action) {\n      for (const binding of state[action.payload.layerIndex].properties.bindings.parsed) {\n        if (binding.value === '&trans') {\n          binding.value = '&kp'\n          binding.params = []\n        }\n      }\n    },\n    rebindTransparentToNone (state, action) {\n      for (const binding of state[action.payload.layerIndex].properties.bindings.parsed) {\n        if (binding.value === '&trans') {\n          binding.value = '&none'\n          binding.params = []\n        }\n      }\n    },\n    rebindNoneToKeypress (state, action) {\n      for (const binding of state[action.payload.layerIndex].properties.bindings.parsed) {\n        if (binding.value === '&none') {\n          binding.value = '&kp'\n          binding.params = []\n        }\n      }\n    },\n    rebindNoneToTransparent (state, action) {\n      for (const binding of state[action.payload.layerIndex].properties.bindings.parsed) {\n        if (binding.value === '&none') {\n          binding.value = '&trans'\n          binding.params = []\n        }\n      }\n    },\n    rebindEmptyKeypressToTransparent (state, action) {\n      for (const binding of state[action.payload.layerIndex].properties.bindings.parsed) {\n        if (binding.value === '&kp' && !binding.params[0]?.value) {\n          binding.value = '&trans'\n          binding.params = []\n        }\n      }\n    },\n    rebindEmptyKeypressToNone (state, action) {\n      for (const binding of state[action.payload.layerIndex].properties.bindings.parsed) {\n        if (binding.value === '&kp' && !binding.params[0]?.value) {\n          binding.value = '&none'\n          binding.params = []\n        }\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(\n      layerIndexChanged,\n      makeLayerIndexChangeReducer()\n    )\n  }\n})\n\nexport const {\n  createLayer,\n  renameLayer,\n  repositionLayer,\n  deleteLayer,\n  updateLayerMetadata,\n  updateKeyBinding,\n  updateSensorBindings,\n  rebindTransparentToKeyPress,\n  rebindTransparentToNone,\n  rebindNoneToKeypress,\n  rebindNoneToTransparent,\n  rebindEmptyKeypressToTransparent,\n  rebindEmptyKeypressToNone\n} = layersSlice.actions\n\nexport default layersSlice.reducer\n","import { createSlice } from '@reduxjs/toolkit'\nimport { layerIndexChanged, makeLayerIndexChangeReducer } from '../Layers/layer-index-change-action'\n\nexport const selectMacros = state => state.keyboard.keymap.macros\n\nconst macrosSlice = createSlice({\n  name: 'macros',\n  initialState: [],\n  reducers: {\n    addMacro (state, action) {\n      state.push(action.payload)\n    },\n    deleteMacro (state, action) {\n      state.splice(action.payload.index, 1)\n    },\n    updateMacroBindings (state, action) {\n      const { index, bindings } = action.payload\n      state[index].properties.bindings.parsed = bindings\n    },\n    customizeMacroOptions (state, action) {\n      Object.assign(state[action.payload.macroIndex], action.payload.options)\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(\n      layerIndexChanged,\n      makeLayerIndexChangeReducer()\n    )\n  }\n})\n\nexport const {\n  addMacro,\n  deleteMacro,\n  updateMacroBindings,\n  customizeMacroOptions\n} = macrosSlice.actions\n\nexport default macrosSlice.reducer\n","import { transformKeyPolygon, getKeyBoundingBox } from '../key-units'\n\nexport function getLayoutPolygons (layout, { scale = 1 }) {\n  return layout.map(key => transformKeyPolygon(\n    { x: key.x, y: key.y },\n    { u: key.u || key.w || 1, h: key.h || 1 },\n    { x: key.rx, y: key.ry, a: key.r }\n  ))\n}\n\nexport function getWrapperDimensions (layout) {\n  return layout.map(key => getKeyBoundingBox(\n    { x: key.x, y: key.y },\n    { u: key.u || key.w || 1, h: key.h || 1 },\n    { x: key.rx, y: key.ry, a: key.r }\n  )).reduce(({ x, y }, { max }) => ({\n    x: Math.max(x, max.x),\n    y: Math.max(y, max.y)\n  }), { x: 0, y: 0 })\n}\n\nexport function getWrapperStyle (layoutOrBBox, { scale = 1, overrides = {} } = {}) {\n  const bbox = Array.isArray(layoutOrBBox)\n    ? getWrapperDimensions(layoutOrBBox)\n    : layoutOrBBox\n\n  return {\n    width: `${bbox.x * scale}px`,\n    height: `${bbox.y * scale}px`,\n    margin: '0 auto',\n    padding: '0 40px 40px',\n    ...overrides\n  }\n}\n","import ReactSelect from 'react-select'\nimport { useSelector } from 'react-redux'\n\nexport function Control ({ style = {}, children }) {\n  // based on react-select's control height, which should come from a theme instead\n  const baseStyle = {\n    height: '38px',\n    lineHeight: '38px'\n  }\n\n  return (\n    <div style={{ ...baseStyle, ...style }}>\n      {children}\n    </div>\n  )\n}\n\nexport function Button ({ children, style = {}, ...rest }) {\n  return (\n    <Control style={style}>\n      <button style={{ height: '100%' }} {...rest}>\n        {children}\n      </button>\n    </Control>\n  )\n}\n\nconst darkModePreference = window.matchMedia('(prefers-color-scheme: dark)')\nconst invertedNeutralColors = [0, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90].reduce((colors, i) => {\n  colors[`neutral${i}`] = `hsl(0, 0%, ${i}%)`\n  return colors\n}, {})\n\nexport function Select ({ label, ...rest }) {\n  const { theme } = useSelector(state => state)\n  const isDark = theme === 'dark' || (theme === 'system' && darkModePreference.matches)\n\n  return (\n    <div style={{\n      display: 'inline-block',\n      width: 'auto'\n    }}>\n      <label style={{\n        display: 'block',\n        width: '100%',\n        fontSize: '120%',\n        color: 'var(--fg)'\n      }}>\n        {label}\n      </label>\n      <ReactSelect\n        styles={{\n          container: (baseStyles, state) => ({\n            ...baseStyles,\n            display: 'inline-block'\n          }),\n          menu: (baseStyles) => ({\n            ...baseStyles,\n            width: 'max-content',\n            zIndex: 10\n          })\n        }}\n        theme={theme => ({\n          ...theme,\n          colors: {\n            ...theme.colors,\n            ...(isDark ? invertedNeutralColors : {})\n          }\n        })}\n        isSearchable={false}\n        {...rest}\n      />\n    </div>\n  )\n}\n","import dayjs from 'dayjs'\nimport dayjsRelative from 'dayjs/plugin/relativeTime'\nimport PropTypes from 'prop-types'\nimport { useEffect, useState } from 'react'\n\nimport Icon from '../../Common/Icon'\nimport Link from '../../Common/Link'\nimport Spinner from '../../Common/Spinner'\nimport styles from './styles.module.css'\n\ndayjs.extend(dayjsRelative)\n\nconst goodConclusions = [\n  'success'\n]\n\nconst badConclusions = [\n  'action_required',\n  'cancelled',\n  'failure',\n  'skipped',\n  'stale',\n  'timed_out'\n]\n\nfunction FuzzyTimestamp (props) {\n  const { timestamp } = props\n  const [fuzzy, setFuzzy] = useState(\n    dayjs(timestamp).fromNow()\n  )\n\n  useEffect(() => {\n    setFuzzy(dayjs(timestamp).fromNow())\n    const interval = setInterval(() => {\n      setFuzzy(dayjs(timestamp).fromNow())\n    }, 60 * 1000)\n\n    return () => clearInterval(interval)\n  }, [timestamp, setFuzzy])\n\n  return (\n    <span title={timestamp}>\n      {fuzzy}\n    </span>\n  )\n}\n\nfunction BuildLink (props) {\n  const { latestRun } = props\n  const mappedIcon = goodConclusions.includes(latestRun.conclusion)\n    ? <Icon name=\"check\" />\n    : badConclusions.includes(latestRun.conclusion)\n      ? <Icon name=\"xmark\" />\n      : <Spinner />\n\n  return (\n    <Link\n      href={latestRun.html_url}\n      className={styles.buildDetails}\n      external={true}\n      showExternal={false}\n    >\n      <span className={styles.buildSummary}>\n        Firmware build (<code>{latestRun.head_sha.slice(0, 5)}</code>) {mappedIcon}\n        <br />\n        <FuzzyTimestamp timestamp={latestRun.updated_at} />\n      </span>\n      <Icon\n        name=\"file-arrow-down\"\n        className={[\n          styles.buildStatus,\n          styles.buildSuccess\n        ].join(' ')}\n      />\n    </Link>\n  )\n}\n\nBuildLink.propTypes = {\n  latestRun: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    head_sha: PropTypes.string.isRequired,\n    status: PropTypes.oneOf([\n      'completed',\n      'action_required',\n      'cancelled',\n      'failure',\n      'neutral',\n      'skipped',\n      'stale',\n      'success',\n      'timed_out',\n      'in_progress',\n      'queued',\n      'requested',\n      'waiting'\n    ]).isRequired,\n    conclusion: PropTypes.oneOf([\n      null,\n      'action_required',\n      'cancelled',\n      'failure',\n      'neutral',\n      'success',\n      'skipped',\n      'stale',\n      'timed_out'\n    ]),\n    created_at: PropTypes.string.isRequired,\n    updated_at: PropTypes.string.isRequired\n  })\n}\n\nexport default BuildLink\n","import { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nimport ActionButton from '../../../Common/ActionButton'\nimport DialogBox from '../../../Common/DialogBox'\nimport Modal from '../../../Common/Modal'\n\nfunction Commit ({ onConfirm, onCancel }) {\n  const [message, setMessage] = useState('')\n\n  return (\n    <Modal>\n      <DialogBox dismissText={null}>\n        <h2>Commit keymap changes</h2>\n        <textarea\n          style={{ width: '100%' }}\n          placeholder='Message (optional)'\n          value={message}\n          onChange={event => {\n            setMessage(event.target.value)\n          }}\n        />\n        <p style={{ textAlign: 'center', gap: '10px' }}>\n          <ActionButton onClick={() => onConfirm(message)}>Commit</ActionButton>\n          <ActionButton onClick={onCancel} secondary>Cancel</ActionButton>\n        </p>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nCommit.propTypes = {\n  onConfirm: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n}\n\nexport default Commit\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport BuildLink from './BuildLink'\nimport styles from './styles.module.css'\nimport ActionButton from '../../Common/ActionButton'\nimport Commit from './Dialogs/Commit'\nimport Icon from '../../Common/Icon'\nimport Spinner from '../../Common/Spinner'\nimport github from './api'\n\nconst stateSelector = state => state\n\nexport function Actions () {\n  const dispatch = useDispatch()\n  const state = useSelector(stateSelector)\n  const {\n    source,\n    sourceOther,\n    keyboard,\n    _unmodifiedKeymap,\n    saving,\n    experimentalSettings,\n    latestBuild\n  } = state\n\n  const hasChanged = keyboard && !Object.is(keyboard.keymap, _unmodifiedKeymap)\n\n  function openCommitDialog () {\n    dispatch({ type: 'COMMIT_DIALOG_OPEN' })\n  }\n\n  const handleCommitChanges = useCallback(function (message) {\n    const { repository, branch } = sourceOther.github\n\n    ;(async function () {\n      dispatch({ type: 'COMMIT_DIALOG_CLOSE' })\n      dispatch({ type: 'KEYMAP_SAVE_START' })\n\n      const { layout, keymap } = keyboard\n\n      try {\n        const { data: updated } = await github.commitChanges(repository, branch, layout, keymap, {\n          message, experimentalSettings, keyboard: sourceOther.github.keyboard\n        })\n        dispatch({ type: 'KEYMAP_SAVE_SUCCESS', keymap: updated })\n      } catch {\n        dispatch({ type: 'KEYMAP_SAVE_FAILURE' })\n      }\n    })()\n  }, [sourceOther, keyboard, dispatch, experimentalSettings])\n\n  return (\n    <div className={styles.pickerActions}>\n      {source === 'github' && !sourceOther.github.isProtected && (\n        <ActionButton\n          title=\"Commit keymap changes to GitHub repository\"\n          disabled={!hasChanged}\n          onClick={openCommitDialog}\n        >\n          {saving ? <>Saving <Spinner /></> : 'Save changes'}\n        </ActionButton>\n      )}\n      {source === 'github' && sourceOther.github.isProtected && (\n        <ActionButton title=\"Cannot commit changes to this branch\" disabled>\n          <Icon name=\"shield\" /> Read-only\n        </ActionButton>\n      )}\n      {state.commitDialogOpen && (\n        <Commit\n          onConfirm={handleCommitChanges}\n          onCancel={() => dispatch({ type: 'COMMIT_DIALOG_CLOSE' })}\n        />\n      )}\n\n      {latestBuild && <BuildLink latestRun={latestBuild} />}\n    </div>\n  )\n}\n","import axios from 'axios'\nimport EventEmitter from 'eventemitter3'\n\nimport * as config from '../../config'\n\nconst websocketUrl = `${config.apiBaseUrl.replace('http', 'ws')}/github/events`\n\nexport class API extends EventEmitter {\n  token = null\n  initializing = false\n  installations = null\n  repositories = null\n  repoInstallationMap = null\n  features = null\n  socket = null\n\n  async _request (options) {\n    if (typeof options === 'string') {\n      options = {\n        url: options\n      }\n    }\n\n    if (options.url.startsWith('/')) {\n      options.url = `${config.apiBaseUrl}${options.url}`\n    }\n\n    options.headers = Object.assign({}, options.headers)\n    if (this.token && !options.headers.Authorization) {\n      options.headers.Authorization = `Bearer ${this.token}`\n    }\n\n    try {\n      return await axios(options)\n    } catch (err) {\n      if (err.response?.status === 401) {\n        console.error('Authentication failed.')\n        this.emit('authentication-failed', err.response)\n      }\n\n      throw err\n    }\n  }\n\n  init () {\n    if (this.initializing) {\n      return this.initializing\n    }\n\n    this.initializing = (async () => {\n      this.initEvents()\n\n      const installationUrl = `${config.apiBaseUrl}/github/installation`\n      const params = new URLSearchParams(window.location.search)\n\n      // I don't really understand the callback parameters but as long as\n      // *something* installation related has changed then its worth refreshing\n      // the authentication.\n      if (params.get('setup_action') && params.get('installation_id')) {\n        this.beginLoginFlow()\n      }\n\n      if (params.get('blocked')) {\n        setTimeout(() => this.emit('blocked'))\n        return\n      }\n\n      const param = params.get('token')\n      if (!window.localStorage.auth_token && param) {\n        window.history.replaceState({}, null, window.location.pathname)\n        window.localStorage.auth_token = param\n      }\n\n      if (window.localStorage.auth_token) {\n        this.token = window.localStorage.auth_token\n        const { data } = await this._request(installationUrl)\n        const suspended = data.installations.filter(installation => installation.suspended_at)\n\n        if (data.installations.length === suspended.length) {\n          console.warn('No GitHub app installation found for authenticated user.')\n          this.emit('app-not-installed')\n        }\n\n        this.username = data.username\n        this.installations = data.installations\n        this.repositories = data.repositories\n        this.repoInstallationMap = data.repoInstallationMap\n        this.emit('authenticated')\n      }\n    })()\n\n    return this.initializing\n  }\n\n  initEvents () {\n    const bufferedMessages = []\n    const isOpen = () => {\n      return this.socket.readyState === window.WebSocket.OPEN\n    }\n\n    const send = (message) => {\n      if (isOpen()) {\n        this.socket.send(message)\n        return\n      }\n\n      bufferedMessages.push(message)\n      console.log(\n        'buffering websocket message',\n        { readyState: this.socket.readyState },\n        message\n      )\n    }\n\n    const flush = () => {\n      let message\n      while ((message = bufferedMessages.shift())) {\n        console.log('sending buffered websocket message', message)\n        this.socket.send(message)\n      }\n    }\n\n    this.socket = new window.WebSocket(websocketUrl)\n    this.socket.onopen = () => {\n      console.log(new Date(), 'connected to console')\n      flush()\n      setInterval(() => {\n        send(JSON.stringify({ message: 'ping' }))\n      }, 20000)\n    }\n\n    this.socket.onclose = () => console.log(new Date(), 'disconnected from server')\n    this.socket.onerror = err => console.error(new Date(), err)\n    this.socket.onmessage = event => {\n      const message = JSON.parse(event.data)\n      if (message.event === 'workflow_run') {\n        this.emit('build-update', message.workflow_run)\n      }\n    }\n\n    this.on('authenticated', () => {\n      if (!this.installations?.length) {\n        return\n      }\n\n      this.fetchAvailableFeatures()\n\n      send(JSON.stringify({\n        message: 'authorize',\n        data: this.token\n      }))\n    })\n  }\n\n  beginLoginFlow () {\n    window.localStorage.removeItem('auth_token')\n    window.location.href = `${config.apiBaseUrl}/github/authorize`\n  }\n\n  beginInstallAppFlow () {\n    window.location.href = `https://github.com/apps/${config.githubAppName}/installations/new`\n  }\n\n  manageInstallationRepos (installationId) {\n    const installation = this.installations.find(installation => installation.id === installationId)\n    window.location.href = installation.html_url\n  }\n\n  isGitHubAuthorized () {\n    return !!this.token\n  }\n\n  isAppSuspendedForRepoSelection () {\n    return (\n      this.installations?.length > 0 &&\n      this.installations?.every(installation => installation.suspended_at) &&\n      this.installations?.some(installation => installation.repository_selection === 'all')\n    )\n  }\n\n  isAppInstalled () {\n    return this.installations?.length && this.repositories?.length\n  }\n\n  async fetchRepoBranches (repo) {\n    const installation = encodeURIComponent(this.repoInstallationMap[repo.full_name])\n    const repository = encodeURIComponent(repo.full_name)\n    const { data } = await this._request(\n      `/github/installation/${installation}/${repository}/branches`\n    )\n\n    return data\n  }\n\n  async fetchBranchKeyboards (repo, branch) {\n    const installation = encodeURIComponent(this.repoInstallationMap[repo.full_name])\n    const repository = encodeURIComponent(repo.full_name)\n    const { data } = await this._request(\n      `/github/installation/${installation}/${repository}/keyboards/${branch}`\n    )\n\n    return data\n  }\n\n  async fetchLayoutAndKeymap (repo, branch, { keyboard } = {}) {\n    const installation = encodeURIComponent(this.repoInstallationMap[repo])\n    const repository = encodeURIComponent(repo)\n    const url = new URL(`${config.apiBaseUrl}/github/keyboard-files/${installation}/${repository}`)\n    const query = new URLSearchParams()\n\n    if (branch) {\n      query.set('branch', branch)\n    }\n    if (keyboard) {\n      query.set('keyboard', keyboard)\n    }\n\n    url.search = query.toString()\n\n    try {\n      const { data } = await this._request(url.toString())\n      const { info: { layouts }, keymap } = data\n      const defaultLayout = Object.keys(data.info.layouts)[0]\n      const preferredLayout = keymap.chosen['zmk,matrix_transform']\n        ? keymap.chosen['zmk,matrix_transform'].replace(/^&/, '')\n        : null\n\n      const layoutMetadata = (\n        layouts[preferredLayout] ||\n        layouts[defaultLayout]\n      )\n      const layout = layoutMetadata.layout\n\n      return {\n        layoutMetadata,\n        layout,\n        keymap,\n        keyboards: data.keyboards,\n        default: data.defaultKeymap,\n        sensors: data.sensors\n      }\n    } catch (err) {\n      if (err.response?.status === 400) {\n        console.error('Failed to load keymap and layout from github', err.response.data)\n        this.emit('repo-validation-error', err.response.data)\n      } else if (err.response?.status === 500 && err.response.data.name === 'LayoutGenerationError') {\n        this.emit('layout-generation-failed', err.response.data)\n      }\n\n      throw err\n    }\n  }\n\n  async fetchAvailableFeatures () {\n    if (!this.isGitHubAuthorized()) {\n      return { betaFeatures: [] }\n    }\n\n    if (!this.features) {\n      this.features = this._request(`${config.apiBaseUrl}/github/features`)\n    }\n\n    const { data } = await this.features\n    return data\n  }\n\n  async fetchBuildStatus (repo, branch) {\n    const installation = encodeURIComponent(this.repoInstallationMap[repo])\n    const repository = encodeURIComponent(repo)\n    const url = new URL(`${config.apiBaseUrl}/github/latest-run/${installation}/${repository}/${encodeURIComponent(branch)}`)\n\n    const { data } = await this._request(url.toString())\n    return data\n  }\n\n  commitChanges (repo, branch, layout, keymap, options = {}) {\n    const {\n      message = null,\n      experimentalSettings = {},\n      keyboard\n    } = options\n    const installation = encodeURIComponent(this.repoInstallationMap[repo])\n    const repository = encodeURIComponent(repo)\n    const url = new URL(`${config.apiBaseUrl}/github/keyboard-files/${installation}/${repository}/${encodeURIComponent(branch)}`)\n    const { enableBehaviorEditing = false } = experimentalSettings\n    const query = new URLSearchParams({\n      enableBehaviorEditing\n    })\n\n    if (keyboard) {\n      query.set('keyboard', keyboard)\n    }\n\n    url.search = query.toString()\n\n    return this._request({\n      url: url.toString(),\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      data: { keyboard, keymap, message }\n    })\n  }\n}\n\nconst api = new API()\nexport default api\n","import * as config from '../../config'\n\nexport async function loadAvailableKeyboards () {\n  const response = await fetch(`${config.apiBaseUrl}/v2/local/keyboards`)\n  return response.json()\n}\n\nexport async function loadKeyboardFiles (keyboard) {\n  const path = `v2/local/keyboards/${encodeURIComponent(keyboard)}`\n  const url = `${config.apiBaseUrl}/${path}`\n  const response = await fetch(url)\n\n  if (!response.ok) {\n    const err = new Error()\n    err.response = response\n    throw err\n  }\n  return response.json()\n}\n\nexport async function updateKeymap (keyboard, keymap) {\n  const path = `v2/local/keyboards/${encodeURIComponent(keyboard)}/keymap`\n  const url = `${config.apiBaseUrl}/${path}`\n\n  const response = await fetch(url, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(keymap)\n  })\n\n  return response.json()\n}\n","function parseBoolean (val) {\n  return val && ['1', 'on', 'yes', 'true'].includes(val.toString().toLowerCase())\n}\n\nexport const apiBaseUrl = process.env.API_BASE_URL\nexport const appBaseUrl = process.env.APP_BASE_URL\nexport const githubAppName = process.env.GITHUB_APP_NAME\nexport const enableGitHub = parseBoolean(process.env.ENABLE_GITHUB)\nexport const enableLocal = parseBoolean(process.env.ENABLE_LOCAL)\nexport const enableDemo = parseBoolean(process.env.ENABLE_DEMO)\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import filter from 'lodash/filter'\nimport get from 'lodash/get'\nimport isEmpty from 'lodash/isEmpty'\nimport keyBy from 'lodash/keyBy'\nimport map from 'lodash/map'\nimport { useContext, useMemo } from 'react'\n\nimport { DefinitionsContext } from '../Contexts/Definitions'\nimport { SearchContext, SettingsContext } from '../providers'\nimport { getMergedGlyphs } from '../keycodes'\n\nfunction Context ({ children, ...props }) {\n  const { keymap } = props\n  const { keycodes, behaviours, glyphs } = useContext(DefinitionsContext)\n  const { settings } = useContext(SettingsContext)\n\n  const mergedGlyphs = useMemo(() => {\n    const isMac = window.navigator.platform.startsWith('Mac')\n    const isWin = window.navigator.platform.startsWith('Win')\n    const platform = (isMac && 'mac') || (isWin && 'win')\n\n    return getMergedGlyphs(glyphs, {\n      unicode: get(settings, 'unicodeGlyphs', true),\n      platform: get(settings, 'platformGlyphs', 'auto') !== 'auto'\n        ? settings.platformGlyphs\n        : platform\n    })\n  }, [glyphs, settings])\n\n  const extendedBehaviours = useMemo(() => {\n    const fullList = [\n      ...behaviours,\n      ...(keymap.behaviors || []).map(behavior => ({\n        code: `&${behavior.labels[0]}`,\n        bind: `&${behavior.labels[0]}`,\n        name: behavior.name,\n        description: `Custom behavior: \"${behavior.properties.label.raw || behavior.name}\"`,\n        params: behavior.params\n      })),\n      ...keymap.macros.map(macro => ({\n        code: `&${macro.labels[0]}`,\n        name: macro.name,\n        description: 'Custom macro',\n        params: []\n      }))\n    ]\n\n    // TODO: at this point we're just duplicating work that was done at a higher\n    // level. It still needs to happen here because of the extended list of\n    // keyboard-specific behaviours, so the App can just pass the list without\n    // doing its own indexing.\n    fullList.indexed = keyBy(fullList, 'code')\n    fullList.context = {\n      none: fullList.filter(({ context }) => !context),\n      macros: filter(fullList, { context: 'macros' })\n    }\n    fullList.byContext = {\n      none: keyBy(fullList.context.none, 'code'),\n      macros: keyBy(fullList.context.macros, 'code')\n    }\n\n    return fullList\n  }, [behaviours, keymap.behaviors, keymap.macros])\n\n  const availableLayers = useMemo(() => isEmpty(keymap)\n    ? []\n    : (\n        keymap.layers.map((layer, i) => ({\n          code: i,\n          description: layer.name || `Layer ${i}`\n        }))\n      ), [keymap])\n\n  // Extend ZMK definitions (keycodes and behaviours) with additional\n  // definitions specific to this keyboard. This includes a list of layers for\n  // layer-related behaviours and in the future can include custom behaviours\n  // defined in the keymap and potentially preprocessor definitions for psuedo\n  // layer names or aliased key codes.\n  const sources = useMemo(() => ({\n    code: keycodes.indexed,\n    behaviours: extendedBehaviours.indexed,\n    behavioursByContext: extendedBehaviours.byContext,\n    layer: keyBy(availableLayers, 'code'),\n    defines: keymap.defines\n  }), [keycodes, extendedBehaviours, availableLayers, keymap.defines])\n\n  const searchTargets = useMemo(() => {\n    return {\n      behaviour: extendedBehaviours,\n      code: keycodes\n    }\n  }, [extendedBehaviours, keycodes])\n\n  const getSearchTargets = useMemo(() => function (param, behaviour, context = 'none') {\n    // Special case for behaviour commands which can dynamically add another\n    // parameter that isn't defined at the root level of the behaviour.\n    // Currently this is just `&bt BT_SEL` and is only represented as an enum.\n    if (param.enum) {\n      return param.enum.map(v => ({ code: v }))\n    }\n\n    if (param.raw) {\n      return []\n    }\n\n    if (param === 'command') {\n      return get(sources.behavioursByContext, [context, behaviour, 'commands'], [])\n    }\n\n    if (!searchTargets[param]) {\n      console.error('cannot find target for', param)\n    }\n\n    if (param === 'behaviour') {\n      return searchTargets.behaviour.context[context]\n    }\n\n    return searchTargets[param]\n  }, [searchTargets, sources])\n\n  const identifiers = useMemo(() => {\n    return [\n      ...map(keycodes, 'code'),\n      ...Object.keys(keymap.defines || {})\n    ]\n  }, [keycodes, keymap.defines])\n\n  return (\n    <SearchContext.Provider value={{ getSearchTargets, mergedGlyphs, sources, identifiers }}>\n      {children}\n    </SearchContext.Provider>\n  )\n}\n\nexport default Context\n","import PropTypes from 'prop-types'\n\nconst bindShape = {}\n\nexport const value = PropTypes.string.isRequired\nexport const params = PropTypes.arrayOf(PropTypes.shape(bindShape))\n\nbindShape.value = value\nbindShape.params = params\n\nexport const binding = PropTypes.shape(bindShape)\n","import PropTypes from 'prop-types'\nimport { binding } from '../bindingPropTypes'\n\nexport const combo = PropTypes.shape({\n  index: PropTypes.number,\n  name: PropTypes.string,\n  properties: PropTypes.shape({\n    bindings: PropTypes.shape({\n      parsed: PropTypes.arrayOf(binding).isRequired\n    }).isRequired,\n    'key-positions': PropTypes.shape({\n      parsed: PropTypes.arrayOf(PropTypes.number).isRequired\n    }).isRequired\n  })\n})\n","import PropTypes from 'prop-types'\nimport { binding } from './bindingPropTypes'\nimport { combo } from './Combos/comboPropTypes'\n\nexport const layer = PropTypes.shape({\n  index: PropTypes.number,\n  name: PropTypes.string,\n  properties: PropTypes.shape({\n    bindings: PropTypes.shape({\n      parsed: PropTypes.arrayOf(binding).isRequired\n    }).isRequired,\n    'sensor-bindings': PropTypes.shape({\n      parsed: PropTypes.arrayOf(binding).isRequired\n    })\n  })\n})\n\nexport const keymap = PropTypes.shape({\n  layers: PropTypes.arrayOf(layer).isRequired,\n  combos: PropTypes.arrayOf(combo)\n})\n","\nexport function sanityCheckLayout (layout) {\n  return {\n    layoutMissingPositions: sanityCheckPosiitions(layout)\n    // overlappedPositions: sanityCheckOverlappingPositions(layout),\n    // unorderedRows: sanityCheckRowOrdering(layout),\n    // undereredColumns: sanityCheckColumnOrdering(layout)\n  }\n}\n\nfunction sanityCheckPosiitions (layout) {\n  const noKeyHasPosition = layout.every(key => (\n    key.row === undefined &&\n    key.col === undefined\n  ))\n\n  return noKeyHasPosition\n    ? ['Layout in info.json has no row/col definitions. Generated keymap files will not be nicely formatted.']\n    : []\n}\n\nfunction sanityCheckOverlappingPositions (layout) {\n  const errors = []\n  const keysByPosition = layout.reduce((acc, key, i) => {\n    const { row, col } = key\n    const position = `(${row},${col})`\n\n    if (row !== undefined && col !== undefined) {\n      acc[position] = [...(acc[position] || []), i]\n    }\n\n    return acc\n  }, {})\n\n  for (const group of Object.values(keysByPosition)) {\n    if (group.length <= 1) {\n      continue\n    }\n\n    const { row, col } = layout[group[0]]\n    for (const index of group) {\n      errors.push({\n        location: `Layout JSON [${index}]`,\n        position: { row, col }\n      })\n    }\n  }\n\n  return errors\n}\n\nfunction sanityCheckRowOrdering (layout) {\n  let currentRow = -Infinity\n  const errors = []\n\n  for (const index of layout.keys()) {\n    const { row } = layout[index]\n    if (row === undefined) {\n      continue\n    }\n\n    if (row < currentRow) {\n      errors.push({ location: `Layout JSON [${index}]` })\n    } else {\n      currentRow = row\n    }\n  }\n\n  return errors\n}\n\nfunction sanityCheckColumnOrdering (layout) {\n  let currentRow = 0\n  let currentCol = -Infinity\n  const errors = []\n\n  for (const index of layout.keys()) {\n    const { row, col } = layout[index]\n    if (row === undefined || col === undefined) {\n      continue\n    }\n\n    if (currentRow !== row) {\n      currentRow = row\n      currentCol = -Infinity\n    }\n\n    if (col < currentCol) {\n      errors.push({ location: `Layout JSON [${index}]` })\n    } else {\n      currentCol = col\n    }\n  }\n\n  return errors\n}\n","import groupBy from 'lodash/groupBy'\n\nimport { sanityCheckLayout } from './sanity-checks-layout'\nimport reservedIdentifiers from 'zmk-data/data/extracted-data/zmk-reserved-identifiers.json'\n\nconst selectName = item => item.name\nconst selectBind = item => item.labels[0]\nconst selectLabel = item => item.properties.label?.parsed\n\nexport function sanityCheck (keymap, layout) {\n  return {\n    nodeNames: sanityCheckNodeNames(keymap),\n    nodeLabels: sanityCheckNodeLabels(keymap),\n    nodeReferences: sanityCheckNodeReferences(keymap),\n    deprecations: sanityCheckDeprecations(keymap),\n    ...sanityCheckLayout(layout)\n  }\n}\n\nfunction getDuplicatesBy (collection, key) {\n  const itemsByKey = groupBy(collection, key)\n  return Object.values(itemsByKey)\n    .filter(group => group.length > 1)\n}\n\nfunction doesNameSuggestPassword (name) {\n  const patterns = [\n    /(^|[\\b_])pass(word)?([\\b_]|$)/\n  ]\n  return patterns.some(pattern => name.match(pattern))\n}\n\nfunction sanityCheckNodeNames (keymap) {\n  const layerNames = getLayerNodeNames(keymap.layers)\n  const comboNames = getComboNodeNames(keymap.combos)\n  const macroNames = getMacroNodeNames(keymap.macros)\n  const behaviorNames = getBehaviorNodeNames(keymap.behaviors)\n\n  const duplicates = [\n    ...getDuplicatesBy(layerNames, 'name'),\n    ...getDuplicatesBy(comboNames, 'name'),\n    ...getDuplicatesBy(macroNames, 'name'),\n    ...getDuplicatesBy(behaviorNames, 'name')\n  ]\n\n  const redefined = [\n    ...layerNames.filter(layer => reservedIdentifiers.includes(layer.name)),\n    ...comboNames.filter(combo => reservedIdentifiers.includes(combo.name)),\n    ...macroNames.filter(macro => reservedIdentifiers.includes(macro.name)),\n    ...behaviorNames.filter(behavior => reservedIdentifiers.includes(behavior.name))\n  ]\n\n  const passwordMacros = [\n    ...macroNames.filter(macro => doesNameSuggestPassword(macro.name))\n  ]\n\n  return { duplicates, redefined, passwordMacros }\n}\n\nfunction sanityCheckNodeLabels (keymap) {\n  const duplicates = getDuplicatesBy([].concat(\n    getLayerLabels(keymap.layers),\n    getMacroLabels(keymap.macros),\n    getBehaviorLabels(keymap.behaviors)\n  ), 'label')\n\n  return { duplicates }\n}\n\nfunction sanityCheckNodeReferences (keymap) {\n  const nodesByRef = groupBy([].concat(\n    getMacroReferences(keymap.macros),\n    getBehaviorReferences(keymap.behaviors)\n  ), 'ref')\n\n  const duplicates = Object.values(nodesByRef).reduce((duplicates, nodes) => {\n    if (nodes.length > 1) {\n      duplicates.push(nodes)\n    }\n\n    return duplicates\n  }, [])\n\n  return { duplicates }\n}\n\nfunction sanityCheckDeprecations (keymap) {\n  const resetBindings = [\n    ...keymap.layers.reduce((deprecations, layer, i) => {\n      layer.properties.bindings?.parsed?.forEach((binding, j) => {\n        if (binding.value === '&reset') {\n          deprecations.push({\n            location: `Keymap - Layer #${i} (${layer.name}) - Key position ${j}`,\n            path: `keymap.layers[${i}].bindings[${j}]`,\n            name: '&reset'\n          })\n        }\n      })\n\n      return deprecations\n    }, []),\n    ...keymap.macros.reduce((deprecations, macro, i) => {\n      macro.properties.bindings.parsed.forEach((binding, j) => {\n        if (binding.value === '&reset') {\n          deprecations.push({\n            location: `Macros - Macro #${i} (${macro.name}) - Binding position ${j}`,\n            path: `keymap.macros[${i}].properties.bindings[${j}].parsed`,\n            name: '&reset'\n          })\n        }\n      })\n\n      return deprecations\n    }, []),\n    ...keymap.combos.reduce((deprecations, combos, i) => {\n      combos.properties.bindings.parsed.forEach((binding, j) => {\n        if (binding.value === '&reset') {\n          deprecations.push({\n            location: `Combos - Combo #${i} (${combos.name})`,\n            path: `keymap.combos[${i}].bindings[${j}]`,\n            name: '&reset'\n          })\n        }\n      })\n\n      return deprecations\n    }, []),\n    ...keymap.behaviors.reduce((deprecations, behavior, i) => {\n      // TODO: should I try to handle this more generically?\n      // Not all behaviors will have bindings, not all behaviors will be actual\n      // ZMK behaviors that the editor can recognize, which means there may not\n      // be a parsed `bindings` property to inspect.\n      // Additionally, by only looking for `bindings` we're ignoring the layer\n      // node's `sensor-bindings` property.\n      behavior.properties.bindings?.parsed?.forEach((binding, j) => {\n        if (binding.value === '&reset' || binding === '&reset') {\n          deprecations.push({\n            location: `Behaviors - Behavior #${i} (${behavior.name}) - Bind position ${j}`,\n            path: `keymap.behaviors[${i}].parsed.bindings[${j}].parsed`,\n            name: '&reset'\n          })\n        }\n      })\n\n      return deprecations\n    }, [])\n  ]\n\n  return { resetBindings }\n}\n\nfunction getLayerNodeNames (layers) {\n  return layers.map((layer, i) => ({\n    location: `Keymap - Layer #${i} (${layer.name})`,\n    path: `keymap.layers[${i}]`,\n    name: selectName(layer)\n  }))\n}\n\nfunction getLayerLabels (layers) {\n  return layers.reduce((labels, layer, i) => {\n    const label = selectLabel(layer)\n    if (label) {\n      labels.push({\n        location: `Keymap - Layer #${i} (${layer.name})`,\n        path: `keymap.layers[${i}].label`,\n        label\n      })\n    }\n\n    return labels\n  }, [])\n}\n\nfunction getComboNodeNames (combos) {\n  return combos.map((combo, i) => ({\n    location: `Combos - Combo #${i} (${combo.name})`,\n    path: `combos[${i}].name`,\n    name: combo.name\n  }))\n}\n\nfunction getMacroNodeNames (macros) {\n  return macros.map((macro, i) => ({\n    location: `Macros - Macro #${i} (${selectName(macro)})`,\n    path: `macros[${i}].name`,\n    name: selectName(macro)\n  }))\n}\n\nfunction getMacroLabels (macros) {\n  return macros.reduce((labels, macro, i) => {\n    if (macro.label) {\n      labels.push({\n        location: `Macros - Macro #${i} (${selectLabel(macro)}) - Label`,\n        path: `macros[${i}].label`,\n        label: selectLabel(macro)\n      })\n    }\n\n    return labels\n  }, [])\n}\n\nfunction getMacroReferences (macros) {\n  return macros.map((macro, i) => ({\n    location: `Macros > Macro #${i} (${selectBind(macro)})`,\n    path: `macros[${i}].name`,\n    ref: selectBind(macro)\n  }))\n}\n\nfunction getBehaviorNodeNames (behaviors) {\n  return behaviors.map((behavior, i) => ({\n    location: `Behaviors - Behavior #${i} (${selectBind(behavior)}) - Name`,\n    path: `behaviors[${i}].name`,\n    name: selectName(behavior)\n  }))\n}\n\nfunction getBehaviorLabels (behaviors) {\n  return behaviors.reduce((labels, behavior, i) => {\n    const label = selectLabel(behavior)\n    const ref = selectBind(behavior)\n    if (label) {\n      labels.push({\n        location: `Behaviors - Behavior #${i} (${ref}) - Label`,\n        path: `behaviors[${i}].label`,\n        label\n      })\n    }\n\n    return labels\n  }, [])\n}\n\nfunction getBehaviorReferences (behaviors) {\n  return behaviors.map((behavior, i) => ({\n    location: `Behaviors - Behavior #${i} (${selectBind(behavior)}) - Bind`,\n    path: `behaviors[${i}].bind`,\n    ref: selectBind(behavior)\n  }))\n}\n","import compact from 'lodash/compact'\nimport { Fragment, lazy, Suspense, useContext, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport Context from './Context'\nimport * as keymapProptypes from './keymapPropTypes'\nimport styles from './styles.module.css'\nimport { sanityCheck } from './Warnings/sanity-checks'\nimport { LayoutContext } from '../Contexts/Layout'\n\nconst Behaviors = lazy(() => import('./Behaviors/Behaviors'))\nconst ComboEditor = lazy(() => import('./Combos/ComboEditor'))\nconst LayerEditor = lazy(() => import('./Layers/LayerEditor'))\nconst MacroEditor = lazy(() => import('./Macros/MacroEditor'))\nconst Warnings = lazy(() => import('./Warnings/Warnings'))\n\n// import github from '../Sources/Github/api'\n\n// function useFeatures () {\n//   const [features, setFeatures] = useState({ betaFeatures: [] })\n//   useEffect(() => {\n//     (async function () {\n//       setFeatures(await github.fetchAvailableFeatures())\n//     })()\n//   }, [setFeatures])\n\n//   return features\n// }\n\n// import LayoutEditor from './Layout/LayoutEditor'\n\nfunction Tabs ({ text, tabs, defaultTab, children }) {\n  const [activeTab, setActiveTab] = useState(defaultTab)\n\n  return (\n    <>\n      <h3 style={{ display: 'inline' }}>{text}</h3>\n      <ul className={styles.editorModeTabs}>\n        {tabs.map(({ name: tab, tabClasses = [] }, i) => (\n          <li\n            key={i}\n            onClick={() => setActiveTab(i)}\n            className={compact([\n              activeTab === i && styles.activeEditTab,\n              ...tabClasses\n            ]).join(' ')}\n          >\n            {tab}\n          </li>\n        ))}\n      </ul>\n      <Suspense>\n        {children[activeTab]}\n      </Suspense>\n    </>\n  )\n}\n\nconst selectKeymap = state => state.keyboard.keymap\n\nfunction Keyboard (props) {\n  const keymap = useSelector(selectKeymap)\n  const { layout } = useContext(LayoutContext)\n  const sanityChecks = useMemo(() => sanityCheck(keymap, layout), [keymap, layout])\n  const warningCount = useMemo(() => {\n    const { nodeNames, nodeLabels, nodeReferences, deprecations, layoutMissingPositions } = sanityChecks\n    return (\n      nodeNames.duplicates.length +\n      nodeNames.redefined.length +\n      nodeNames.passwordMacros.length +\n      nodeLabels.duplicates.length +\n      nodeReferences.duplicates.length +\n      deprecations.resetBindings.length +\n      layoutMissingPositions.length\n    )\n  }, [sanityChecks])\n\n  const tabs = compact([\n    { name: 'layers', component: <LayerEditor /> },\n    { name: 'combos', component: <ComboEditor /> },\n    { name: 'macros', component: <MacroEditor /> },\n    { name: <span className={styles.beta}>behaviors</span>, component: <Behaviors /> },\n    warningCount > 0 && ({\n      name: `warnings (${warningCount})`,\n      tabClasses: [styles.warningTab],\n      component: <Warnings sanityChecks={sanityChecks} />\n    })\n  ])\n\n  const defaultTab = 0\n\n  return (\n    <Context keymap={keymap}>\n      <Tabs text=\"Editor mode:\" tabs={tabs} defaultTab={defaultTab}>\n        {tabs.map((tab, i) => (\n          <Fragment key={i}>\n            {tab.component}\n          </Fragment>\n        ))}\n      </Tabs>\n    </Context>\n  )\n}\n\nKeyboard.propTypes = {\n  keymap: keymapProptypes.keymap\n}\n\nexport default Keyboard\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import Icon from './Common/Icon'\n\nimport style from './styles.module.css'\n\nconst repositoryUrl = 'https://github.com/nickcoutsos/keymap-editor'\n\nexport default function GitHubLink () {\n  return (\n    <div className={style.wrapper}>\n      <label>Need help? Open an issue:</label>\n      <a className={style.githubLink} target=\"_blank\" rel=\"noreferrer\" href={repositoryUrl}>\n        <Icon collection=\"brands\" name=\"github\" />/nickcoutsos/keymap-editor\n      </a>\n    </div>\n  )\n}\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Icon from '../Common/Icon'\nimport Modal from '../Common/Modal'\n\nconst styles = {\n  description: {\n    fontStyle: 'italic',\n    fontSize: '90%'\n  }\n}\n\nfunction Settings (props) {\n  const { settings, onUpdate, onClose } = props\n\n  function handleUpdateSetting (key, value) {\n    onUpdate({ ...settings, [key]: value })\n  }\n\n  return (\n    <Modal onDismiss={onClose}>\n      <DialogBox onDismiss={onClose}>\n        <h1>Settings</h1>\n\n        <h2>Keycode glyphs</h2>\n\n        <h3>\n          <label htmlFor=\"enable-unicode-glyphs\">\n            <input\n              id=\"enable-unicode-glyphs\"\n              type=\"checkbox\"\n              checked={settings.unicodeGlyphs}\n              onChange={e => (\n                handleUpdateSetting('unicodeGlyphs', e.target.checked)\n              )}\n            />\n            Use Unicode Glyphs\n          </label>\n        </h3>\n        <p style={styles.description}>\n          Use unicode glyphs for visual representations of keycodes\n          like <code>Enter</code> (⮐), <code>Right Arrow</code> (⏵), etc. You\n          can disable this if the symbols don't render correctly.\n        </p>\n\n        <h3>\n          <label htmlFor=\"platform-specific-glyphs\">\n            Platform specific glyphs\n            <select\n              id=\"platform-specific-glyphs\"\n              value={settings.platformGlyphs || 'auto'}\n              onChange={e => (\n                handleUpdateSetting('platformGlyphs', e.target.value)\n              )}\n            >\n              <option value=\"auto\">Automatic</option>\n              <option value=\"win\">Windows</option>\n              <option value=\"mac\">macOS</option>\n            </select>\n          </label>\n        </h3>\n        <p style={styles.description}>\n          Render symbols specific to your platform. E.g., render left/right meta\n          key as <Icon name=\"windows fa-brands\" /> for Windows, or\n          ⌘ for macOS.\n        </p>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nSettings.propTypes = {\n  settings: PropTypes.object.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired\n}\n\nSettings.defaultProps = {\n  settings: {}\n}\n\nexport default Settings\n","import compact from 'lodash/compact'\nimport * as config from '../config'\n\nexport const sourceChoices = compact([\n  config.enableDemo && {\n    id: 'demo',\n    name: 'Demo Keyboard'\n  },\n  config.enableLocal && {\n    id: 'local',\n    name: 'Local',\n    collapsible: false\n  },\n  config.enableGitHub && {\n    id: 'github',\n    name: 'GitHub',\n    collapsible: true\n  }\n])\n\nconst selectedSource = localStorage.getItem('selectedSource')\nconst onlySource = sourceChoices.length === 1 ? sourceChoices[0].id : null\n\nexport const defaultSource = onlySource || (\n  sourceChoices.find(source => source.id === selectedSource)\n    ? selectedSource\n    : sourceChoices[0].id\n)\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\nimport { GeneralHelpOfferCopy } from './support'\n\nfunction KeymapBindingsUsePreprocessorMacros (props) {\n  const { onDismiss } = props\n\n  return (\n    <Modal>\n      <DialogBox onDismiss={onDismiss}>\n        <h2>Could not parse keymap</h2>\n        <p>\n          It looks like some bindings in your keymap are using custom pre-processor\n          macros which isn't supported by the Keymap Editor. These macros make\n          it difficult both to resolve bindings to behaviors and parameters, as\n          well as to generate modified keymap code that is consistent with your\n          original intentions.\n        </p>\n        <p>\n          Please either continue editing your keymap by hand with these helpers\n          or if you would like to use this editor, rewrite the keymap to use\n          ZMK's syntax directly.\n        </p>\n        {GeneralHelpOfferCopy}\n      </DialogBox>\n    </Modal>\n  )\n}\n\nKeymapBindingsUsePreprocessorMacros.propTypes = {\n  onDismiss: PropTypes.func.isRequired\n}\n\nexport default KeymapBindingsUsePreprocessorMacros\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\nimport { GeneralHelpOfferCopy } from './support'\n\nfunction KeymapParsingFailed (props) {\n  const { onDismiss } = props\n\n  return (\n    <Modal>\n      <DialogBox onDismiss={onDismiss}>\n        <h2>Could not parse keymap</h2>\n        <p>\n          Something went wrong while trying to parse your keymap. It's hard to\n          say what exactly, because I wasn't expecting this.\n        </p>\n        <p>\n          A common occurrence here is keymaps using a variety of pre-processor\n          macros to define layers/combos/etc.\n        </p>\n        {GeneralHelpOfferCopy}\n      </DialogBox>\n    </Modal>\n  )\n}\n\nKeymapParsingFailed.propTypes = {\n  onDismiss: PropTypes.func.isRequired\n}\n\nexport default KeymapParsingFailed\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\n\nfunction KeymapUsingMiryoku (props) {\n  const { onDismiss } = props\n\n  return (\n    <Modal>\n      <DialogBox onDismiss={onDismiss}>\n        <h2>Could not parse Miryoku keymap</h2>\n        <p>\n          It looks like your keyboard is built using Miryoku to manage the\n          configuration and keymap. Parsing and editing keymaps that use this\n          syntax is unsupported by the Keymap Editor.\n        </p>\n        <p>\n          Please either continue editing your keymap by hand with these helpers\n          or if you would like to use this editor, rewrite the keymap to use\n          ZMK's syntax directly.\n        </p>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nKeymapUsingMiryoku.propTypes = {\n  onDismiss: PropTypes.func.isRequired\n}\n\nexport default KeymapUsingMiryoku\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\nimport { GitHubIssuesLink } from './support'\n\nfunction MissingRootNode (props) {\n  const { onDismiss } = props\n\n  return (\n    <Modal>\n      <DialogBox onDismiss={onDismiss}>\n        <h2>Could not parse keymap</h2>\n        <p>\n          Missing devicetree root node.\n        </p>\n        <p>\n          The keymap editor was unable to find a devicetree root node in your\n          keymap. This means that either something is wrong with the parser or\n          something is wrong with your keymap's syntax.\n        </p>\n        <p>\n          If you've been using the keymap editor succesfully up to now it's\n          possible that it has introduced an error in the keymap file. Please\n          reach out for support at {GitHubIssuesLink}.\n        </p>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nMissingRootNode.propTypes = {\n  onDismiss: PropTypes.func.isRequired\n}\n\nexport default MissingRootNode\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\n\nfunction ZmkNodefreeConfig (props) {\n  const { onDismiss } = props\n\n  return (\n    <Modal>\n      <DialogBox onDismiss={onDismiss}>\n        <h2>Could not parse keymap</h2>\n        <p>\n          Detected use of <code>zmk-nodefree-config</code>\n        </p>\n        <p>\n          It looks like your keymap is built using helper functions from the\n          zmk-nodefree-config library to replace devicetree syntax. Parsing and\n          editing keymaps that use this syntax is unsupported by the Keymap\n          Editor.\n        </p>\n        <p>\n          Please either continue editing your keymap by hand with these helpers\n          or if you would like to use this editor, rewrite the keymap to use\n          ZMK's syntax directly.\n        </p>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nZmkNodefreeConfig.propTypes = {\n  onDismiss: PropTypes.func.isRequired\n}\n\nexport default ZmkNodefreeConfig\n","import DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\nimport { KeymapLayoutResources } from './support'\n\nfunction SuggestAutoLayoutTweak (props) {\n  return (\n    <Modal>\n      <DialogBox {...props}>\n        <h2>This layout was Auto-Generated</h2>\n        <p>\n          Hi there! There wasn't a layout definition to accompany your keymap\n          file, so the keymap editor tried to generate one automatically in a\n          last-ditch effort to help you get into the app.\n        </p>\n        <p>\n          This layout definition was (or will be) saved when you first save\n          keymap changes with the keymap editor, so remember that if there are\n          any tweaks you'd like to make to improve it you can do so by editing\n          the <code>info.json</code> file.\n        </p>\n        {KeymapLayoutResources}\n      </DialogBox>\n    </Modal>\n  )\n}\n\nSuggestAutoLayoutTweak.propTypes = {}\n\nexport default SuggestAutoLayoutTweak\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import classNames from 'classnames'\nimport find from 'lodash/find'\nimport PropTypes from 'prop-types'\nimport { lazy, Suspense, useCallback, useEffect, useRef, useState } from 'react'\nimport { sourceChoices, defaultSource } from './sources'\nimport { Button, Select } from './Controls'\nimport { getErrorDialog } from './errors'\nimport SuggestAutoLayoutTweak from '../Dialogs/SuggestAutoLayoutTweak'\nimport Icon from '../Common/Icon'\nimport styles from './styles.module.css'\n\nconst LocalPicker = lazy(() => import('./Local/Picker'))\nconst DemoPicker = lazy(() => import('./Demo/Picker'))\nconst GithubPicker = lazy(() => import('./Github/Picker'))\n\nfunction useToggle (initial) {\n  const [toggleState, setToggleState] = useState(initial)\n  const setTrue = useCallback(() => setToggleState(true), [setToggleState])\n  const setFalse = useCallback(() => setToggleState(false), [setToggleState])\n  const setInvert = useCallback(() => setToggleState(state => !state), [setToggleState])\n\n  return [toggleState, setTrue, setFalse, setInvert]\n}\n\nfunction useClickOutsideHandler (ref, callback, enabled = true) {\n  useEffect(() => {\n    if (enabled) {\n      const handleClick = event => {\n        const isInDocument = document.body.contains(event.target)\n        const isInWrapper = ref.current.contains(event.target)\n        if (isInDocument && !isInWrapper) {\n          callback()\n        }\n      }\n\n      document.body.addEventListener('click', handleClick)\n      return () => document.body.removeEventListener('click', handleClick)\n    }\n  }, [ref, enabled, callback])\n}\n\nfunction KeyboardPicker (props) {\n  const { onSelect } = props\n  const wrapperRef = useRef()\n  const [source, setSource] = useState(defaultSource)\n  const [{ autoGenerated }, setLayoutInfo] = useState({ autoGenerated: false })\n  const [showDialog, setShowDialog] = useState(null)\n  const closeDialog = useCallback(() => setShowDialog(null), [setShowDialog])\n  const [isExpanded, setExpanded, setCompact] = useToggle(true)\n  const showLayoutHelp = useCallback(() => {\n    setShowDialog({\n      component: SuggestAutoLayoutTweak,\n      onClose: closeDialog\n    })\n  }, [setShowDialog, closeDialog])\n\n  const selectedSource = find(sourceChoices, { id: source })\n\n  useClickOutsideHandler(wrapperRef, setCompact, isExpanded && selectedSource?.collapsible === true)\n\n  const handleKeyboardSelected = useCallback(function (event) {\n    const { warningFlags = [] } = event.keymap\n    const { autoGenerated = false } = event.layoutMetadata || {}\n    const error = getErrorDialog(warningFlags)\n\n    if (error) {\n      setShowDialog({ component: error, onClose: closeDialog })\n      onSelect({ source, keyboard: null })\n      return\n    }\n\n    setLayoutInfo({ autoGenerated })\n    onSelect({ source, ...event })\n  }, [onSelect, source, setShowDialog, closeDialog])\n\n  const handleError = useCallback(function ({ dialog, dialogProps }) {\n    setShowDialog({ component: dialog, dialogProps, onClose: closeDialog })\n    onSelect({ source, keyboard: null })\n  }, [setShowDialog, closeDialog, onSelect, source])\n\n  useEffect(() => {\n    localStorage.setItem('selectedSource', source)\n  }, [source])\n\n  return (\n    <div\n      ref={wrapperRef}\n      className={classNames(styles.wrapper, { [styles.compact]: !isExpanded })}\n    >\n      {isExpanded && (\n        <Select\n          label=\"Source\"\n          value={selectedSource}\n          options={sourceChoices}\n          getOptionLabel={option => option.name}\n          getOptionValue={option => option.id}\n          onChange={({ id }) => setSource(id)}\n        />\n      )}\n\n      {showDialog?.component && <showDialog.component {...showDialog.dialogProps || {}} onDismiss={showDialog.onClose} />}\n\n      <Suspense>\n        {source === 'local' && <LocalPicker onError={handleError} onSelect={handleKeyboardSelected} />}\n        {source === 'demo' && <DemoPicker onSelect={handleKeyboardSelected} />}\n        {source === 'github' && (\n          <GithubPicker\n            expanded={isExpanded}\n            onSelect={handleKeyboardSelected}\n            onError={handleError}\n            onExpand={setExpanded}\n          />\n        )}\n      </Suspense>\n\n      {autoGenerated && (\n        <Button onClick={showLayoutHelp}>\n          <Icon name=\"warning\" /> Layout wrong?\n        </Button>\n      )}\n    </div>\n  )\n}\n\nKeyboardPicker.propTypes = {\n  onSelect: PropTypes.func.isRequired\n}\n\nexport default KeyboardPicker\n","import KeymapBindingsUsePreprocessorMacros from '../Dialogs/KeymapBindingsUsePreprocessorMacros'\nimport KeymapParsingFailed from '../Dialogs/KeymapParsingFailed'\nimport KeymapUsingMiryoku from '../Dialogs/KeymapUsingMiryoku'\nimport MissingRootNode from '../Dialogs/MissingRootNode'\nimport ZmkNodefreeConfig from '../Dialogs/ZmkNodefreeConfig'\n\nexport function getErrorDialog (warningFlags) {\n  switch (warningFlags[0]) {\n    case 'USING_ZMK_NODEFREE_MACROS':\n      return ZmkNodefreeConfig\n    case 'USING_MIRYOKU_DTSI':\n      return KeymapUsingMiryoku\n    case 'USING_NON_ZMK_MACRO':\n      return KeymapBindingsUsePreprocessorMacros\n    case 'KEYMAP_PARSING_FAILED':\n      return KeymapParsingFailed\n    case 'MISSING_ROOT_NODE':\n      return MissingRootNode\n    default:\n      return null\n  }\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./unexpected-error.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./unexpected-error.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import PropTypes from 'prop-types'\n\nimport { apiBaseUrl } from '../config'\nimport Link from '../Common/Link'\nimport Modal from '../Common/Modal'\nimport DialogBox from '../Common/DialogBox'\nimport IconButton from '../Common/IconButton'\n\nimport styles from './unexpected-error.module.css'\nimport { useEffect, useState } from 'react'\n\nfunction formatStackFrame (frame) {\n  return `  ${frame.fileName}:${frame.lineNumber}:${frame.columnNumber}`\n}\n\nfunction formatErrorText (error, stack = []) {\n  return `\n${error.name}\n\n${error.message}\n\n${stack.map(formatStackFrame).join('\\n')}\n`.trim()\n}\n\nconst newGithubIssue = (\n  <Link external href=\"https://github.com/nickcoutsos/keymap-editor/issues/new\">\n    new issue\n  </Link>\n)\n\nasync function reportError (error, stacktrace) {\n  const url = `${apiBaseUrl}/v2/events/client-errors`\n  const body = JSON.stringify({\n    error: error.toString(),\n    stacktrace\n  })\n\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body\n  })\n\n  if (!response.ok) {\n    console.error('Failed to submit error report', response)\n  }\n}\n\nfunction UnexpectedError ({ error }) {\n  const [stack, setStack] = useState([])\n  const [formattedError, setFormattedError] = useState('')\n  const [copied, setCopied] = useState(false)\n\n  useEffect(() => {\n    console.log('effect for error', error)\n    async function parseStack () {\n      const StackTrace = await import('stacktrace-js')\n      const stacktrace = await StackTrace.fromError(error)\n      setStack(stacktrace)\n      reportError(error, stacktrace)\n    }\n\n    parseStack()\n  }, [setStack, error])\n\n  useEffect(() => {\n    setFormattedError(formatErrorText(error, stack))\n  }, [error, stack])\n\n  useEffect(() => {\n    if (copied) {\n      setTimeout(() => {\n        setCopied(false)\n      }, 3000)\n    }\n  }, [copied, setCopied])\n\n  function copyErrorText () {\n    const backTicks = '```'\n    const text = `${backTicks}\\n${formattedError}\\n${backTicks}`\n    navigator.clipboard.writeText(text)\n      .then(() => setCopied(true))\n  }\n\n  return (\n    <Modal>\n      <DialogBox dismissText={false} style={{ maxWidth: '700px' }}>\n        <h2>Unexpected error</h2>\n        <p>\n          Something unexpected happened and the keymap editor app cannot\n          recover. Please consider taking a moment to open a {newGithubIssue}\n          with the details below to help me investigate and improve the app.\n        </p>\n        <div className={styles.stackTrace}>\n          <pre>{formattedError}</pre>\n          <IconButton\n            icon=\"copy\"\n            title=\"Copy error text\"\n            className={styles.button}\n            onClick={copyErrorText}\n          />\n          {copied && (\n            <div className={styles.copyMessage}>Copied!</div>\n          )}\n        </div>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nUnexpectedError.propTypes = {\n  error: PropTypes.instanceOf(Error).isRequired\n}\n\nexport default UnexpectedError\n","import React from 'react'\nimport UnexpectedError from './Dialogs/UnexpectedError'\n\nexport default class ErrorBoundary extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      error: null\n    }\n  }\n\n  static getDerivedStateFromError (error) {\n    return { error }\n  }\n\n  render () {\n    const { children } = this.props\n    const { error } = this.state\n\n    if (error) {\n      return <UnexpectedError error={error} />\n    }\n\n    return children\n  }\n}\n","import PropTypes from 'prop-types'\n\nimport DialogBox from '../Common/DialogBox'\nimport Modal from '../Common/Modal'\nimport { GitHubIssuesLink } from './support'\n\nfunction KeymapSaveFailed (props) {\n  const { onDismiss } = props\n  return (\n    <Modal>\n      <DialogBox onDismiss={onDismiss}>\n        <h2>Failed to save keymap changes</h2>\n        <p>\n          Sorry, an unexpected error occurred while trying to save your keymap.\n        </p>\n        <p>\n          Please try again or raise an issue if the problem persists and I'll\n          try to work it out with you. Seriously I can only get this right if I\n          know what's wrong, and in some cases that comes down to people using\n          this editor in more advanced ways than I myself have.\n        </p>\n        <p>\n          {GitHubIssuesLink}\n        </p>\n      </DialogBox>\n    </Modal>\n  )\n}\n\nKeymapSaveFailed.propTypes = {\n  onDismiss: PropTypes.func.isRequired\n}\n\nexport default KeymapSaveFailed\n","import '@fortawesome/fontawesome-free/css/all.min.css'\n\nimport { useCallback, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport './App.css'\nimport { SettingsContext } from './providers'\n\nimport IconButton from './Common/IconButton'\nimport Keyboard from './Keyboard/Keyboard'\nimport GitHubLink from './GitHubLink'\nimport Settings from './Dialogs/Settings'\nimport SourceActions from './Sources/SourceActions'\nimport SourcePicker from './Sources/SourcePicker'\nimport github from './Sources/Github/api'\n\nimport ErrorBoundary from './ErrorBoundary'\nimport KeymapSaveFailed from './Dialogs/KeymapSaveFailed'\nimport { DefinitionsContextProvider } from './Contexts/Definitions'\nimport { LayoutContextProvider } from './Contexts/Layout'\n\nfunction App () {\n  const state = useSelector(state => state)\n  const dispatch = useDispatch()\n  const {\n    sourceOther,\n    keyboard,\n    saveError,\n    theme,\n    settingsVisible,\n    experimentalSettings\n  } = state\n\n  // useEffect(() => {\n  //   (async function () {\n  //     console.log('loading devicetree parser')\n  //     const { getParser } = await import('devicetree')\n  //     const parser = await getParser()\n  //     const tree = parser.parse('/ {};')\n  //     console.log(tree, tree.rootNode.toString())\n  //   })()\n  // }, [])\n\n  useEffect(() => {\n    if (!sourceOther?.github) {\n      dispatch({ type: 'GITHUB_BUILD_UPDATE', build: null })\n      return\n    }\n\n    function handler (run) {\n      if (run.head_branch === sourceOther.github.branch) {\n        dispatch({ type: 'GITHUB_BUILD_UPDATE', build: run })\n      }\n    }\n\n    ;(async function () {\n      const { repository, branch } = sourceOther.github\n      handler(await github.fetchBuildStatus(repository, branch))\n    })()\n\n    github.on('build-update', handler)\n    return () => github.off('build-update', handler)\n  }, [sourceOther, dispatch])\n\n  const handleKeyboardSelected = useCallback(function (event) {\n    const { source, layout, keymap, sensors = [], ...other } = event\n\n    if (!keymap) {\n      dispatch({ type: 'CLEAR_KEYBOARD_SELECTION' })\n      return\n    }\n\n    dispatch({\n      type: 'SELECT_KEYBOARD',\n      source,\n      sourceOther: other,\n      layout,\n      keymap,\n      sensors\n    })\n  }, [dispatch])\n\n  const handleUpdateSettings = useCallback(function (settings) {\n    dispatch({ type: 'SETTINGS_UPDATE', settings })\n  }, [dispatch])\n\n  const openSettingsDialog = useCallback(\n    () => dispatch({ type: 'SETTINGS_OPEN' }),\n    [dispatch]\n  )\n\n  return (\n    <>\n      <ErrorBoundary>\n        <SettingsContext.Provider value={{\n          settings: experimentalSettings,\n          openSettingsDialog\n        }}>\n          <SourcePicker onSelect={handleKeyboardSelected} />\n\n          <div id=\"settings-bar\">\n            <IconButton\n              id=\"light-mode\"\n              title=\"Toggle theme\"\n              icon={{\n                light: 'sun',\n                dark: 'moon',\n                system: 'circle-half-stroke'\n              }[theme] || 'circle-half-stroke'}\n              onClick={() => dispatch({ type: 'CYCLE_THEME' })}\n            />\n\n            <IconButton\n              id=\"settings-button\"\n              icon=\"cog\"\n              onClick={openSettingsDialog}\n            />\n            {settingsVisible && (\n              <Settings\n                settings={experimentalSettings}\n                onUpdate={handleUpdateSettings}\n                onClose={() => dispatch({ type: 'SETTINGS_CLOSE' })}\n              />\n            )}\n          </div>\n\n          <DefinitionsContextProvider>\n            {keyboard && (\n              <LayoutContextProvider layout={keyboard.layout}>\n                <Keyboard\n                  keymap={keyboard.keymap}\n                  sensors={keyboard.sensors}\n                />\n              </LayoutContextProvider>\n            )}\n            {saveError && (\n              <KeymapSaveFailed onDismiss={() => dispatch({ type: 'CLEAR_SAVE_ERROR' })} />\n            )}\n          </DefinitionsContextProvider>\n        </SettingsContext.Provider>\n      </ErrorBoundary>\n      <GitHubLink />\n    </>\n  )\n}\n\nexport default App\n","import cloneDeep from 'lodash/cloneDeep'\nimport get from 'lodash/get'\nimport pick from 'lodash/pick'\n\nfunction init () {\n  const settings = JSON.parse(\n    localStorage.getItem('experimental-settings') || '{}'\n  )\n\n  return {\n    definitions: null,\n    source: null,\n    sourceOther: null,\n    keyboard: null,\n    _unmodifiedKeymap: null,\n    saving: null,\n    saveError: null,\n    settingsVisible: null,\n    commitDialogOpen: false,\n    theme: JSON.parse(localStorage.getItem('theme' || '\"system\"')),\n    experimentalSettings: {\n      unicodeGlyphs: get(settings, 'unicodeGlyphs', true),\n      platformGlyphs: get(settings, 'platformGlyphs', 'auto'),\n      enableBehaviorEditing: get(settings, 'enableBehaviorEditing', false)\n    },\n    latestBuild: null\n  }\n}\n\nexport const INITIAL_STATE = init()\n\nexport default function reducer (state, action) {\n  const { type } = action\n\n  switch (type) {\n    case 'INITIALIZE':\n      return init()\n\n    case 'DEFINITIONS_SET':\n      return { ...state, definitions: action.definitions }\n\n    case 'CLEAR_KEYBOARD_SELECTION':\n      return { ...state, keyboard: null }\n\n    case 'SELECT_KEYBOARD':\n      return selectKeyboard(state, action)\n\n    case 'COMMIT_DIALOG_OPEN':\n      return { ...state, commitDialogOpen: true }\n\n    case 'COMMIT_DIALOG_CLOSE':\n      return { ...state, commitDialogOpen: false }\n\n    case 'GITHUB_BUILD_UPDATE':\n      return { ...state, latestBuild: action.build }\n\n    case 'KEYMAP_SAVE_START':\n      return { ...state, saving: true, saveError: false }\n\n    case 'KEYMAP_SAVE_SUCCESS':\n      return keymapSaveSuccess(state, action)\n\n    case 'KEYMAP_SAVE_FAILURE':\n      return {\n        ...state,\n        saving: false,\n        saveError: true\n      }\n\n    case 'CLEAR_SAVE_ERROR':\n      return { ...state, saveError: null }\n\n    case 'SETTINGS_OPEN':\n      return { ...state, settingsVisible: true }\n\n    case 'SETTINGS_CLOSE':\n      return { ...state, settingsVisible: false }\n\n    case 'SETTINGS_UPDATE':\n      localStorage.setItem('experimental-settings', JSON.stringify(action.settings))\n      return { ...state, experimentalSettings: action.settings }\n\n    case 'CYCLE_THEME':\n      return cycleTheme(state, action)\n\n    default:\n      return state\n  }\n}\n\n// Here we can adapt the payload to account for API changes\nfunction selectKeyboard (state, action) {\n  const { keyboard } = state\n  const newKeyboardState = pick(action, ['layout', 'keymap', 'sensors'])\n\n  newKeyboardState.keymap.layers = newKeyboardState.keymap.layers.map(layer => (\n    pick(layer, ['index', 'name', 'labels', 'properties'])\n  ))\n\n  newKeyboardState.keymap.combos = newKeyboardState.keymap.combos.map(combo => (\n    pick(combo, ['index', 'name', 'labels', 'properties'])\n  ))\n\n  newKeyboardState.keymap.behaviors = newKeyboardState.keymap.behaviors.map(behavior => (\n    pick(behavior, ['index', 'name', 'labels', 'properties', 'params'])\n  ))\n\n  newKeyboardState.keymap.macros = newKeyboardState.keymap.macros.map(macro => (\n    pick(macro, ['index', 'name', 'labels', 'properties'])\n  ))\n\n  return {\n    ...state,\n    source: action.source,\n    sourceOther: action.sourceOther,\n    keyboard: { ...keyboard, ...newKeyboardState },\n    _unmodifiedKeymap: cloneDeep(newKeyboardState.keymap)\n  }\n}\n\nfunction keymapSaveSuccess (state, action) {\n  const newKeymapState = { ...action.keymap }\n\n  newKeymapState.layers = newKeymapState.layers.map(layer => (\n    pick(layer, ['index', 'name', 'labels', 'properties'])\n  ))\n\n  newKeymapState.combos = newKeymapState.combos.map(combo => (\n    pick(combo, ['index', 'name', 'labels', 'properties'])\n  ))\n\n  newKeymapState.behaviors = newKeymapState.behaviors.map(behavior => (\n    pick(behavior, ['index', 'name', 'labels', 'properties', 'params'])\n  ))\n\n  newKeymapState.macros = newKeymapState.macros.map(macro => (\n    pick(macro, ['index', 'name', 'labels', 'properties'])\n  ))\n\n  return {\n    ...state,\n    saving: false,\n    unsaved: false,\n    keyboard: {\n      ...state.keyboard,\n      keymap: newKeymapState\n    },\n    _unmodifiedKeymap: newKeymapState\n  }\n}\n\nfunction cycleTheme (state, action) {\n  const themes = ['light', 'dark', 'system']\n  const index = themes.indexOf(state.theme)\n  const theme = themes.at((index + 1) % themes.length)\n  localStorage.setItem('theme', `\"${theme}\"`)\n  document.body.dataset.theme = theme\n  return { ...state, theme }\n}\n","import { combineReducers, configureStore } from '@reduxjs/toolkit'\n\nimport appReducer, { INITIAL_STATE } from './appReducer'\nimport layersReducer from './Keyboard/Layers/layersSlice'\nimport combosReducer from './Keyboard/Combos/combosSlice'\nimport macrosReducer from './Keyboard/Macros/macrosSlice'\nimport behaviorsReducer from './Keyboard/Behaviors/behaviorsSlice'\n\nconst keyboardReducer = combineReducers({\n  layout: (state = []) => state,\n  sensors: (state = []) => state,\n  keymap: combineReducers({\n    warningFlags: (state = []) => state,\n    defines: (state = []) => state,\n    chosen: (state = {}) => state,\n    behaviors: behaviorsReducer,\n    combos: combosReducer,\n    layers: layersReducer,\n    macros: macrosReducer\n  })\n})\n\nfunction rootReducer (state, action) {\n  const newState = appReducer(state, action)\n  return {\n    ...newState,\n    keyboard: newState.keyboard && {\n      ...newState.keyboard,\n      ...keyboardReducer(newState.keyboard, action)\n    }\n  }\n}\n\nconst store = configureStore({\n  reducer: rootReducer,\n  preloadedState: INITIAL_STATE\n})\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { Provider } from 'react-redux'\n\nimport './index.css'\nimport App from './App'\n\nimport { INITIAL_STATE } from './appReducer'\nimport store from './store'\n\ndocument.body.dataset.theme = INITIAL_STATE.theme\n\nconst root = ReactDOM.createRoot(document.getElementById('app-root'))\n\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>\n)\n","import map from 'lodash/map'\n\nconst DEFAULT_SIZE = 65\nconst DEFAULT_PADDING = 5\n\nexport function getComputedParams (position, size, rotation = {}) {\n  return {\n    x: position.x * (DEFAULT_SIZE + DEFAULT_PADDING),\n    y: position.y * (DEFAULT_SIZE + DEFAULT_PADDING),\n    u: size.u * DEFAULT_SIZE + DEFAULT_PADDING * (size.u - 1),\n    h: size.h * DEFAULT_SIZE + DEFAULT_PADDING * (size.h - 1),\n    rx: (position.x - (rotation.x || position.x)) * -(DEFAULT_SIZE + DEFAULT_PADDING),\n    ry: (position.y - (rotation.y || position.y)) * -(DEFAULT_SIZE + DEFAULT_PADDING),\n    a: rotation.a || 0\n  }\n}\n\nexport function getKeyStyles (position, size, rotation) {\n  const { x, y, u, h, a, rx, ry } = getComputedParams(position, size, rotation)\n\n  return {\n    top: `${y}px`,\n    left: `${x}px`,\n    width: `${u}px`,\n    height: `${h}px`,\n    transformOrigin: `${rx}px ${ry}px`,\n    transform: `rotate(${a || 0}deg)`\n  }\n}\n\nexport function transformKeyPolygon (position, size, rotation) {\n  const { x, y, u, h, a, rx, ry } = getComputedParams(position, size, rotation)\n\n  const points = [\n    { x: 0, y: 0 },\n    { x: u, y: 0 },\n    { x: u, y: h },\n    { x: 0, y: h }\n  ]\n\n  function translate (point) {\n    return {\n      x: point.x + x,\n      y: point.y + y\n    }\n  }\n\n  function rotate (point) {\n    const x = point.x - rx\n    const y = point.y - ry\n    const angle = Math.PI * a / 180\n\n    return {\n      x: rx + x * Math.cos(angle) - y * Math.sin(angle),\n      y: ry + y * Math.cos(angle) + x * Math.sin(angle)\n    }\n  }\n\n  return points.map(rotate).map(translate)\n}\n\nexport function getKeyBoundingBox (position, size, rotation) {\n  const transformed = transformKeyPolygon(position, size, rotation)\n  const xValues = map(transformed, 'x')\n  const yValues = map(transformed, 'y')\n  const min = {\n    x: Math.min(...xValues),\n    y: Math.min(...yValues)\n  }\n  const max = {\n    x: Math.max(...xValues),\n    y: Math.max(...yValues)\n  }\n\n  return { min, max }\n}\n","import compact from 'lodash/compact'\n\nfunction shortestAlias (aliases) {\n  return [...aliases]\n    .sort((a, b) => a.length - b.length)[0]\n}\n\nconst fnPattern = /^(.+?)\\((code)\\)$/\n\nexport function normalizeZmkKeycodes (keycodes) {\n  return keycodes.reduce((keycodes, keycode) => {\n    const { description, context, symbol, faIcon } = keycode\n    const aliases = keycode.names.filter(name => !name.match(fnPattern))\n    const name = shortestAlias(aliases)\n    const fnCode = keycode.names.map(name => name.match(fnPattern)).filter(v => !!v)[0]\n    const base = {\n      name,\n      aliases,\n      description,\n      context,\n      faIcon,\n      symbol: symbol || name,\n      params: []\n    }\n\n    for (const code of aliases) {\n      keycodes.push(Object.assign({}, base, {\n        code,\n        isModifier: !!fnCode\n      }))\n    }\n\n    if (fnCode) {\n      keycodes.push(Object.assign({}, base, {\n        code: fnCode[1],\n        params: fnCode[2].split(',')\n      }))\n    }\n\n    return keycodes\n  }, [])\n}\n\nexport function getMergedGlyphs (glyphs, options) {\n  return compact([\n    glyphs.basic,\n    options.unicode && glyphs.unicode,\n    options.platform === 'mac' && glyphs.platforms.mac,\n    options.platform === 'win' && glyphs.platforms.win\n  ]).reduce((glyphs, collection) => {\n    for (const overlay of collection) {\n      const aliases = overlay.names.filter(name => !name.match(fnPattern))\n      const name = shortestAlias(aliases)\n\n      if (!glyphs[name]) {\n        glyphs[name] = {}\n      }\n\n      glyphs[name].symbol = glyphs[name].symbol || overlay.symbol\n      glyphs[name].faIcon = glyphs[name].faIcon || overlay.faIcon\n    }\n    return glyphs\n  }, {})\n}\n","import get from 'lodash/get'\nimport keyBy from 'lodash/keyBy'\n\nexport function getBehaviourParams (parsedParams, behaviour) {\n  const firstParsedParam = get(parsedParams, '[0]', {})\n  const commands = keyBy(behaviour.commands, 'code')\n  return [].concat(\n    behaviour.params || [],\n    get(behaviour, 'params[0]') === 'command'\n      ? get(commands[firstParsedParam.value], 'additionalParams', [])\n      : []\n  )\n}\n","import { createContext } from 'react'\n\nexport const SearchContext = createContext({\n  getSearchTargets: null\n})\n\nexport const SettingsContext = createContext({\n  settings: null,\n  openSettingsDialog: null\n})\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --bg: white;\\n  --bg-rgb: 255,255,255;\\n  --fg: black;\\n\\t--dark-red: #910e0e;\\n\\t--dark-blue: #6d99c6;\\n  --error-highlight: rgb(179, 60, 60);\\n  --selection: rgb(60, 179, 113);\\n  --hover-selection: rgba(60, 179, 113, 0.85);\\n  --delete: rgb(179, 60, 72);\\n  --delete-faint: rgba(179, 60, 72, 0.6);\\n  --link: royalblue;\\n  --link-hover: #6d99c6;\\n  --key-bg-base: #f2f2f2;\\n  --key-bg-hover: white;\\n  --key-bg-highlight: sandybrown;\\n  --key-color-base: #6f6f6f;\\n  --key-color-extreme: #313131;\\n  --key-color-hover: white;\\n  --code-bg: rgba(0, 0, 0, 0.15);\\n}\\nhtml {\\n  font-family: sans-serif;\\n}\\nhtml, body {\\n\\twidth: 100vw;\\n\\theight: 100vh;\\n\\toverflow: auto;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n  background-color: var(--bg);\\n  color: var(--fg);\\n\\n  transition: 300ms ease-in-out;\\n  transition-property: color, background-color, border-color;\\n}\\n\\nh1, h2, h3, h4, h5, h6 {\\n  font-family: Quicksand, avenir, sans-serif;\\n}\\n\\nbody[data-theme=\\\"dark\\\"] {\\n  color-scheme: dark;\\n  --bg: #123;\\n  --bg-rgb: 17,34,51;\\n  --fg: white;\\n  --key-bg-base: #1c2c3b;\\n  --key-color-base: #b7b7b7;\\n  --key-color-extreme: #e7e7e7;\\n}\\n@media (prefers-color-scheme: dark) {\\n  body[data-theme=\\\"system\\\"] {\\n    color-scheme: dark;\\n    --bg: #123;\\n    --bg-rgb: 17,34,51;\\n    --fg: white;\\n    --key-bg-base: #1c2c3b;\\n    --key-color-base: #b7b7b7;\\n    --key-color-extreme: #e7e7e7;\\n  }\\n}\\n\\nh3 {\\n  margin-bottom: 10px;\\n}\\n\\na { color: var(--link) }\\na:hover { color: var(--link-hover) }\\n\\ncode {\\n  background-color: var(--code-bg);\\n  border-radius: 2px;\\n  padding: .15em .3em .05em;\\n}\\n\\np {\\n  line-height: 1.3rem;\\n}\\n\\n#actions {\\n\\tposition: absolute;\\n  display: flex;\\n\\tbottom: 5px;\\n\\tright: 5px;\\n  gap: 4px;\\n}\\n\\n#actions button {\\n  display: inline-block;\\n  cursor: pointer;\\n  background-color: var(--hover-selection);\\n  color: white;\\n\\n  font-size: 16px;\\n  border: none;\\n  border-radius: 5px;\\n  padding: 0 5px;\\n\\n  height: 30px;\\n  line-height: 30px;\\n  vertical-align: middle;\\n}\\n\\n#actions button[disabled] {\\n  filter: saturate(20%);\\n  opacity: .5;\\n  cursor: not-allowed;\\n}\\n\\n#settings-bar {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n}\\n\\n#settings-bar button {\\n  background: none;\\n  color: var(--fg);\\n  border: none;\\n}\\n#settings-bar button:hover {\\n  cursor: pointer;\\n  color: royalblue;\\n}\\n\\n.fa-delete-right::before {\\n  content: '\\\\f55a';\\n  transform-origin: center;\\n  transform: rotateZ(180deg);\\n  display: inline-block;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,qBAAqB;EACrB,WAAW;CACZ,mBAAmB;CACnB,oBAAoB;EACnB,mCAAmC;EACnC,8BAA8B;EAC9B,2CAA2C;EAC3C,0BAA0B;EAC1B,sCAAsC;EACtC,iBAAiB;EACjB,qBAAqB;EACrB,sBAAsB;EACtB,qBAAqB;EACrB,8BAA8B;EAC9B,yBAAyB;EACzB,4BAA4B;EAC5B,wBAAwB;EACxB,8BAA8B;AAChC;AACA;EACE,uBAAuB;AACzB;AACA;CACC,YAAY;CACZ,aAAa;CACb,cAAc;CACd,UAAU;CACV,SAAS;EACR,2BAA2B;EAC3B,gBAAgB;;EAEhB,6BAA6B;EAC7B,0DAA0D;AAC5D;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,kBAAkB;EAClB,WAAW;EACX,sBAAsB;EACtB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;EACE;IACE,kBAAkB;IAClB,UAAU;IACV,kBAAkB;IAClB,WAAW;IACX,sBAAsB;IACtB,yBAAyB;IACzB,4BAA4B;EAC9B;AACF;;AAEA;EACE,mBAAmB;AACrB;;AAEA,IAAI,mBAAmB;AACvB,UAAU,yBAAyB;;AAEnC;EACE,gCAAgC;EAChC,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,mBAAmB;AACrB;;AAEA;CACC,kBAAkB;EACjB,aAAa;CACd,WAAW;CACX,UAAU;EACT,QAAQ;AACV;;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,wCAAwC;EACxC,YAAY;;EAEZ,eAAe;EACf,YAAY;EACZ,kBAAkB;EAClB,cAAc;;EAEd,YAAY;EACZ,iBAAiB;EACjB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,YAAY;AACd;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,wBAAwB;EACxB,0BAA0B;EAC1B,qBAAqB;AACvB\",\"sourcesContent\":[\":root {\\n  --bg: white;\\n  --bg-rgb: 255,255,255;\\n  --fg: black;\\n\\t--dark-red: #910e0e;\\n\\t--dark-blue: #6d99c6;\\n  --error-highlight: rgb(179, 60, 60);\\n  --selection: rgb(60, 179, 113);\\n  --hover-selection: rgba(60, 179, 113, 0.85);\\n  --delete: rgb(179, 60, 72);\\n  --delete-faint: rgba(179, 60, 72, 0.6);\\n  --link: royalblue;\\n  --link-hover: #6d99c6;\\n  --key-bg-base: #f2f2f2;\\n  --key-bg-hover: white;\\n  --key-bg-highlight: sandybrown;\\n  --key-color-base: #6f6f6f;\\n  --key-color-extreme: #313131;\\n  --key-color-hover: white;\\n  --code-bg: rgba(0, 0, 0, 0.15);\\n}\\nhtml {\\n  font-family: sans-serif;\\n}\\nhtml, body {\\n\\twidth: 100vw;\\n\\theight: 100vh;\\n\\toverflow: auto;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n  background-color: var(--bg);\\n  color: var(--fg);\\n\\n  transition: 300ms ease-in-out;\\n  transition-property: color, background-color, border-color;\\n}\\n\\nh1, h2, h3, h4, h5, h6 {\\n  font-family: Quicksand, avenir, sans-serif;\\n}\\n\\nbody[data-theme=\\\"dark\\\"] {\\n  color-scheme: dark;\\n  --bg: #123;\\n  --bg-rgb: 17,34,51;\\n  --fg: white;\\n  --key-bg-base: #1c2c3b;\\n  --key-color-base: #b7b7b7;\\n  --key-color-extreme: #e7e7e7;\\n}\\n@media (prefers-color-scheme: dark) {\\n  body[data-theme=\\\"system\\\"] {\\n    color-scheme: dark;\\n    --bg: #123;\\n    --bg-rgb: 17,34,51;\\n    --fg: white;\\n    --key-bg-base: #1c2c3b;\\n    --key-color-base: #b7b7b7;\\n    --key-color-extreme: #e7e7e7;\\n  }\\n}\\n\\nh3 {\\n  margin-bottom: 10px;\\n}\\n\\na { color: var(--link) }\\na:hover { color: var(--link-hover) }\\n\\ncode {\\n  background-color: var(--code-bg);\\n  border-radius: 2px;\\n  padding: .15em .3em .05em;\\n}\\n\\np {\\n  line-height: 1.3rem;\\n}\\n\\n#actions {\\n\\tposition: absolute;\\n  display: flex;\\n\\tbottom: 5px;\\n\\tright: 5px;\\n  gap: 4px;\\n}\\n\\n#actions button {\\n  display: inline-block;\\n  cursor: pointer;\\n  background-color: var(--hover-selection);\\n  color: white;\\n\\n  font-size: 16px;\\n  border: none;\\n  border-radius: 5px;\\n  padding: 0 5px;\\n\\n  height: 30px;\\n  line-height: 30px;\\n  vertical-align: middle;\\n}\\n\\n#actions button[disabled] {\\n  filter: saturate(20%);\\n  opacity: .5;\\n  cursor: not-allowed;\\n}\\n\\n#settings-bar {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n}\\n\\n#settings-bar button {\\n  background: none;\\n  color: var(--fg);\\n  border: none;\\n}\\n#settings-bar button:hover {\\n  cursor: pointer;\\n  color: royalblue;\\n}\\n\\n.fa-delete-right::before {\\n  content: '\\\\f55a';\\n  transform-origin: center;\\n  transform: rotateZ(180deg);\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body {\\n  margin: 0;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\ncode {\\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\\n    monospace;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,SAAS;EACT,mCAAmC;EACnC,kCAAkC;AACpC;;AAEA;EACE;aACW;AACb\",\"sourcesContent\":[\"body {\\n  margin: 0;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\ncode {\\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\\n    monospace;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"button.pi2Ig8c3Fdh4H2Jpxdo7 {\\n  display: inline-block;\\n  cursor: pointer;\\n  background-color: var(--hover-selection);\\n  color: white;\\n\\n  font-size: 16px;\\n  border: none;\\n  border-radius: 5px;\\n  padding: 0 5px;\\n\\n  height: 30px;\\n  line-height: 30px;\\n  vertical-align: middle;\\n}\\n\\nbutton.Ctpu4E2dZYJ6g8CUGFOF {\\n  color: var(--fg);\\n  background-color: transparent;\\n}\\n\\nbutton.pi2Ig8c3Fdh4H2Jpxdo7[disabled] {\\n  filter: saturate(20%);\\n  opacity: .5;\\n  cursor: not-allowed;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Common/action-button.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB;EACrB,eAAe;EACf,wCAAwC;EACxC,YAAY;;EAEZ,eAAe;EACf,YAAY;EACZ,kBAAkB;EAClB,cAAc;;EAEd,YAAY;EACZ,iBAAiB;EACjB,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,6BAA6B;AAC/B;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,mBAAmB;AACrB\",\"sourcesContent\":[\"button.action {\\n  display: inline-block;\\n  cursor: pointer;\\n  background-color: var(--hover-selection);\\n  color: white;\\n\\n  font-size: 16px;\\n  border: none;\\n  border-radius: 5px;\\n  padding: 0 5px;\\n\\n  height: 30px;\\n  line-height: 30px;\\n  vertical-align: middle;\\n}\\n\\nbutton.secondary {\\n  color: var(--fg);\\n  background-color: transparent;\\n}\\n\\nbutton.action[disabled] {\\n  filter: saturate(20%);\\n  opacity: .5;\\n  cursor: not-allowed;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"action\": \"pi2Ig8c3Fdh4H2Jpxdo7\",\n\t\"secondary\": \"Ctpu4E2dZYJ6g8CUGFOF\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ZpdcqlK42OntJos3eGw0 {\\n  background-color: var(--bg);\\n  padding: 20px 40px;\\n  margin: 40px;\\n  max-width: 500px;\\n  box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.4);\\n  border-radius: 2px;\\n}\\n\\n.ZpdcqlK42OntJos3eGw0 p, .ZpdcqlK42OntJos3eGw0 ul {\\n  font-family: sans-serif;\\n  line-height: 1.3rem;\\n}\\n\\n.Mywg1Gw3bKMc9Kd9qcEO {\\n  display: block;\\n  margin: 0 auto;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Common/dialog-box.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,2BAA2B;EAC3B,kBAAkB;EAClB,YAAY;EACZ,gBAAgB;EAChB,4CAA4C;EAC5C,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,cAAc;AAChB\",\"sourcesContent\":[\".dialog {\\n  background-color: var(--bg);\\n  padding: 20px 40px;\\n  margin: 40px;\\n  max-width: 500px;\\n  box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.4);\\n  border-radius: 2px;\\n}\\n\\n.dialog p, .dialog ul {\\n  font-family: sans-serif;\\n  line-height: 1.3rem;\\n}\\n\\n.button {\\n  display: block;\\n  margin: 0 auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"dialog\": \"ZpdcqlK42OntJos3eGw0\",\n\t\"button\": \"Mywg1Gw3bKMc9Kd9qcEO\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".J2R67AQeCK_aC1DKFCMJ {\\n  margin: 4px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Common/link.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;AACb\",\"sourcesContent\":[\".icon {\\n  margin: 4px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"icon\": \"J2R67AQeCK_aC1DKFCMJ\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".FMkASzwt_oMscZdObpDQ {\\n  display: inline-block;\\n  text-align: center;\\n}\\n.TNF6aRMBPANvZifB27ZK {\\n  display: inline-block;\\n  animation: GGCs7iiBiwDCnT80cyTh 1s linear infinite;\\n}\\n\\n@keyframes GGCs7iiBiwDCnT80cyTh {\\n  from { transform: rotate(0deg); }\\n  to { transform: rotate(360deg); }\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Common/spinner.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB;EACrB,kBAAkB;AACpB;AACA;EACE,qBAAqB;EACrB,kDAAkC;AACpC;;AAEA;EACE,OAAO,uBAAuB,EAAE;EAChC,KAAK,yBAAyB,EAAE;AAClC\",\"sourcesContent\":[\".spinner {\\n  display: inline-block;\\n  text-align: center;\\n}\\n.icon {\\n  display: inline-block;\\n  animation: spin 1s linear infinite;\\n}\\n\\n@keyframes spin {\\n  from { transform: rotate(0deg); }\\n  to { transform: rotate(360deg); }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"spinner\": \"FMkASzwt_oMscZdObpDQ\",\n\t\"icon\": \"TNF6aRMBPANvZifB27ZK\",\n\t\"spin\": \"GGCs7iiBiwDCnT80cyTh\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".Q5veln3l3laVkuNPs5dQ {\\n  position: relative;\\n}\\n\\n.Q5veln3l3laVkuNPs5dQ pre {\\n  white-space: pre;\\n  background-color: var(--code-bg);\\n  color: var(--key-color-base);\\n  padding: 10px;\\n  max-height: 320px;\\n  overflow: scroll;\\n}\\n\\n.dqzgBwJ1Rq0XgMqeAKe7 {\\n  position: absolute;\\n  top: 15px;\\n  right: 15px;\\n  padding: 4px 7px;\\n  color: var(--key-color-base);\\n  background-color: var(--key-bg-base);\\n  border: 1px solid var(--key-color-base);\\n  border-radius: 3px;\\n}\\n.dqzgBwJ1Rq0XgMqeAKe7:hover {\\n  cursor: pointer;\\n  background-color: var(--selection);\\n  border: var(--selection);\\n  color: white;\\n}\\n\\n.YV2lKA9hbJpP4Vs4udw8 {\\n  position: absolute;\\n  top: 5px;\\n  right: 0px;\\n  background-color: var(--selection);\\n  color: white;\\n  padding: 10px;\\n  border-radius: 2px;\\n  cursor: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Dialogs/unexpected-error.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;EAChB,gCAAgC;EAChC,4BAA4B;EAC5B,aAAa;EACb,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,gBAAgB;EAChB,4BAA4B;EAC5B,oCAAoC;EACpC,uCAAuC;EACvC,kBAAkB;AACpB;AACA;EACE,eAAe;EACf,kCAAkC;EAClC,wBAAwB;EACxB,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,kCAAkC;EAClC,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,YAAY;AACd\",\"sourcesContent\":[\".stackTrace {\\n  position: relative;\\n}\\n\\n.stackTrace pre {\\n  white-space: pre;\\n  background-color: var(--code-bg);\\n  color: var(--key-color-base);\\n  padding: 10px;\\n  max-height: 320px;\\n  overflow: scroll;\\n}\\n\\n.button {\\n  position: absolute;\\n  top: 15px;\\n  right: 15px;\\n  padding: 4px 7px;\\n  color: var(--key-color-base);\\n  background-color: var(--key-bg-base);\\n  border: 1px solid var(--key-color-base);\\n  border-radius: 3px;\\n}\\n.button:hover {\\n  cursor: pointer;\\n  background-color: var(--selection);\\n  border: var(--selection);\\n  color: white;\\n}\\n\\n.copyMessage {\\n  position: absolute;\\n  top: 5px;\\n  right: 0px;\\n  background-color: var(--selection);\\n  color: white;\\n  padding: 10px;\\n  border-radius: 2px;\\n  cursor: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"stackTrace\": \"Q5veln3l3laVkuNPs5dQ\",\n\t\"button\": \"dqzgBwJ1Rq0XgMqeAKe7\",\n\t\"copyMessage\": \"YV2lKA9hbJpP4Vs4udw8\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".D0BH39_6wwiclW8aKuoi {\\n  display: inline-flex;\\n  list-style-type: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n.D0BH39_6wwiclW8aKuoi li {\\n  cursor: pointer;\\n  padding: 5px;\\n  margin: 5px;\\n  border-radius: 4px;\\n  font-variant: small-caps;\\n}\\n.D0BH39_6wwiclW8aKuoi li.xwo6V7AWCmy8CDvuTwRg {\\n  background-color: var(--selection);\\n  color: white;\\n  cursor: default;\\n}\\n\\n.nVbskEoaGxWf96qEgtxz {\\n  position: absolute;\\n}\\n.nVbskEoaGxWf96qEgtxz > * {\\n  width: 100% !important;\\n  height: 100% !important;\\n}\\n\\n.Ae2s0eqIVhebTEcJGc3F {\\n  position: relative\\n}\\n.Ae2s0eqIVhebTEcJGc3F::after {\\n  content: 'beta';\\n  background-color: red;\\n  color: white;\\n  font-size: 12px;\\n  font-weight: bold;\\n  padding: 1px 3px;\\n  border-radius: 6px;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  transform: translate(60%, -60%) rotate(13deg);\\n}\\n.xwo6V7AWCmy8CDvuTwRg .Ae2s0eqIVhebTEcJGc3F::after {\\n  background-color: white;\\n  color: var(--selection);\\n  border: 1px solid var(--selection);\\n}\\n.sQQ0qFjHptJbQ8qvuXGa {\\n  color: var(--error-highlight);\\n}\\n.D0BH39_6wwiclW8aKuoi li.xwo6V7AWCmy8CDvuTwRg.sQQ0qFjHptJbQ8qvuXGa {\\n  background-color: var(--error-highlight);\\n  color: white;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Keyboard/styles.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,SAAS;EACT,UAAU;AACZ;AACA;EACE,eAAe;EACf,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,wBAAwB;AAC1B;AACA;EACE,kCAAkC;EAClC,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;AACA;EACE,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE;AACF;AACA;EACE,eAAe;EACf,qBAAqB;EACrB,YAAY;EACZ,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,6CAA6C;AAC/C;AACA;EACE,uBAAuB;EACvB,uBAAuB;EACvB,kCAAkC;AACpC;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,wCAAwC;EACxC,YAAY;AACd\",\"sourcesContent\":[\".editorModeTabs {\\n  display: inline-flex;\\n  list-style-type: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n.editorModeTabs li {\\n  cursor: pointer;\\n  padding: 5px;\\n  margin: 5px;\\n  border-radius: 4px;\\n  font-variant: small-caps;\\n}\\n.editorModeTabs li.activeEditTab {\\n  background-color: var(--selection);\\n  color: white;\\n  cursor: default;\\n}\\n\\n.placer {\\n  position: absolute;\\n}\\n.placer > * {\\n  width: 100% !important;\\n  height: 100% !important;\\n}\\n\\n.beta {\\n  position: relative\\n}\\n.beta::after {\\n  content: 'beta';\\n  background-color: red;\\n  color: white;\\n  font-size: 12px;\\n  font-weight: bold;\\n  padding: 1px 3px;\\n  border-radius: 6px;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  transform: translate(60%, -60%) rotate(13deg);\\n}\\n.activeEditTab .beta::after {\\n  background-color: white;\\n  color: var(--selection);\\n  border: 1px solid var(--selection);\\n}\\n.warningTab {\\n  color: var(--error-highlight);\\n}\\n.editorModeTabs li.activeEditTab.warningTab {\\n  background-color: var(--error-highlight);\\n  color: white;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"editorModeTabs\": \"D0BH39_6wwiclW8aKuoi\",\n\t\"activeEditTab\": \"xwo6V7AWCmy8CDvuTwRg\",\n\t\"placer\": \"nVbskEoaGxWf96qEgtxz\",\n\t\"beta\": \"Ae2s0eqIVhebTEcJGc3F\",\n\t\"warningTab\": \"sQQ0qFjHptJbQ8qvuXGa\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".z8z3GXuYqlepCz4tRPZj {\\n  cursor: pointer;\\n  display: flex;\\n  box-sizing: border-box;\\n  border-width: 1px;\\n  text-align: left;\\n  border-radius: 4px;\\n  gap: 5px;\\n  height: 38px;\\n  padding: 0 8px;\\n\\n  /* color: hsl(0, 0%, 20%); */\\n}\\n\\n.z8z3GXuYqlepCz4tRPZj:hover {\\n  background-color: var(--hover-selection);\\n  color: white;\\n}\\n\\n.yyHfal9pM4DzShMl4LAY {\\n  display: inline-flex;\\n  height: 30px;\\n  border-radius: 5px;\\n  align-items: center;\\n\\n  font-size: 70%;\\n  padding: 0 4px;\\n\\n  background-color: royalblue;\\n  color: white;\\n  text-decoration: none;\\n}\\n\\n.ukdycT4tarWVlV3PC6Rr {\\n  display: flex;\\n  height: 38px;\\n  gap: 4px;\\n}\\n\\n.ukdycT4tarWVlV3PC6Rr button,\\n.ukdycT4tarWVlV3PC6Rr .yyHfal9pM4DzShMl4LAY {\\n  height: 38px !important;\\n}\\n\\n.yyHfal9pM4DzShMl4LAY code {\\n  font-family: monospace;\\n}\\n\\n.QvI5wo7_u6OeAc12ib0W {\\n  width: 30px;\\n  height: 30px;\\n  line-height: 30px;\\n  font-size: 200%;\\n  text-align: center;\\n}\\n\\n.eUw5NZqoPPF3BcyYDpJx {\\n  /* color: var(--selection); */\\n}\\n\\n.XjY4lN_lY3nSgHcw67bX {\\n  /* color: brown; */\\n}\\n\\n.Ap_OwCtp3j1Q29Phpw3V {\\n  color: gold;\\n  animation: WjBuPfls4V41d2sjbNFU 1s linear alternate infinite;\\n}\\n\\n@keyframes WjBuPfls4V41d2sjbNFU {\\n  from { opacity: 0.5; }\\n  to { opacity: 1; }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Sources/Github/styles.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;EACf,aAAa;EACb,sBAAsB;EACtB,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,cAAc;;EAEd,4BAA4B;AAC9B;;AAEA;EACE,wCAAwC;EACxC,YAAY;AACd;;AAEA;EACE,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;;EAEnB,cAAc;EACd,cAAc;;EAEd,2BAA2B;EAC3B,YAAY;EACZ,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,QAAQ;AACV;;AAEA;;EAEE,uBAAuB;AACzB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,4DAA6C;AAC/C;;AAEA;EACE,OAAO,YAAY,EAAE;EACrB,KAAK,UAAU,EAAE;AACnB\",\"sourcesContent\":[\".compactWrapper {\\n  cursor: pointer;\\n  display: flex;\\n  box-sizing: border-box;\\n  border-width: 1px;\\n  text-align: left;\\n  border-radius: 4px;\\n  gap: 5px;\\n  height: 38px;\\n  padding: 0 8px;\\n\\n  /* color: hsl(0, 0%, 20%); */\\n}\\n\\n.compactWrapper:hover {\\n  background-color: var(--hover-selection);\\n  color: white;\\n}\\n\\n.buildDetails {\\n  display: inline-flex;\\n  height: 30px;\\n  border-radius: 5px;\\n  align-items: center;\\n\\n  font-size: 70%;\\n  padding: 0 4px;\\n\\n  background-color: royalblue;\\n  color: white;\\n  text-decoration: none;\\n}\\n\\n.pickerActions {\\n  display: flex;\\n  height: 38px;\\n  gap: 4px;\\n}\\n\\n.pickerActions button,\\n.pickerActions .buildDetails {\\n  height: 38px !important;\\n}\\n\\n.buildDetails code {\\n  font-family: monospace;\\n}\\n\\n.buildStatus {\\n  width: 30px;\\n  height: 30px;\\n  line-height: 30px;\\n  font-size: 200%;\\n  text-align: center;\\n}\\n\\n.buildSuccess {\\n  /* color: var(--selection); */\\n}\\n\\n.buildFailed {\\n  /* color: brown; */\\n}\\n\\n.buildPending {\\n  color: gold;\\n  animation: pulse 1s linear alternate infinite;\\n}\\n\\n@keyframes pulse {\\n  from { opacity: 0.5; }\\n  to { opacity: 1; }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"compactWrapper\": \"z8z3GXuYqlepCz4tRPZj\",\n\t\"buildDetails\": \"yyHfal9pM4DzShMl4LAY\",\n\t\"pickerActions\": \"ukdycT4tarWVlV3PC6Rr\",\n\t\"buildStatus\": \"QvI5wo7_u6OeAc12ib0W\",\n\t\"buildSuccess\": \"eUw5NZqoPPF3BcyYDpJx\",\n\t\"buildFailed\": \"XjY4lN_lY3nSgHcw67bX\",\n\t\"buildPending\": \"Ap_OwCtp3j1Q29Phpw3V\",\n\t\"pulse\": \"WjBuPfls4V41d2sjbNFU\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".hY07j_e1kQx0WX5BwG6I {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: end;\\n  gap: 5px;\\n  margin: 5px;\\n  height: 58px;\\n}\\n\\n._0h266lacmB1N_qDdQcy {\\n  align-items: center;\\n}\\n\\n.hY07j_e1kQx0WX5BwG6I button {\\n  height: 38px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/Sources/styles.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,gBAAgB;EAChB,QAAQ;EACR,WAAW;EACX,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;AACd\",\"sourcesContent\":[\".wrapper {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: end;\\n  gap: 5px;\\n  margin: 5px;\\n  height: 58px;\\n}\\n\\n.compact {\\n  align-items: center;\\n}\\n\\n.wrapper button {\\n  height: 38px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrapper\": \"hY07j_e1kQx0WX5BwG6I\",\n\t\"compact\": \"_0h266lacmB1N_qDdQcy\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n._vWNIXMkemQax9rkCJQh {\\n  display: inline-block;\\n  position: absolute;\\n  z-index: 100;\\n  bottom: 5px;\\n  left: 5px;\\n}\\n\\n._vWNIXMkemQax9rkCJQh label {\\n  font-size: 75%;\\n  font-style: italic;\\n  display: block;\\n  padding: 0 10px;\\n}\\n\\n.qiC2NrujE4ebqmHjzq0_ {\\n  display: inline-block;\\n  font-size: 110%;\\n  font-style: italic;\\n  background-color: var(--code-bg);\\n  border-radius: 20px;\\n  padding: 5px 10px;\\n  text-decoration: none;\\n\\n  color: royalblue;\\n}\\n.qiC2NrujE4ebqmHjzq0_:hover {\\n  background-color: royalblue;\\n  color: white;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles.module.css\"],\"names\":[],\"mappings\":\";AACA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,SAAS;AACX;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,kBAAkB;EAClB,gCAAgC;EAChC,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB;;EAErB,gBAAgB;AAClB;AACA;EACE,2BAA2B;EAC3B,YAAY;AACd\",\"sourcesContent\":[\"\\n.wrapper {\\n  display: inline-block;\\n  position: absolute;\\n  z-index: 100;\\n  bottom: 5px;\\n  left: 5px;\\n}\\n\\n.wrapper label {\\n  font-size: 75%;\\n  font-style: italic;\\n  display: block;\\n  padding: 0 10px;\\n}\\n\\n.githubLink {\\n  display: inline-block;\\n  font-size: 110%;\\n  font-style: italic;\\n  background-color: var(--code-bg);\\n  border-radius: 20px;\\n  padding: 5px 10px;\\n  text-decoration: none;\\n\\n  color: royalblue;\\n}\\n.githubLink:hover {\\n  background-color: royalblue;\\n  color: white;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrapper\": \"_vWNIXMkemQax9rkCJQh\",\n\t\"githubLink\": \"qiC2NrujE4ebqmHjzq0_\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","ActionButton","children","secondary","className","props","styles","join","defaultProps","DialogBox","dismissText","classes","onDismiss","rest","onClick","faCollections","brands","default","solid","round","Icon","name","collection","iconProps","groupClass","iconClass","propTypes","PropTypes","IconButton","icon","text","Link","href","external","showExternal","properties","Object","assign","rel","target","isRequired","wrapper","position","top","left","width","height","backgroundColor","backdropFilter","zIndex","display","justifyContent","alignItems","centerOnly","background","pointerEvents","content","Modal","useRef","handleClick","useCallback","e","current","contains","stopPropagation","style","ReactDOM","ref","document","getElementById","useModalState","useState","isOpen","setIsOpen","event","Spinner","i","DefinitionsContext","createContext","keycodes","behaviours","behaviors","behaviorBinds","glyphs","selectDefinitions","state","definitions","DefinitionsContextProvider","useSelector","dispatch","useDispatch","useEffect","Promise","all","loadKeycodes","loadBehaviourBindings","schemas","cloneDeep","bindings","indexed","keyBy","context","none","filter","macros","byContext","type","Provider","value","behaviorSchemas","behaviorBindings","keycodeGlyphs","normalizeZmkKeycodes","LayoutContext","layout","bindingCount","wrapperDimensions","wrapperStyle","LayoutContextProvider","useMemo","length","getWrapperDimensions","getWrapperStyle","GitHubIssuesLink","GitHubWikiLayoutsLink","layoutToolsLink","DiscordProfileLink","GeneralHelpOfferCopy","KeymapLayoutResources","selectBehaviors","keyboard","keymap","selectNodePhandleArrays","node","compatible","parsed","raw","replace","selectNodeCompatible","schema","keys","reduce","phandleArrays","prop","propSchema","propValues","push","behaviorsSlice","createSlice","initialState","reducers","addBehavior","action","payload","behavior","updateBehavior","behaviorIndex","omit","resolveBehaviorParams","deleteBehavior","splice","extraReducers","builder","addCase","layerIndexChanged","makeLayerIndexChangeReducer","actions","selectCombos","combos","combosSlice","updateComboBinding","comboIndex","updateComboKeypositions","keyPositions","createCombo","labels","params","renameCombo","index","deleteCombo","customizeCombo","combo","comboBindingsReducer","positionMapping","layers","newIndex","makeLayerParamsIterator","selectLayerParamsFromBinding","binding","get","getBehaviourParams","layerParams","param","createAction","currentIndex","targetIndex","sources","layerIndices","map","bothBefore","bothAfter","betweenOldAndNew","createLayerIndexMapping","defaultSelectPhandleArrays","selectPhandleArrays","defines","selectedIndex","Number","isNaN","toString","_isPlaceholder","DEFAULT_BIND_BEHAVIOUR","selectLayers","layersSlice","createLayer","times","createEmptyBinding","updateLayerMetadata","layerIndex","label","renameLayer","repositionLayer","layer","replacementIndex","deleteLayer","updateKeyBinding","bindIndex","updateSensorBindings","sensorIndex","rebindTransparentToKeyPress","rebindTransparentToNone","rebindNoneToKeypress","rebindNoneToTransparent","rebindEmptyKeypressToTransparent","rebindEmptyKeypressToNone","selectMacros","macrosSlice","addMacro","deleteMacro","updateMacroBindings","customizeMacroOptions","macroIndex","getLayoutPolygons","scale","key","transformKeyPolygon","x","y","u","w","h","rx","ry","a","r","getKeyBoundingBox","max","Math","layoutOrBBox","overrides","bbox","Array","isArray","margin","padding","Control","lineHeight","Button","darkModePreference","window","matchMedia","invertedNeutralColors","colors","Select","theme","isDark","matches","fontSize","color","container","baseStyles","menu","isSearchable","dayjs","dayjsRelative","goodConclusions","badConclusions","FuzzyTimestamp","timestamp","fromNow","fuzzy","setFuzzy","interval","setInterval","clearInterval","title","BuildLink","latestRun","mappedIcon","includes","conclusion","html_url","head_sha","slice","updated_at","id","status","created_at","Commit","onConfirm","onCancel","message","setMessage","placeholder","onChange","textAlign","gap","stateSelector","Actions","source","sourceOther","_unmodifiedKeymap","saving","experimentalSettings","latestBuild","hasChanged","is","handleCommitChanges","github","repository","branch","updated","data","isProtected","disabled","commitDialogOpen","websocketUrl","config","API","url","startsWith","headers","this","token","Authorization","axios","response","console","error","emit","initializing","initEvents","installationUrl","URLSearchParams","location","search","beginLoginFlow","setTimeout","localStorage","auth_token","history","replaceState","pathname","_request","suspended","installations","installation","suspended_at","warn","username","repositories","repoInstallationMap","bufferedMessages","send","socket","readyState","WebSocket","OPEN","log","onopen","Date","shift","flush","JSON","stringify","onclose","onerror","err","onmessage","parse","workflow_run","on","fetchAvailableFeatures","removeItem","installationId","find","every","some","repository_selection","repo","encodeURIComponent","full_name","URL","query","set","layouts","info","defaultLayout","preferredLayout","chosen","layoutMetadata","keyboards","defaultKeymap","sensors","isGitHubAuthorized","betaFeatures","features","enableBehaviorEditing","method","EventEmitter","api","loadAvailableKeyboards","fetch","json","loadKeyboardFiles","path","ok","Error","updateKeymap","body","parseBoolean","val","toLowerCase","apiBaseUrl","process","githubAppName","enableGitHub","enableLocal","enableDemo","useContext","settings","SettingsContext","mergedGlyphs","isMac","navigator","platform","isWin","getMergedGlyphs","unicode","platformGlyphs","extendedBehaviours","fullList","code","bind","description","macro","availableLayers","isEmpty","behavioursByContext","searchTargets","behaviour","getSearchTargets","enum","v","identifiers","bindShape","sanityCheckPosiitions","row","col","selectName","item","selectBind","selectLabel","getDuplicatesBy","itemsByKey","groupBy","values","group","sanityCheckNodeNames","layerNames","comboNames","macroNames","behaviorNames","duplicates","redefined","reservedIdentifiers","passwordMacros","pattern","match","sanityCheckNodeLabels","concat","sanityCheckNodeReferences","nodesByRef","nodes","sanityCheckDeprecations","resetBindings","deprecations","forEach","j","Behaviors","lazy","ComboEditor","LayerEditor","MacroEditor","Warnings","Tabs","tabs","defaultTab","activeTab","setActiveTab","tab","tabClasses","compact","Suspense","selectKeymap","Keyboard","sanityChecks","nodeNames","nodeLabels","nodeReferences","layoutMissingPositions","sanityCheckLayout","sanityCheck","warningCount","component","Fragment","keymapProptypes","repositoryUrl","GitHubLink","fontStyle","Settings","onUpdate","onClose","handleUpdateSetting","htmlFor","checked","unicodeGlyphs","sourceChoices","collapsible","selectedSource","getItem","defaultSource","KeymapBindingsUsePreprocessorMacros","KeymapParsingFailed","KeymapUsingMiryoku","MissingRootNode","ZmkNodefreeConfig","SuggestAutoLayoutTweak","LocalPicker","DemoPicker","GithubPicker","KeyboardPicker","toggleState","setToggleState","onSelect","wrapperRef","setSource","autoGenerated","setLayoutInfo","showDialog","setShowDialog","closeDialog","isExpanded","setExpanded","setCompact","showLayoutHelp","callback","enabled","isInDocument","isInWrapper","addEventListener","removeEventListener","useClickOutsideHandler","handleKeyboardSelected","warningFlags","getErrorDialog","handleError","dialog","dialogProps","setItem","classNames","getOptionLabel","option","getOptionValue","onError","expanded","onExpand","formatStackFrame","frame","fileName","lineNumber","columnNumber","newGithubIssue","reportError","stacktrace","UnexpectedError","stack","setStack","formattedError","setFormattedError","copied","setCopied","StackTrace","fromError","parseStack","trim","formatErrorText","maxWidth","clipboard","writeText","then","ErrorBoundary","React","KeymapSaveFailed","saveError","settingsVisible","handler","run","head_branch","build","other","handleUpdateSettings","openSettingsDialog","SourcePicker","light","dark","system","Definitions","Layout","init","INITIAL_STATE","keyboardReducer","combineReducers","behaviorsReducer","combosReducer","layersReducer","macrosReducer","configureStore","reducer","newState","newKeyboardState","pick","selectKeyboard","newKeymapState","unsaved","keymapSaveSuccess","themes","indexOf","at","dataset","cycleTheme","appReducer","preloadedState","render","store","DEFAULT_SIZE","DEFAULT_PADDING","getComputedParams","size","rotation","getKeyStyles","transformOrigin","transform","point","angle","PI","cos","sin","transformed","xValues","yValues","min","shortestAlias","aliases","sort","b","fnPattern","keycode","symbol","faIcon","names","fnCode","base","isModifier","split","basic","platforms","mac","win","overlay","parsedParams","firstParsedParam","commands","SearchContext","___CSS_LOADER_EXPORT___","module","locals"],"sourceRoot":""}